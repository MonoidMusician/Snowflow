(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function Sr(e){let n=0,t;return()=>{if(n===2)return t;if(n===1)throw new Error("Binding demanded before initialized");return n=1,t=e(),n=2,t}}function*Kt(e,n){for(let t=e;t<n;t++)yield t}function g(){throw new Error("Failed pattern match")}const Qo=function(e){return function(n){return{}.hasOwnProperty.call(n,e)}},dt=function(e){return function(n){return n[e]}},Ho=function(e){return function(n){return function(t){var r={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r[e]=n,r}}},Vo=()=>({tag:"Proxy"}),Cn=Vo();var gt=function(e){return function(n){return e===n}};const jo=gt,Ko=gt,Yo=gt,Xo=function(e){return function(n){return function(t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(!e(n[r])(t[r]))return!1;return!0}}},Zo={eq:Yo},mt={eq:Ko},nu={eq:jo},ht=e=>({tag:e}),yt=ht("LT"),vt=ht("GT"),Je=ht("EQ");var $t=function(e){return function(n){return function(t){return function(r){return function(o){return r<o?e:r===o?n:t}}}}};const eu=$t,tu=$t,ru=$t,Tt={compare:ru(yt)(Je)(vt),Eq0:()=>Zo},he={compare:tu(yt)(Je)(vt),Eq0:()=>mt},bt={compare:eu(yt)(Je)(vt),Eq0:()=>nu},ou=()=>e=>{const n={eq:e.EqRecord0().eqRecord(Cn)};return{compare:e.compareRecord(Cn),Eq0:()=>n}},Nr=e=>n=>e,Me=e=>n=>n(e),uu={compose:e=>n=>t=>e(n(t))},gn=function(e){return function(n){for(var t=n.length,r=new Array(t),o=0;o<t;o++)r[o]=e(n[o]);return r}},wt={map:gn},iu=e=>e,kt=function(e){return function(n){for(var t=[],r=0,o=e.length;r<o;r++)Array.prototype.push.apply(t,n(e[r]));return t}},cu=e=>e,Ot=e=>(t=>{let r;return r})(),Lr=function(e){return e.toString()},In=function(e){var n=e.toString();return isNaN(n+".0")?n:n+".0"},O=(e,n)=>({tag:e,_1:n}),F=O("Nothing"),Dn=e=>O("Just",e),an=e=>n=>t=>{if(t.tag==="Nothing")return e;if(t.tag==="Just")return n(t._1);g()},Fr=e=>{if(e.tag==="Nothing")return!0;if(e.tag==="Just")return!1;g()},Nn=(e,n)=>({tag:e,_1:n}),su=e=>Nn("Left",e),au=e=>Nn("Right",e),Rr={map:e=>n=>{if(n.tag==="Left")return Nn("Left",n._1);if(n.tag==="Right")return Nn("Right",e(n._1));g()}},lu=e=>e,Ir={map:e=>n=>e(n)},Br={apply:e=>n=>e(n),Functor0:()=>Ir},fu={bind:e=>n=>n(e),Apply0:()=>Br},_u={pure:lu,Apply0:()=>Br},ae={Applicative0:()=>_u,Bind1:()=>fu},pu=function(e){return function(){return e}},du={apply:e=>n=>()=>{const t=e(),r=n();return At.pure(t(r))()},Functor0:()=>gu},At={pure:pu,Apply0:()=>du},gu={map:e=>n=>()=>{const t=n();return e(t)}},mu=function(e){return function(n){return function(){return e(n())}}},hu=function(e){return function(){return e}},yu={map:mu},vu={apply:e=>n=>()=>{const t=e(),r=n();return ve.pure(t(r))()},Functor0:()=>yu},ve={pure:hu,Apply0:()=>vu},$u=function(e){return function(n){return function(t){return function(r){return function(){return t>=0&&t<r.length?e(r[t]):n}}}}},Tu=function(e){return function(n){return function(t){return function(){var r=e>=0&&e<t.length;return r&&(t[e]=n),r}}}},Yt=function(e){return function(n){return function(t){return function(r){return function(){return r.splice.apply(r,[e,n].concat(t))}}}}},bu=function(e){return function(){return e}};function Pr(e){return function(){return e.slice()}}const Xt=Pr,wu=Pr,ku=$u(Dn)(F),Ou=e=>n=>t=>{const r=ku(e)(t);return()=>{const o=r();if(o.tag==="Just")return Tu(e)(n(o._1))(t)();if(o.tag==="Nothing")return!1;g()}},le=function(e){return function(n){return function(t){for(var r=n,o=t.length,i=o-1;i>=0;i--)r=e(t[i])(r);return r}}},$e=function(e){return function(n){return function(t){for(var r=n,o=t.length,i=0;i<o;i++)r=e(r)(t[i]);return r}}},xr=e=>e,qr=e=>{const n=e.Apply0(),t=n.Functor0().map;return r=>o=>r.foldr(i=>{const c=o(i);return s=>n.apply(t(l=>iu)(c))(s)})(e.pure())},We=e=>{const n=qr(e);return t=>{const r=n(t);return o=>i=>r(i)(o)}},Au=e=>n=>e.foldl(t=>r=>{if(t.tag==="Nothing")return O("Just",r);if(t.tag==="Just")return O("Just",n(t._1)(r).tag==="GT"?t._1:r);g()})(F),Jr={foldr:e=>n=>t=>{if(t.tag==="Nothing")return n;if(t.tag==="Just")return e(t._1)(n);g()},foldl:e=>n=>t=>{if(t.tag==="Nothing")return n;if(t.tag==="Just")return e(n)(t._1);g()},foldMap:e=>{const n=e.mempty;return t=>r=>{if(r.tag==="Nothing")return n;if(r.tag==="Just")return t(r._1);g()}}},qn={foldr:le,foldl:$e,foldMap:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>qn.foldr(o=>i=>n(r(o))(i))(t)}},Eu=function(e){return function(n){return e+n}},Mn=function(e){return function(n){return e.length===0?n:n.length===0?e:e.concat(n)}},Cu={append:Eu},Su={append:Mn},w=(e,n)=>({tag:"Tuple",_1:e,_2:n}),Wn=e=>n=>w(e,n),Et=e=>e._2,Nu=e=>{const n=e.one,t=e.zero;return r=>({add:o=>i=>w(e.add(o._1)(i._1),r.add(o._2)(i._2)),one:w(n,r.one),mul:o=>i=>w(e.mul(o._1)(i._1),r.mul(o._2)(i._2)),zero:w(t,r.zero)})},Mr={map:e=>n=>w(n._1,e(n._2))},Wr=e=>e._1,Dr=e=>({apply:n=>t=>w(e.append(n._1)(t._1),n._2(t._2)),Functor0:()=>Mr}),Lu=e=>{const n=Dr(e.Semigroup0());return{pure:Wn(e.mempty),Apply0:()=>n}},Fu=e=>e,Ru={bimap:e=>n=>t=>w(e(t._1),n(t._2))},Iu={map:e=>n=>t=>{const r=n(t);return{accum:r.accum,value:e(r.value)}}},Bu={apply:e=>n=>t=>{const r=e(t),o=n(r.accum);return{accum:o.accum,value:r.value(o.value)}},Functor0:()=>Iu},Pu={pure:e=>n=>({accum:n,value:e}),Apply0:()=>Bu},xu=function(){function e(o){return[o]}function n(o){return function(i){return[o,i]}}function t(o){return function(i){return function(c){return[o,i,c]}}}function r(o){return function(i){return o.concat(i)}}return function(o){return function(i){return function(c){return function(s){return function(l){function p(f,_){switch(_-f){case 0:return c([]);case 1:return i(e)(s(l[f]));case 2:return o(i(n)(s(l[f])))(s(l[f+1]));case 3:return o(o(i(t)(s(l[f])))(s(l[f+1])))(s(l[f+2]));default:var u=f+Math.floor((_-f)/4)*2;return o(i(r)(p(f,u)))(p(u,_))}}return p(0,l.length)}}}}}}(),qu=e=>e,Ct={traverse:e=>{const n=e.Apply0();return xu(n.apply)(n.Functor0().map)(e.pure)},sequence:e=>Ct.traverse(e)(qu),Functor0:()=>wt,Foldable1:()=>qn},zn=function(e){return function(n){for(var t=e>n?-1:1,r=new Array(t*(n-e)+1),o=e,i=0;o!==n;)r[i++]=o,o+=t;return r[i]=o,r}};var Ju=function(e){return function(n){if(e<1)return[];var t=new Array(e);return t.fill(n)}},Mu=function(e){return function(n){for(var t=[],r=0,o=0;o<e;o++)t[r++]=n;return t}};const De=typeof Array.prototype.fill=="function"?Ju:Mu,Wu=function(e){return function(n){return function(t){return function(r){return r<0||r>=t.length?n:e(t[r])}}}},Du=function(e){return function(n){return function(t){return function(r){for(var o=0,i=r.length;o<i;o++)if(t(r[o]))return e(o);return n}}}},zu=function(e){return function(n){return function(t){return function(r){if(t<0||t>=r.length)return n;var o=r.slice();return o.splice(t,1),e(o)}}}},zr=function(e){return e.slice().reverse()},Gu=function(e){return function(n){return n.filter(e)}},Zt=function(e){return function(n){return function(t){return t.slice(e,n)}}},Fn=function(e){return function(n){return function(t){for(var r=n.length<t.length?n.length:t.length,o=new Array(r),i=0;i<r;i++)o[i]=e(n[i])(t[i]);return o}}},Uu=e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>o=>$e(i=>c=>i.init?{init:!1,acc:c}:{init:!1,acc:n(i.acc)(n(r)(c))})({init:!0,acc:t})(o).acc},Gr=Wu(Dn)(F),Qu=Du(Dn)(F),Hu=zu(Dn)(F),Vu=e=>n=>t=>{if(t.length===0)return[];const r=Qu(e(n))(t);if(r.tag==="Nothing")return t;if(r.tag==="Just"){const o=Hu(r._1)(t);if(o.tag==="Just")return o._1;g()}g()},ju=e=>n=>kt(n)(e),Ku=e=>ju(n=>{const t=e(n);if(t.tag==="Nothing")return[];if(t.tag==="Just")return[t._1];g()}),Ur=(e,n)=>({tag:"NonEmpty",_1:e,_2:n}),tn=(e,n,t)=>({tag:e,_1:n,_2:t}),ue=tn("Nil"),Yu=e=>n=>tn("Cons",e,n),ye={foldr:e=>n=>{const t=ye.foldl(o=>i=>e(i)(o))(n),r=(()=>(i=>c=>{let s=i,l=c,p=!0,f;for(;p;){const _=s,u=l;if(u.tag==="Nil"){p=!1,f=_;continue}if(u.tag==="Cons"){s=tn("Cons",u._1,_),l=u._2;continue}g()}return f})(ue))();return o=>t(r(o))},foldl:e=>t=>r=>{let o=t,i=r,c=!0,s;for(;c;){const l=o,p=i;if(p.tag==="Nil"){c=!1,s=l;continue}if(p.tag==="Cons"){o=e(l)(p._1),i=p._2;continue}g()}return s},foldMap:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>ye.foldl(o=>{const i=n(o);return c=>i(r(c))})(t)}},Xu={append:e=>n=>Ur(e._1,ye.foldr(Yu)(tn("Cons",n._1,n._2))(e._2))},Zu=function(e){return function(n){return function(t){return function(r){return function(o){return function(i){for(var c=[],s=i;;){var l=o(s);c.push(t(l));var p=r(l);if(e(p))return c;s=n(p)}}}}}}},ni=e=>{if(e.tag==="Just")return e._1;g()},ei={unfoldr1:Zu(Fr)(ni)(Wr)(Et)},ti=function(e){return function(n){return function(t){return function(r){return function(o){return function(i){for(var c=[],s=i;;){var l=o(s);if(e(l))return c;var p=n(l);c.push(t(p)),s=r(p)}}}}}}},ri=e=>{if(e.tag==="Just")return e._1;g()},oi={unfoldr:ti(Fr)(ri)(Wr)(Et),Unfoldable10:()=>ei},wn=function(e){throw new Error(e)},Oe=(e,n,t,r)=>({tag:"KickUp",_1:e,_2:n,_3:t,_4:r}),E=(e,n,t,r,o,i,c,s)=>({tag:e,_1:n,_2:t,_3:r,_4:o,_5:i,_6:c,_7:s}),pn=(e,n,t,r,o,i,c)=>({tag:e,_1:n,_2:t,_3:r,_4:o,_5:i,_6:c}),un=E("Leaf"),ze=e=>n=>r=>{let o=r,i=!0,c;for(;i;){const s=o;if(s.tag==="Leaf"){i=!1,c=F;continue}if(s.tag==="Two"){const l=e.compare(n)(s._2);if(l.tag==="EQ"){i=!1,c=O("Just",s._3);continue}if(l.tag==="LT"){o=s._1;continue}o=s._4;continue}if(s.tag==="Three"){const l=e.compare(n)(s._2);if(l.tag==="EQ"){i=!1,c=O("Just",s._3);continue}const p=e.compare(n)(s._5);if(p.tag==="EQ"){i=!1,c=O("Just",s._6);continue}if(l.tag==="LT"){o=s._1;continue}if(p.tag==="GT"){o=s._7;continue}o=s._4;continue}g()}return c},vn=e=>n=>t=>{let r=n,o=t,i=!0,c;for(;i;){const s=r,l=o;if(s.tag==="Nil"){i=!1,c=l;continue}if(s.tag==="Cons"){if(s._1.tag==="TwoLeft"){r=s._2,o=E("Two",l,s._1._1,s._1._2,s._1._3);continue}if(s._1.tag==="TwoRight"){r=s._2,o=E("Two",s._1._1,s._1._2,s._1._3,l);continue}if(s._1.tag==="ThreeLeft"){r=s._2,o=E("Three",l,s._1._1,s._1._2,s._1._3,s._1._4,s._1._5,s._1._6);continue}if(s._1.tag==="ThreeMiddle"){r=s._2,o=E("Three",s._1._1,s._1._2,s._1._3,l,s._1._4,s._1._5,s._1._6);continue}if(s._1.tag==="ThreeRight"){r=s._2,o=E("Three",s._1._1,s._1._2,s._1._3,s._1._4,s._1._5,s._1._6,l);continue}g()}g()}return c},Qr=e=>n=>t=>{const r=i=>c=>{let s=i,l=c,p=!0,f;for(;p;){const _=s,u=l;if(_.tag==="Nil"){p=!1,f=E("Two",u._1,u._2,u._3,u._4);continue}if(_.tag==="Cons"){if(_._1.tag==="TwoLeft"){p=!1,f=vn()(_._2)(E("Three",u._1,u._2,u._3,u._4,_._1._1,_._1._2,_._1._3));continue}if(_._1.tag==="TwoRight"){p=!1,f=vn()(_._2)(E("Three",_._1._1,_._1._2,_._1._3,u._1,u._2,u._3,u._4));continue}if(_._1.tag==="ThreeLeft"){s=_._2,l=Oe(E("Two",u._1,u._2,u._3,u._4),_._1._1,_._1._2,E("Two",_._1._3,_._1._4,_._1._5,_._1._6));continue}if(_._1.tag==="ThreeMiddle"){s=_._2,l=Oe(E("Two",_._1._1,_._1._2,_._1._3,u._1),u._2,u._3,E("Two",u._4,_._1._4,_._1._5,_._1._6));continue}if(_._1.tag==="ThreeRight"){s=_._2,l=Oe(E("Two",_._1._1,_._1._2,_._1._3,_._1._4),_._1._5,_._1._6,E("Two",u._1,u._2,u._3,u._4));continue}g()}g()}return f};return(i=>c=>{let s=i,l=c,p=!0,f;for(;p;){const _=s,u=l;if(u.tag==="Leaf"){p=!1,f=r(_)(Oe(un,n,t,un));continue}if(u.tag==="Two"){const a=e.compare(n)(u._2);if(a.tag==="EQ"){p=!1,f=vn()(_)(E("Two",u._1,n,t,u._4));continue}if(a.tag==="LT"){s=tn("Cons",pn("TwoLeft",u._2,u._3,u._4),_),l=u._1;continue}s=tn("Cons",pn("TwoRight",u._1,u._2,u._3),_),l=u._4;continue}if(u.tag==="Three"){const a=e.compare(n)(u._2);if(a.tag==="EQ"){p=!1,f=vn()(_)(E("Three",u._1,n,t,u._4,u._5,u._6,u._7));continue}const d=e.compare(n)(u._5);if(d.tag==="EQ"){p=!1,f=vn()(_)(E("Three",u._1,u._2,u._3,u._4,n,t,u._7));continue}if(a.tag==="LT"){s=tn("Cons",pn("ThreeLeft",u._2,u._3,u._4,u._5,u._6,u._7),_),l=u._1;continue}if(a.tag==="GT"){if(d.tag==="LT"){s=tn("Cons",pn("ThreeMiddle",u._1,u._2,u._3,u._5,u._6,u._7),_),l=u._4;continue}s=tn("Cons",pn("ThreeRight",u._1,u._2,u._3,u._4,u._5,u._6),_),l=u._7;continue}s=tn("Cons",pn("ThreeRight",u._1,u._2,u._3,u._4,u._5,u._6),_),l=u._7;continue}g()}return f})(ue)},ui=e=>n=>{const t=c=>s=>{let l=c,p=s,f=!0,_;for(;f;){const u=l,a=p;if(u.tag==="Nil"){f=!1,_=a;continue}if(u.tag==="Cons"){const d=u._2,y=(j,G,q,R,K,J,Z,B,on,rn)=>vn()(d)(E("Two",E("Two",j,K,B,G),J,on,E("Two",q,Z,rn,R))),v=(j,G,q,R,K,J,Z,B,on,rn)=>vn()(d)(E("Two",E("Two",j,K,B,G),J,on,E("Two",q,Z,rn,R))),T=(j,G,q,R,K,J,Z,B,on,rn)=>vn()(d)(E("Two",E("Three",j,K,B,G,J,on,q),Z,rn,R)),b=(j,G,q,R,K,J,Z,B,on,rn)=>vn()(d)(E("Two",E("Three",j,K,B,G,J,on,q),Z,rn,R)),h=(j,G,q,R,K,J,Z,B,on,rn)=>vn()(d)(E("Two",j,K,B,E("Three",G,J,on,q,Z,rn,R))),A=(j,G,q,R,K,J,Z,B,on,rn)=>vn()(d)(E("Two",j,K,B,E("Three",G,J,on,q,Z,rn,R))),I=(j,G,q,R,K,J,Z,B,on,rn,x,H,m)=>vn()(d)(E("Three",E("Two",j,J,rn,G),Z,x,E("Two",q,B,H,R),on,m,K)),V=(j,G,q,R,K,J,Z,B,on,rn,x,H,m)=>vn()(d)(E("Three",E("Two",j,J,rn,G),Z,x,E("Two",q,B,H,R),on,m,K)),X=(j,G,q,R,K,J,Z,B,on,rn,x,H,m)=>vn()(d)(E("Three",j,J,rn,E("Two",G,Z,x,q),B,H,E("Two",R,on,m,K))),dn=(j,G,q,R,K,J,Z,B,on,rn,x,H,m)=>vn()(d)(E("Three",j,J,rn,E("Two",G,Z,x,q),B,H,E("Two",R,on,m,K)));if(a.tag==="Leaf"){if(u._1.tag==="TwoLeft"){if(u._1._3.tag==="Leaf"){f=!1,_=vn()(d)(E("Two",un,u._1._1,u._1._2,un));continue}if(u._1._3.tag==="Two"){l=d,p=E("Three",a,u._1._1,u._1._2,u._1._3._1,u._1._3._2,u._1._3._3,u._1._3._4);continue}if(u._1._3.tag==="Three"){f=!1,_=y(a,u._1._3._1,u._1._3._4,u._1._3._7,u._1._1,u._1._3._2,u._1._3._5,u._1._2,u._1._3._3,u._1._3._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="TwoRight"){if(u._1._1.tag==="Leaf"){f=!1,_=vn()(d)(E("Two",un,u._1._2,u._1._3,un));continue}if(u._1._1.tag==="Two"){l=d,p=E("Three",u._1._1._1,u._1._1._2,u._1._1._3,u._1._1._4,u._1._2,u._1._3,a);continue}if(u._1._1.tag==="Three"){f=!1,_=v(u._1._1._1,u._1._1._4,u._1._1._7,a,u._1._1._2,u._1._1._5,u._1._2,u._1._1._3,u._1._1._6,u._1._3);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeLeft"){if(u._1._6.tag==="Leaf"){if(u._1._3.tag==="Leaf"){f=!1,_=vn()(d)(E("Three",un,u._1._1,u._1._2,un,u._1._4,u._1._5,un));continue}if(u._1._3.tag==="Two"){f=!1,_=T(a,u._1._3._1,u._1._3._4,u._1._6,u._1._1,u._1._3._2,u._1._4,u._1._2,u._1._3._3,u._1._5);continue}if(u._1._3.tag==="Three"){f=!1,_=I(a,u._1._3._1,u._1._3._4,u._1._3._7,u._1._6,u._1._1,u._1._3._2,u._1._3._5,u._1._4,u._1._2,u._1._3._3,u._1._3._6,u._1._5);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1._3.tag==="Two"){f=!1,_=T(a,u._1._3._1,u._1._3._4,u._1._6,u._1._1,u._1._3._2,u._1._4,u._1._2,u._1._3._3,u._1._5);continue}if(u._1._3.tag==="Three"){f=!1,_=I(a,u._1._3._1,u._1._3._4,u._1._3._7,u._1._6,u._1._1,u._1._3._2,u._1._3._5,u._1._4,u._1._2,u._1._3._3,u._1._3._6,u._1._5);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeMiddle"){if(u._1._1.tag==="Leaf"){if(u._1._6.tag==="Leaf"){f=!1,_=vn()(d)(E("Three",un,u._1._2,u._1._3,un,u._1._4,u._1._5,un));continue}if(u._1._6.tag==="Two"){f=!1,_=h(u._1._1,a,u._1._6._1,u._1._6._4,u._1._2,u._1._4,u._1._6._2,u._1._3,u._1._5,u._1._6._3);continue}if(u._1._6.tag==="Three"){f=!1,_=X(u._1._1,a,u._1._6._1,u._1._6._4,u._1._6._7,u._1._2,u._1._4,u._1._6._2,u._1._6._5,u._1._3,u._1._5,u._1._6._3,u._1._6._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1._1.tag==="Two"){f=!1,_=b(u._1._1._1,u._1._1._4,a,u._1._6,u._1._1._2,u._1._2,u._1._4,u._1._1._3,u._1._3,u._1._5);continue}if(u._1._6.tag==="Two"){f=!1,_=h(u._1._1,a,u._1._6._1,u._1._6._4,u._1._2,u._1._4,u._1._6._2,u._1._3,u._1._5,u._1._6._3);continue}if(u._1._1.tag==="Three"){f=!1,_=V(u._1._1._1,u._1._1._4,u._1._1._7,a,u._1._6,u._1._1._2,u._1._1._5,u._1._2,u._1._4,u._1._1._3,u._1._1._6,u._1._3,u._1._5);continue}if(u._1._6.tag==="Three"){f=!1,_=X(u._1._1,a,u._1._6._1,u._1._6._4,u._1._6._7,u._1._2,u._1._4,u._1._6._2,u._1._6._5,u._1._3,u._1._5,u._1._6._3,u._1._6._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeRight"){if(u._1._1.tag==="Leaf"){if(u._1._4.tag==="Leaf"){f=!1,_=vn()(d)(E("Three",un,u._1._2,u._1._3,un,u._1._5,u._1._6,un));continue}if(u._1._4.tag==="Two"){f=!1,_=A(u._1._1,u._1._4._1,u._1._4._4,a,u._1._2,u._1._4._2,u._1._5,u._1._3,u._1._4._3,u._1._6);continue}if(u._1._4.tag==="Three"){f=!1,_=dn(u._1._1,u._1._4._1,u._1._4._4,u._1._4._7,a,u._1._2,u._1._4._2,u._1._4._5,u._1._5,u._1._3,u._1._4._3,u._1._4._6,u._1._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1._4.tag==="Two"){f=!1,_=A(u._1._1,u._1._4._1,u._1._4._4,a,u._1._2,u._1._4._2,u._1._5,u._1._3,u._1._4._3,u._1._6);continue}if(u._1._4.tag==="Three"){f=!1,_=dn(u._1._1,u._1._4._1,u._1._4._4,u._1._4._7,a,u._1._2,u._1._4._2,u._1._4._5,u._1._5,u._1._3,u._1._4._3,u._1._4._6,u._1._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="TwoLeft"){if(u._1._3.tag==="Two"){l=d,p=E("Three",a,u._1._1,u._1._2,u._1._3._1,u._1._3._2,u._1._3._3,u._1._3._4);continue}if(u._1._3.tag==="Three"){f=!1,_=y(a,u._1._3._1,u._1._3._4,u._1._3._7,u._1._1,u._1._3._2,u._1._3._5,u._1._2,u._1._3._3,u._1._3._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="TwoRight"){if(u._1._1.tag==="Two"){l=d,p=E("Three",u._1._1._1,u._1._1._2,u._1._1._3,u._1._1._4,u._1._2,u._1._3,a);continue}if(u._1._1.tag==="Three"){f=!1,_=v(u._1._1._1,u._1._1._4,u._1._1._7,a,u._1._1._2,u._1._1._5,u._1._2,u._1._1._3,u._1._1._6,u._1._3);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeLeft"){if(u._1._3.tag==="Two"){f=!1,_=T(a,u._1._3._1,u._1._3._4,u._1._6,u._1._1,u._1._3._2,u._1._4,u._1._2,u._1._3._3,u._1._5);continue}if(u._1._3.tag==="Three"){f=!1,_=I(a,u._1._3._1,u._1._3._4,u._1._3._7,u._1._6,u._1._1,u._1._3._2,u._1._3._5,u._1._4,u._1._2,u._1._3._3,u._1._3._6,u._1._5);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeMiddle"){if(u._1._1.tag==="Two"){f=!1,_=b(u._1._1._1,u._1._1._4,a,u._1._6,u._1._1._2,u._1._2,u._1._4,u._1._1._3,u._1._3,u._1._5);continue}if(u._1._6.tag==="Two"){f=!1,_=h(u._1._1,a,u._1._6._1,u._1._6._4,u._1._2,u._1._4,u._1._6._2,u._1._3,u._1._5,u._1._6._3);continue}if(u._1._1.tag==="Three"){f=!1,_=V(u._1._1._1,u._1._1._4,u._1._1._7,a,u._1._6,u._1._1._2,u._1._1._5,u._1._2,u._1._4,u._1._1._3,u._1._1._6,u._1._3,u._1._5);continue}if(u._1._6.tag==="Three"){f=!1,_=X(u._1._1,a,u._1._6._1,u._1._6._4,u._1._6._7,u._1._2,u._1._4,u._1._6._2,u._1._6._5,u._1._3,u._1._5,u._1._6._3,u._1._6._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeRight"){if(u._1._4.tag==="Two"){f=!1,_=A(u._1._1,u._1._4._1,u._1._4._4,a,u._1._2,u._1._4._2,u._1._5,u._1._3,u._1._4._3,u._1._6);continue}if(u._1._4.tag==="Three"){f=!1,_=dn(u._1._1,u._1._4._1,u._1._4._4,u._1._4._7,a,u._1._2,u._1._4._2,u._1._4._5,u._1._5,u._1._3,u._1._4._3,u._1._4._6,u._1._6);continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}f=!1,_=wn("The impossible happened in partial function `up`.");continue}g()}return _},r=c=>s=>{let l=c,p=s,f=!0,_;for(;f;){const u=l,a=p;if(a.tag==="Two"){if(a._1.tag==="Leaf"){if(a._4.tag==="Leaf"){f=!1,_=t(u)(un);continue}l=tn("Cons",pn("TwoRight",a._1,a._2,a._3),u),p=a._4;continue}l=tn("Cons",pn("TwoRight",a._1,a._2,a._3),u),p=a._4;continue}if(a.tag==="Three"){if(a._1.tag==="Leaf"){if(a._4.tag==="Leaf"){if(a._7.tag==="Leaf"){f=!1,_=t(tn("Cons",pn("TwoRight",un,a._2,a._3),u))(un);continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}f=!1,_=wn("The impossible happened in partial function `removeMaxNode`.")}return _},o=c=>{let s=c,l=!0,p;for(;l;){const f=s;if(f.tag==="Two"){if(f._4.tag==="Leaf"){l=!1,p={key:f._2,value:f._3};continue}s=f._4;continue}if(f.tag==="Three"){if(f._7.tag==="Leaf"){l=!1,p={key:f._5,value:f._6};continue}s=f._7;continue}l=!1,p=wn("The impossible happened in partial function `maxNode`.")}return p};return(c=>s=>{let l=c,p=s,f=!0,_;for(;f;){const u=l,a=p;if(a.tag==="Leaf"){f=!1,_=F;continue}if(a.tag==="Two"){const d=e.compare(n)(a._2);if(d.tag==="EQ"){if(a._4.tag==="Leaf"){f=!1,_=O("Just",w(a._3,t(u)(un)));continue}const y=o(a._1);f=!1,_=O("Just",w(a._3,r(tn("Cons",pn("TwoLeft",y.key,y.value,a._4),u))(a._1)));continue}if(d.tag==="LT"){l=tn("Cons",pn("TwoLeft",a._2,a._3,a._4),u),p=a._1;continue}l=tn("Cons",pn("TwoRight",a._1,a._2,a._3),u),p=a._4;continue}if(a.tag==="Three"){const d=e.compare(n)(a._5),y=e.compare(n)(a._2);if((()=>a._1.tag==="Leaf"&&a._4.tag==="Leaf"?a._7.tag==="Leaf":!1)()){if(y.tag==="EQ"){f=!1,_=O("Just",w(a._3,vn()(u)(E("Two",un,a._5,a._6,un))));continue}if(d.tag==="EQ"){f=!1,_=O("Just",w(a._6,vn()(u)(E("Two",un,a._2,a._3,un))));continue}if(y.tag==="LT"){l=tn("Cons",pn("ThreeLeft",a._2,a._3,a._4,a._5,a._6,a._7),u),p=a._1;continue}if(y.tag==="GT"){if(d.tag==="LT"){l=tn("Cons",pn("ThreeMiddle",a._1,a._2,a._3,a._5,a._6,a._7),u),p=a._4;continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}if(y.tag==="EQ"){const v=o(a._1);f=!1,_=O("Just",w(a._3,r(tn("Cons",pn("ThreeLeft",v.key,v.value,a._4,a._5,a._6,a._7),u))(a._1)));continue}if(d.tag==="EQ"){const v=o(a._4);f=!1,_=O("Just",w(a._6,r(tn("Cons",pn("ThreeMiddle",a._1,a._2,a._3,v.key,v.value,a._7),u))(a._4)));continue}if(y.tag==="LT"){l=tn("Cons",pn("ThreeLeft",a._2,a._3,a._4,a._5,a._6,a._7),u),p=a._1;continue}if(y.tag==="GT"){if(d.tag==="LT"){l=tn("Cons",pn("ThreeMiddle",a._1,a._2,a._3,a._5,a._6,a._7),u),p=a._4;continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}l=tn("Cons",pn("ThreeRight",a._1,a._2,a._3,a._4,a._5,a._6),u),p=a._7;continue}g()}return _})(ue)},En={foldr:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return En.foldr(e)(e(t._3)(En.foldr(e)(n)(t._4)))(t._1);if(t.tag==="Three")return En.foldr(e)(e(t._3)(En.foldr(e)(e(t._6)(En.foldr(e)(n)(t._7)))(t._4)))(t._1);g()},foldl:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return En.foldl(e)(e(En.foldl(e)(n)(t._1))(t._3))(t._4);if(t.tag==="Three")return En.foldl(e)(e(En.foldl(e)(e(En.foldl(e)(n)(t._1))(t._3))(t._4))(t._6))(t._7);g()},foldMap:e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>o=>{if(o.tag==="Leaf")return n;if(o.tag==="Two")return t(En.foldMap(e)(r)(o._1))(t(r(o._3))(En.foldMap(e)(r)(o._4)));if(o.tag==="Three")return t(En.foldMap(e)(r)(o._1))(t(r(o._3))(t(En.foldMap(e)(r)(o._4))(t(r(o._6))(En.foldMap(e)(r)(o._7)))));g()}}},kn={foldrWithIndex:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return kn.foldrWithIndex(e)(e(t._2)(t._3)(kn.foldrWithIndex(e)(n)(t._4)))(t._1);if(t.tag==="Three")return kn.foldrWithIndex(e)(e(t._2)(t._3)(kn.foldrWithIndex(e)(e(t._5)(t._6)(kn.foldrWithIndex(e)(n)(t._7)))(t._4)))(t._1);g()},foldlWithIndex:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return kn.foldlWithIndex(e)(e(t._2)(kn.foldlWithIndex(e)(n)(t._1))(t._3))(t._4);if(t.tag==="Three")return kn.foldlWithIndex(e)(e(t._5)(kn.foldlWithIndex(e)(e(t._2)(kn.foldlWithIndex(e)(n)(t._1))(t._3))(t._4))(t._6))(t._7);g()},foldMapWithIndex:e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>o=>{if(o.tag==="Leaf")return n;if(o.tag==="Two")return t(kn.foldMapWithIndex(e)(r)(o._1))(t(r(o._2)(o._3))(kn.foldMapWithIndex(e)(r)(o._4)));if(o.tag==="Three")return t(kn.foldMapWithIndex(e)(r)(o._1))(t(r(o._2)(o._3))(t(kn.foldMapWithIndex(e)(r)(o._4))(t(r(o._5)(o._6))(kn.foldMapWithIndex(e)(r)(o._7)))));g()}},Foldable0:()=>En},Hr=e=>n=>t=>{const r=ui(e)(n)(t);if(r.tag==="Nothing")return t;if(r.tag==="Just")return r._1._2;g()},ut=e=>n=>t=>r=>{const o=n(ze(e)(t)(r));if(o.tag==="Nothing")return Hr(e)(t)(r);if(o.tag==="Just")return Qr(e)(t)(o._1)(r);g()},ii=e=>n=>t=>r=>kn.foldlWithIndex(o=>i=>c=>ut(e)((()=>{const s=n(c);return l=>O("Just",(()=>{if(l.tag==="Nothing")return c;if(l.tag==="Just")return s(l._1);g()})())})())(o)(i))(r)(t),ci={foldMap:e=>{const n=ye.foldMap(e);return t=>{const r=n(t);return o=>r(kn.foldrWithIndex(i=>c=>s=>tn("Cons",i,s))(ue)(o))}},foldl:e=>n=>{const t=(()=>(o=>i=>{let c=o,s=i,l=!0,p;for(;l;){const f=c,_=s;if(_.tag==="Nil"){l=!1,p=f;continue}if(_.tag==="Cons"){c=e(f)(_._1),s=_._2;continue}g()}return p})(n))();return r=>t(kn.foldrWithIndex(o=>i=>c=>tn("Cons",o,c))(ue)(r))},foldr:e=>n=>{const t=ye.foldr(e)(n);return r=>t(kn.foldrWithIndex(o=>i=>c=>tn("Cons",o,c))(ue)(r))}};function Vr(e){return function(n){return function(){return setTimeout(n,e)}}}function si(e){return function(){clearTimeout(e)}}const ai={eq:e=>n=>e===n},nr={compare:e=>n=>bt.compare(e)(n),Eq0:()=>ai};function li(e){return function(n){return e===n}}const it=(e,n)=>{for(var t=0,r=e.length;t<r;t++)n(e[t])},jr=(e,n)=>{for(const t in e)n(e[t])},Kr=()=>({}),Yr=(e,n,t)=>{t[e]=n},Xr=(e,n)=>{delete n[e]},Zr=We(At),Re=Zr(Jr),no=e=>{},fi=Zr(ci),St=e=>n=>(t,r)=>{let o=F;const i=e(t,s=>o=O("Just",s)),c=n(t,s=>Re(o)(p=>{const f=s(p);return()=>r(f)})());return()=>(i(),c())},_i=e=>n=>(t,r)=>{let o=F;const i=e(t,s=>Re(o)(p=>{const f=p(s);return()=>r(f)})()),c=n(t,s=>o=O("Just",s));return()=>(i(),c())},pi=e=>(n,t)=>{let r=()=>{};const o=e(n,i=>(r(),r=i(n,t)));return()=>(r(),o())},Te={map:e=>n=>(t,r)=>n(t,o=>{const i=e(o);return r(i)})},di=e=>n=>(t,r)=>n(t,o=>{const i=e(o);if(i.tag==="Just"){const c=i._1;return r(c)}i.tag!=="Nothing"&&g()}),gi=e=>n=>(t,r)=>n(t,o=>{if(e(o))return r(o)}),Ce=()=>{const e=Kr();let n=0;return{event:(t,r)=>{const o={value:r},i=n;return Yr(i,o,e),n=n+1|0,()=>{o.value=no,Xr(i,e)}},push:t=>jr(e,r=>{const o=r.value;return o(t)})}},mi=e=>(n,t)=>{const r=Ce(),o=r.event(n,t),i=e(r.event)(n,r.push);return()=>(i(),o())},hi={compact:e=>(n,t)=>e(n,r=>{if(r.tag==="Just"){const o=r._1;return t(o)}r.tag!=="Nothing"&&g()}),separate:e=>({left:(n,t)=>e(n,r=>{if(r.tag==="Left"){const o=r._1;return t(o)}r.tag!=="Right"&&g()}),right:(n,t)=>e(n,r=>{if(r.tag==="Right"){const o=r._1;return t(o)}r.tag!=="Left"&&g()})})},ct={filter:gi,filterMap:di,partition:e=>n=>({yes:(t,r)=>n(t,o=>{if(e(o))return r(o)}),no:(t,r)=>n(t,o=>{if(!e(o))return r(o)})}),partitionMap:e=>n=>({left:ct.filterMap(t=>{const r=e(t);if(r.tag==="Left")return O("Just",r._1);if(r.tag==="Right")return F;g()})(n),right:ct.filterMap(t=>{const r=e(t);if(r.tag==="Left")return F;if(r.tag==="Right")return O("Just",r._1);g()})(n)}),Compactable0:()=>hi,Functor1:()=>Te},yi=e=>n=>(t,r)=>{let o=F;const i=[];let c=F;const s=[];let l=!0;const p=e(t,a=>{if(l){i.push(a);return}return o=O("Just",a),Re(c)(v=>{const T=v(a);return()=>r(T)})()}),f=n(t,a=>{if(l){s.push(a);return}return c=O("Just",a),Re(o)(v=>{const T=a(v);return()=>r(T)})()});l=!1;const _=Xt(i)(),u=Xt(s)();return _.length===0?c=Gr(u)(u.length-1|0):it(_,a=>(o=O("Just",a),it(u,d=>(c=O("Just",d),r(d(a)))))),Yt(0)(_.length)([])(i)(),Yt(0)(u.length)([])(s)(),()=>(p(),f())},Se=Sr(()=>{const e=()=>{const n=Kr();let t=0;return{event:(r,o)=>{const i={value:o},c=t;return Yr(c,i,n),t=t+1|0,()=>{i.value=no,Xr(c,n)}},push:r=>()=>jr(n,o=>{const i=o.value;return i(r)})}};return{createO:Ce,makeEvent:n=>(t,r)=>t?()=>{}:n(o=>()=>r(o))(),makeEventO:n=>(t,r)=>t?()=>{}:n(r),makePureEvent:n=>(t,r)=>n(o=>()=>r(o))(),makeLemmingEvent:n=>(t,r)=>n(o=>i=>()=>o(t,c=>i(c)()))(o=>()=>r(o))(),makeLemmingEventO:n=>(t,r)=>n((o,i)=>o(t,i),r),create:e,createPure:e,createPureO:Ce,subscribe:n=>t=>()=>n(!1,r=>t(r)()),subscribeO:(n,t)=>n(!1,t),subscribePureO:(n,t)=>n(!0,t),subscribePure:n=>t=>()=>n(!0,r=>t(r)()),bus:n=>(t,r)=>{const o=Se().create();return r(n(o.push)(o.event)),()=>{}},memoize:n=>t=>(r,o)=>{const i=Ce();return o(t(i.event)),n(r,i.push)},hot:n=>()=>{const t=Se().create(),r=Se().subscribe(n)(t.push)();return{event:t.event,unsubscribe:r}},mailboxed:n=>t=>r=>(o,i)=>{let c=un;i(r(l=>(p,f)=>{c=ut(n)(d=>{if(d.tag==="Nothing")return O("Just",[f]);if(d.tag==="Just")return O("Just",Mn(d._1)([f]));g()})(l)(c);const a=ut(n)(d=>{if(d.tag==="Nothing")return F;if(d.tag==="Just")return O("Just",Vu(li)(f)(d._1));g()})(l);return()=>{c=a(c)}}));const s=t(o,l=>{const p=l.address,f=l.payload,_=c,u=ze(n)(p)(_);if(u.tag!=="Nothing"){if(u.tag==="Just")return it(u._1,a=>a(f));g()}});return()=>(c=un,s())},delay:n=>t=>(r,o)=>{let i=un;const c=t(r,s=>{let l=F;const p=Vr(n)(()=>{o(s);const _=l;if(_.tag!=="Nothing"){if(_.tag==="Just"){const u=i;i=Hr(nr)(_._1)(u);return}g()}})();l=O("Just",p);const f=i;i=ii(nr)(Nr)(E("Two",un,p,void 0,un))(f)});return()=>(fi(i)(si)(),c())}}}),cn=Se(),Ie={apply:e=>n=>yi(e)((t,r)=>n(t,o=>r(Me(o)))),Functor0:()=>Te},vi={pure:e=>(n,t)=>(t(e),()=>{}),Apply0:()=>Ie},be={alt:e=>n=>(t,r)=>{const o=e(t,r),i=n(t,r);return()=>(o(),i())},Functor0:()=>Te},Sn={empty:(e,n)=>()=>{},Alt0:()=>be},$i={Applicative0:()=>vi,Plus1:()=>Sn},we={keepLatest:pi,sampleOnRight:St,sampleOnLeft:_i,fix:mi,Alternative0:()=>$i,Filterable1:()=>ct},Nt=(e,n)=>({tag:e,_1:n}),z=(e,n)=>({tag:e,_1:n}),Be=(e,n)=>({tag:e,_1:n}),eo=Nt("Remove"),to={eq:e=>n=>e.tag==="Local"?n.tag==="Local"?e._1===n._1:!1:e.tag==="Global"?n.tag==="Global":!1},Ti=e=>z("FixedChildren'",e),ro=e=>({map:n=>t=>r=>e.map(o=>w(n(o._1),o._2))(t(r))}),Lt=e=>{const n=e.Bind1().bind;return{bind:t=>r=>o=>n(t(o))(i=>r(i._1)(i._2)),Apply0:()=>Ft(e)}},Ft=e=>{const n=ro(e.Bind1().Apply0().Functor0());return{apply:(()=>{const t=Lt(e).bind,r=oo(e).pure;return o=>i=>t(o)(c=>t(i)(s=>r(c(s))))})(),Functor0:()=>n}},oo=e=>{const n=e.Applicative0().pure;return{pure:t=>r=>n(w(t,r)),Apply0:()=>Ft(e)}},uo=e=>{const n=e.Applicative0().pure,t={Applicative0:()=>oo(e),Bind1:()=>Lt(e)};return{state:r=>o=>n(r(o)),Monad0:()=>t}};function Rt(e,n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);for(var o in e)({}).hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}function bi(e){return function(n){return function(t){return t[e]=n,t}}}const wi=()=>()=>e=>n=>t=>r=>bi(e.reflectSymbol(n))(t)(r),ki=e=>e,It={convertRecordOptions:e=>n=>t=>ki},ie=e=>n=>()=>()=>()=>t=>({convertRecordOptions:r=>o=>i=>{const c=wi()()(t)(Cn)(n.convertOption(r)(Cn)(dt(t.reflectSymbol(Cn))(i))),s=e.convertRecordOptions(r)(Cn)(i);return l=>c(s(l))}}),Xe=(e,n,t)=>({tag:e,_1:n,_2:t}),Bt={align:e=>n=>t=>t.length===0?gn(r=>e(Xe("This",r)))(n):n.length===0?gn(r=>e(Xe("That",r)))(t):Mn(Fn(r=>o=>e(Xe("Both",r,o)))(n)(t))(Bt.align(e)((()=>{const r=t.length;return r<1?n:Zt(r)(n.length)(n)})())((()=>{const r=n.length;return r<1?t:Zt(r)(t.length)(t)})())),Functor0:()=>wt},Qn=function(e){return function(n){for(var t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e(o)(n[o]);return r}},Oi={mapWithIndex:Qn,Functor0:()=>wt},Ge={foldrWithIndex:e=>n=>{const t=le(o=>{const i=o._1,c=o._2;return s=>e(i)(c)(s)})(n),r=Qn(Wn);return o=>t(r(o))},foldlWithIndex:e=>n=>{const t=$e(o=>i=>e(i._1)(o)(i._2))(n),r=Qn(Wn);return o=>t(r(o))},foldMapWithIndex:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>Ge.foldrWithIndex(o=>i=>c=>n(r(o)(i))(c))(t)},Foldable0:()=>qn},st={traverseWithIndex:e=>{const n=st.FunctorWithIndex0().mapWithIndex,t=st.Traversable2().sequence(e);return r=>{const o=n(r);return i=>t(o(i))}},FunctorWithIndex0:()=>Oi,FoldableWithIndex1:()=>Ge,Traversable2:()=>Ct},Ai=e=>{const n=e.traverseWithIndex(Pu);return t=>r=>o=>n(i=>c=>s=>t(i)(s)(c))(o)(r)},Ei=function(e){return function(n){for(var t=n[n.length-1],r=n.length-2;r>=0;r--)t=e(n[r])(t);return t}},Ci=function(e){return function(n){for(var t=n[0],r=n.length,o=1;o<r;o++)t=e(t)(n[o]);return t}},io={foldMap1:e=>{const n=e.append;return t=>{const r=gn(t),o=io.foldl1(n);return i=>o(r(i))}},foldr1:Ei,foldl1:Ci,Foldable0:()=>qn};function Pt(e,n,t){return e==null?n:t(e)}function Si(e){for(var n=e.length,t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t}const Ue=function(e){return function(n){return e+n}},co=function(e){return function(n){return e*n}},er={add:Ue,zero:0,mul:co,one:1},Ni=function(e){return function(n){return e-n}},at=function(e){return function(n){return n===0?0:n>0?Math.floor(e/n):-Math.floor(e/-n)}},se=function(e){return function(n){if(n===0)return 0;var t=Math.abs(n);return(e%t+t)%t}},Li=function(e){return!e},Fi=isFinite,tr=Math.abs,Ri=Math.cos,xt=Math.floor,Pe=Math.log,Ne=function(e){return function(n){return Math.pow(e,n)}},Qe=function(e){return function(n){return e%n}},Ii=Math.round,Bi=Math.sin,Xn=Math.sqrt,Pi=function(e){return function(n){return function(t){return(t|0)===t?e(t):n}}},bn=function(e){return e},xi=function(e){return function(n){return n.toString(e)}},so=function(e){return function(n){return Math.pow(e,n)|0}},ao=Pi(Dn)(F),He=e=>{if(!Fi(e))return 0;if(e>=bn(2147483647))return 2147483647;if(e<=bn(-2147483648))return-2147483648;const n=ao(e);if(n.tag==="Nothing")return 0;if(n.tag==="Just")return n._1;g()},qi=e=>n=>t=>{const r=t.Profunctor0().dimap;return o=>r(i=>w(e(i),c=>n(i)(c)))(i=>i._2(i._1))(t.first(o))},Ji=e=>()=>n=>t=>dt(e.reflectSymbol(n))(t),ee=e=>()=>()=>n=>t=>qi(Ji(e)()(n))(r=>o=>Ho(e.reflectSymbol(n))(o)(r))(t),Mi=e=>{const n=e.Monad0().Bind1().Apply0().Functor0().map(t=>{});return t=>r=>n((()=>{const o=t(r);return e.state(i=>{const c=o(i);return w(c,c)})})())},Wi=e=>{const n=e.Monad0().Bind1().Apply0().Functor0().map(t=>{});return t=>r=>n((()=>{const o=t(i=>r);return e.state(i=>{const c=o(i);return w(c,c)})})())},qt={mempty:"",Semigroup0:()=>Cu},lo={mempty:[],Semigroup0:()=>Su},Di=e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>{const o=i=>{if(i<=0)return n;if(i===1)return r;if(se(i)(2)===0){const s=o(at(i)(2));return t(s)(s)}const c=o(at(i)(2));return t(c)(t(c)(r))};return o}},zi={dimap:e=>n=>t=>r=>n(t(e(r)))},te=(()=>({first:e=>n=>w(e(n._1),n._2),second:Mr.map,Profunctor0:()=>zi}))();function de(e){return e.charCodeAt(0)}const ge=function(e){return function(n){if(e>=0&&e<n.length)return n.charAt(e);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},fo=function(e){return e.length},rr=function(e){return function(n){return n.substring(e)}};var Gi=typeof Array.from=="function",Ui=typeof String.prototype.codePointAt=="function";const Qi=function(e){return Ui?function(n){return n.codePointAt(0)}:e},Hi=function(e){return function(n){return Gi?function(t){return Array.from(t,n)}:e}},Vi=e=>{const n=fo(e);if(n===0)return F;if(n===1)return O("Just",{head:de(ge(0)(e)),tail:""});const t=de(ge(1)(e)),r=de(ge(0)(e));return 55296<=r&&r<=56319&&56320<=t&&t<=57343?O("Just",{head:(((r-55296|0)*1024|0)+(t-56320|0)|0)+65536|0,tail:rr(2)(e)}):O("Just",{head:r,tail:rr(1)(e)})},ji=e=>{const n=Vi(e);return n.tag==="Just"?O("Just",w(n._1.head,n._1.tail)):F},Ki=e=>oi.unfoldr(ji)(e),Yi=e=>{const n=de(ge(0)(e));if(55296<=n&&n<=56319&&fo(e)>1){const t=de(ge(1)(e));return 56320<=t&&t<=57343?(((n-55296|0)*1024|0)+(t-56320|0)|0)+65536|0:n}return n},Xi=Qi(Yi),Zi=Hi(Ki)(Xi);function nc(e){return e}function ec(e){return function(n){return e==n}}const nn=(e,n)=>({tag:e,_1:n}),_o=e=>e,tc=e=>{const n=e.Filterable1().Functor1().map;return t=>r=>e.sampleOnRight(t)(n(Me)(r))},rc=e=>{const n=e.Filterable1().Functor1().map;return t=>r=>e.sampleOnRight(t)(n(o=>_o)(r))},po=e=>{const n=e.Alternative0(),t=n.Plus1().Alt0().alt,r=n.Applicative0().pure,o=e.Filterable1().Functor1().map;return i=>c=>s=>e.fix(l=>e.sampleOnRight(t(l)(r(c)))(o(p=>f=>i(f)(p))(s)))},go=e=>{const n=e.Filterable1().filterMap,t=po(e);return r=>n(_o)(t(o=>i=>{if(o.tag==="Nothing")return O("Just",{now:i,last:F});if(o.tag==="Just")return O("Just",{now:i,last:O("Just",o._1.now)});g()})(F)(r))},oc={};function uc(e){return function(n){return function(t){return function(r){var o=t;function i(s){return function(l){return n(l)(s)(r[s])}}for(var c in r)hasOwnProperty.call(r,c)&&(o=e(o)(i(c)));return o}}}}const Ae=e=>n=>{const t={...n};return e(t)(),t},ic=uc(Me),Jt=e=>({tag:e}),mo=We(ve),cc=mo(Jr),sc=mo(qn),ac=e=>le(n=>{const t=e(n);return r=>(o,i)=>{const c=t(o,i),s=r(o,i);return()=>(c(),s())}})(Sn.empty),lc=qr(ve)(qn),fc=Jt("Begin"),_c=Jt("Middle"),pc=Jt("End"),ce=e=>n=>t=>r=>{if(r.tag==="FixedChildren'")return ac(ce(e)(n)(t))(r._1);if(r.tag==="EventfulElement'"){const o=ce(e)(n)(t);return(i,c)=>{let s=()=>{};const l=r._1(i,p=>{const f=o(p);return s(),s=f(i,c)});return()=>(s(),l())}}if(r.tag==="Element'")return e.toElt(r._1)(n)(t);if(r.tag==="DynamicChildren'"){const o=r._1;return cn.makeLemmingEventO((i,c)=>{let s=oc;const l=i(o,f=>{const _=e.ids(t)();let u=()=>{};const a=e.ids(t)();let d=()=>{},y=[],v=()=>{};const T=e.ids(t)();let b=fc;const h=i(f,V=>{const X=b;if(X.tag==="Middle"){if(V.tag==="Logic"){const dn=V._1,j=y;return lc(G=>{const q=e.doLogic(dn)(t)(G);return()=>c(q)})(j)()}if(V.tag==="Remove"){b=pc;const dn=()=>{sc(y)(J=>cc(n.parent)(Z=>{const B=e.disconnectElement(t)({id:J,parent:Z,scope:Be("Local",T)});return()=>c(B)}))(),u(),d();const R=s;s=Ae(J=>()=>(delete J[_],J))(R);const K=s;s=Ae(J=>()=>(delete J[a],J))(K)};return v=dn,dn()}return}if(V.tag==="Insert"){if(X.tag==="Begin"){b=_c;const dn=i(ce(e)({...n,scope:Be("Local",T),raiseId:G=>{const q=Mn([G]);return()=>{y=q(y)}}})(t)(V._1),c),j=s;s=Ae(G=>()=>(G[a]=dn,G))(j),d=dn;return}return}});u=h;const A=s;return s=Ae(V=>()=>(V[_]=h,V))(A),v()}),p=ic(f=>_=>u=>()=>(f(),u()))(()=>{});return()=>(p(s)(),l())})}g()},dc=(()=>le(be.alt)(Sn.empty))(),gc=e=>n=>{const t=r=>r.tag==="Element'"?z("Element'",o=>r._1({pos:e,dynFamily:o.dynFamily,ez:o.ez,parent:o.parent,raiseId:o.raiseId,scope:o.scope})):r.tag==="EventfulElement'"?z("EventfulElement'",(o,i)=>r._1(o,c=>{const s=t(c);return i(s)})):n;return t(n)},Gn=e=>gc(O("Just",e)),mc=()=>({doLogic:e=>n=>t=>n.sendToPos({id:t,pos:e}),ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectElement({id:n.id,scope:n.scope,parent:n.parent,scopeEq:to.eq}),toElt:e=>e}),hc=mc(),yc=e=>n=>z("Element'",t=>r=>{const o=t.dynFamily,i=t.ez,c=r.ids,s=t.parent,l=t.pos,p=t.scope;return cn.makeLemmingEventO((f,_)=>{const u=c();t.raiseId(u)();const a=(()=>{if(s.tag==="Nothing"){const v=c();return w((()=>{const T=r.makeElement({id:v,parent:F,scope:p,tag:"div",pos:F,dynFamily:F});return(b,h)=>(h(T),()=>{})})(),v)}if(s.tag==="Just")return w(Sn.empty,s._1);g()})(),d=f(dc([a._1,(()=>{const v=r.makeDynBeacon({id:u,parent:O("Just",a._2),scope:p,dynFamily:o,pos:l});return(T,b)=>(b(v),()=>{})})(),(()=>{const v=r.attributeParent({id:u,parent:a._2,pos:l,dynFamily:o,ez:i});return(T,b)=>(b(v),()=>{})})(),ce(hc)({parent:O("Just",a._2),scope:p,ez:!1,raiseId:v=>()=>{},pos:F,dynFamily:O("Just",u)})(r)(e(n))]),_),y=r.removeDynBeacon({id:u});return()=>(_(y),d())})}),vc={append:e=>n=>yc(Ti)([e,n])},$c=(()=>({mempty:z("EventfulElement'",Sn.empty),Semigroup0:()=>vc}))(),ho=(()=>le(be.alt)(Sn.empty))(),or=e=>z("Element'",n=>t=>{const r=n.dynFamily,o=n.ez,i=t.ids,c=n.parent,s=n.pos,l=n.scope;return cn.makeLemmingEventO((p,f)=>{const _=i();n.raiseId(_)();const u=p(ho([(()=>{const d=t.makeText({id:_,parent:c,pos:s,scope:l,dynFamily:r});return(y,v)=>(v(d),()=>{})})(),(d,y)=>e(d,v=>{const T=t.setText({id:_,text:v});return y(T)}),(()=>{if(c.tag==="Nothing")return Sn.empty;if(c.tag==="Just"){const d=t.attributeParent({id:_,parent:c._1,pos:s,dynFamily:r,ez:o});return(y,v)=>(v(d),()=>{})}g()})()]),f),a=t.deleteFromCache({id:_});return()=>(f(a),u())})}),Tc=()=>({doLogic:e=>n=>t=>n.sendToPos({id:t,pos:e}),ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectElement({id:n.id,scope:n.scope,parent:n.parent,scopeEq:to.eq}),toElt:e=>e}),yo=Tc(),bc=e=>n=>t=>cn.makeLemmingEventO((r,o)=>{const i=t.makeRoot({id:"deku-root",root:e}),c=ce(yo)({parent:O("Just","deku-root"),scope:Be("Local","rootScope"),raiseId:s=>()=>{},ez:!0,pos:F,dynFamily:F})(t)(n);return r((s,l)=>{l(i);const p=c(s,l);return()=>p()},o)}),Un=e=>n=>t=>r=>o=>{const i=r.dynFamily,c=r.ez,s=o.ids,l=r.parent,p=r.pos,f=r.scope;return cn.makeLemmingEventO((_,u)=>{const a=s();r.raiseId(a)();const d=ho(Mn([(()=>{const b=o.makeElement({id:a,parent:l,scope:f,tag:e,pos:p,dynFamily:i});return(h,A)=>(A(b),()=>{})})(),(b,h)=>n(b,A=>{const I=(()=>{if(A.value.tag==="Prop'")return o.setProp({id:a,key:A.key,value:A.value._1});if(A.value.tag==="Cb'")return o.setCb({id:a,key:A.key,value:A.value._1});g()})();return h(I)})])((()=>{if(l.tag==="Nothing")return[];if(l.tag==="Just")return[(()=>{const b=o.attributeParent({id:a,parent:l._1,pos:p,dynFamily:i,ez:c});return(h,A)=>(A(b),()=>{})})()];g()})())),y=ce(yo)({parent:O("Just",a),scope:f,ez:!0,raiseId:b=>()=>{},pos:F,dynFamily:F})(o)(t),v=_((b,h)=>{const A=d(b,h),I=y(b,h);return()=>(A(),I())},u),T=o.deleteFromCache({id:a});return()=>(u(T),v())})},wc=()=>({tag:"OnClick"}),kc=wc(),Oc={attr:e=>n=>({key:"click",value:nn("Cb'",t=>()=>(n(),!0))})},Ac=e=>n=>z("Element'",Un("defs")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),Ze=e=>n=>z("Element'",Un("div")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),Ec=e=>n=>z("Element'",Un("g")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),Cc=e=>n=>z("Element'",Un("hr")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),ur=e=>n=>z("Element'",Un("input")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),ir=e=>n=>z("Element'",Un("label")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),Sc=e=>n=>z("Element'",Un("linearGradient")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),Nc=e=>n=>z("Element'",Un("path")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),cr=e=>n=>z("Element'",Un("stop")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),Lc=e=>n=>z("Element'",Un("svg")(e)(z("FixedChildren'",Fn(Gn)(zn(0)(n.length-1|0))(n)))),sr=e=>n=>z("EventfulElement'",cn.bus(t=>r=>z("EventfulElement'",cn.memoize((o,i)=>{const c=r(o,i);return i(e),()=>{c()}})(o=>n(w(t,o))))));function xe(e){return new Error(e)}function vo(e){return function(){throw e}}var xn=function(){var e={},n="Pure",t="Throw",r="Catch",o="Sync",i="Async",c="Bind",s="Bracket",l="Fork",p="Sequential",f="Map",_="Apply",u="Alt",a="Cons",d="Resume",y="Release",v="Finalizer",T="Finalized",b="Forked";function h(m,C,D,M){this.tag=m,this._1=C,this._2=D,this._3=M}function A(m){var C=function(D,M,k){return new h(m,D,M,k)};return C.tag=m,C}function I(m){return new h(n,void 0)}function V(m){try{m()}catch(C){setTimeout(function(){throw C},0)}}function X(m,C,D){try{return C(D())}catch(M){return m(M)}}function dn(m,C,D){try{return C(D)()}catch(M){return D(m(M))(),I}}var j=function(){var m=1024,C=0,D=0,M=new Array(m),k=!1;function $(){var en;for(k=!0;C!==0;)C--,en=M[D],M[D]=void 0,D=(D+1)%m,en();k=!1}return{isDraining:function(){return k},enqueue:function(en){var P;C===m&&(P=k,$(),k=P),M[(D+C)%m]=en,C++,k||$()}}}();function G(m){var C={},D=0,M=0;return{register:function(k){var $=D++;k.onComplete({rethrow:!0,handler:function(en){return function(){M--,delete C[$]}}})(),C[$]=k,M++},isEmpty:function(){return M===0},killAll:function(k,$){return function(){if(M===0)return $();var en=0,P={};function $n(sn){P[sn]=C[sn].kill(k,function(yn){return function(){delete P[sn],en--,m.isLeft(yn)&&m.fromLeft(yn)&&setTimeout(function(){throw m.fromLeft(yn)},0),en===0&&$()}})()}for(var On in C)C.hasOwnProperty(On)&&(en++,$n(On));return C={},D=0,M=0,function(sn){return new h(o,function(){for(var yn in P)P.hasOwnProperty(yn)&&P[yn]()})}}}}}var q=0,R=1,K=2,J=3,Z=4,B=5,on=6;function rn(m,C,D){var M=0,k=q,$=D,en=null,P=null,$n=null,On=null,sn=null,yn=0,ne=0,Rn=null,Hn=!0;function Vn(S){for(var N,Q,Y;;)switch(N=null,Q=null,Y=null,k){case K:k=R;try{$=$n($),On===null?$n=null:($n=On._1,On=On._2)}catch(An){k=B,en=m.left(An),$=null}break;case J:m.isLeft($)?(k=B,en=$,$=null):$n===null?k=B:(k=K,$=m.fromRight($));break;case R:switch($.tag){case c:$n&&(On=new h(a,$n,On)),$n=$._2,k=R,$=$._1;break;case n:$n===null?(k=B,$=m.right($._1)):(k=K,$=$._1);break;case o:k=J,$=X(m.left,m.right,$._1);break;case i:k=Z,$=dn(m.left,$._1,function(An){return function(){M===S&&(M++,j.enqueue(function(){M===S+1&&(k=J,$=An,Vn(M))}))}});return;case t:k=B,en=m.left($._1),$=null;break;case r:$n===null?sn=new h(a,$,sn,P):sn=new h(a,$,new h(a,new h(d,$n,On),sn,P),P),$n=null,On=null,k=R,$=$._1;break;case s:yn++,$n===null?sn=new h(a,$,sn,P):sn=new h(a,$,new h(a,new h(d,$n,On),sn,P),P),$n=null,On=null,k=R,$=$._1;break;case l:k=J,N=rn(m,C,$._2),C&&C.register(N),$._1&&N.run(),$=m.right(N);break;case p:k=R,$=H(m,C,$._1);break}break;case B:if($n=null,On=null,sn===null)k=on,$=P||en||$;else switch(N=sn._3,Y=sn._1,sn=sn._2,Y.tag){case r:P&&P!==N&&yn===0?k=B:en&&(k=R,$=Y._2(m.fromLeft(en)),en=null);break;case d:P&&P!==N&&yn===0||en?k=B:($n=Y._1,On=Y._2,k=K,$=m.fromRight($));break;case s:yn--,en===null&&(Q=m.fromRight($),sn=new h(a,new h(y,Y._2,Q),sn,N),(P===N||yn>0)&&(k=R,$=Y._3(Q)));break;case y:sn=new h(a,new h(T,$,en),sn,P),k=R,P&&P!==N&&yn===0?$=Y._1.killed(m.fromLeft(P))(Y._2):en?$=Y._1.failed(m.fromLeft(en))(Y._2):$=Y._1.completed(m.fromRight($))(Y._2),en=null,yn++;break;case v:yn++,sn=new h(a,new h(T,$,en),sn,P),k=R,$=Y._1;break;case T:yn--,k=B,$=Y._1,en=Y._2;break}break;case on:for(var hn in Rn)Rn.hasOwnProperty(hn)&&(Hn=Hn&&Rn[hn].rethrow,V(Rn[hn].handler($)));Rn=null,P&&en?setTimeout(function(){throw m.fromLeft(en)},0):m.isLeft($)&&Hn&&setTimeout(function(){if(Hn)throw m.fromLeft($)},0);return;case q:k=R;break;case Z:return}}function mn(S){return function(){if(k===on)return Hn=Hn&&S.rethrow,S.handler($)(),function(){};var N=ne++;return Rn=Rn||{},Rn[N]=S,function(){Rn!==null&&delete Rn[N]}}}function L(S,N){return function(){if(k===on)return N(m.right(void 0))(),function(){};var Q=mn({rethrow:!1,handler:function(){return N(m.right(void 0))}})();switch(k){case q:P=m.left(S),k=on,$=P,Vn(M);break;case Z:P===null&&(P=m.left(S)),yn===0&&(k===Z&&(sn=new h(a,new h(v,$(S)),sn,P)),k=B,$=null,en=null,Vn(++M));break;default:P===null&&(P=m.left(S)),yn===0&&(k=B,$=null,en=null)}return Q}}function W(S){return function(){var N=mn({rethrow:!1,handler:S})();return k===q&&Vn(M),N}}return{kill:L,join:W,onComplete:mn,isSuspended:function(){return k===q},run:function(){k===q&&(j.isDraining()?Vn(M):j.enqueue(function(){Vn(M)}))}}}function x(m,C,D,M){var k=0,$={},en=0,P={},$n=new Error("[ParAff] Early exit"),On=null,sn=e;function yn(mn,L,W){var S=L,N=null,Q=null,Y=0,hn={},An,fe;n:for(;;)switch(An=null,S.tag){case b:if(S._3===e&&(An=$[S._1],hn[Y++]=An.kill(mn,function(Uo){return function(){Y--,Y===0&&W(Uo)()}})),N===null)break n;S=N._2,Q===null?N=null:(N=Q._1,Q=Q._2);break;case f:S=S._2;break;case _:case u:N&&(Q=new h(a,N,Q)),N=S,S=S._1;break}if(Y===0)W(m.right(void 0))();else for(fe=0,An=Y;fe<An;fe++)hn[fe]=hn[fe]();return hn}function ne(mn,L,W){var S,N,Q,Y,hn,An;for(m.isLeft(mn)?(S=mn,N=null):(N=mn,S=null);;){if(Q=null,Y=null,hn=null,An=null,On!==null)return;if(L===null){M(S||N)();return}if(L._3!==e)return;switch(L.tag){case f:S===null?(L._3=m.right(L._1(m.fromRight(N))),N=L._3):L._3=S;break;case _:if(Q=L._1._3,Y=L._2._3,S){if(L._3=S,hn=!0,An=en++,P[An]=yn($n,S===Q?L._2:L._1,function(){return function(){delete P[An],hn?hn=!1:W===null?ne(S,null,null):ne(S,W._1,W._2)}}),hn){hn=!1;return}}else{if(Q===e||Y===e)return;N=m.right(m.fromRight(Q)(m.fromRight(Y))),L._3=N}break;case u:if(Q=L._1._3,Y=L._2._3,Q===e&&m.isLeft(Y)||Y===e&&m.isLeft(Q))return;if(Q!==e&&m.isLeft(Q)&&Y!==e&&m.isLeft(Y))S=N===Q?Y:Q,N=null,L._3=S;else if(L._3=N,hn=!0,An=en++,P[An]=yn($n,N===Q?L._2:L._1,function(){return function(){delete P[An],hn?hn=!1:W===null?ne(N,null,null):ne(N,W._1,W._2)}}),hn){hn=!1;return}break}W===null?L=null:(L=W._1,W=W._2)}}function Rn(mn){return function(L){return function(){delete $[mn._1],mn._3=L,ne(L,mn._2._1,mn._2._2)}}}function Hn(){var mn=R,L=D,W=null,S=null,N,Q;n:for(;;)switch(N=null,Q=null,mn){case R:switch(L.tag){case f:W&&(S=new h(a,W,S)),W=new h(f,L._1,e,e),L=L._2;break;case _:W&&(S=new h(a,W,S)),W=new h(_,e,L._2,e),L=L._1;break;case u:W&&(S=new h(a,W,S)),W=new h(u,e,L._2,e),L=L._1;break;default:Q=k++,mn=B,N=L,L=new h(b,Q,new h(a,W,S),e),N=rn(m,C,N),N.onComplete({rethrow:!1,handler:Rn(L)})(),$[Q]=N,C&&C.register(N)}break;case B:if(W===null)break n;W._1===e?(W._1=L,mn=R,L=W._2,W._2=e):(W._2=L,L=W,S===null?W=null:(W=S._1,S=S._2))}for(sn=L,Q=0;Q<k;Q++)$[Q].run()}function Vn(mn,L){On=m.left(mn);var W;for(var S in P)if(P.hasOwnProperty(S)){W=P[S];for(S in W)W.hasOwnProperty(S)&&W[S]()}P=null;var N=yn(mn,sn,L);return function(Q){return new h(i,function(Y){return function(){for(var hn in N)N.hasOwnProperty(hn)&&N[hn]();return I}})}}return Hn(),function(mn){return new h(i,function(L){return function(){return Vn(mn,L)}})}}function H(m,C,D){return new h(i,function(M){return function(){return x(m,C,D,M)}})}return h.EMPTY=e,h.Pure=A(n),h.Throw=A(t),h.Catch=A(r),h.Sync=A(o),h.Async=A(i),h.Bind=A(c),h.Bracket=A(s),h.Fork=A(l),h.Seq=A(p),h.ParMap=A(f),h.ParApply=A(_),h.ParAlt=A(u),h.Fiber=rn,h.Supervisor=G,h.Scheduler=j,h.nonCanceler=I,h}();const ke=xn.Pure;xn.Throw;function Fc(e){return function(n){return n.tag===xn.Pure.tag?xn.Pure(e(n._1)):xn.Bind(n,function(t){return xn.Pure(e(t))})}}function U(e){return function(n){return xn.Bind(e,n)}}const Tn=xn.Sync,$o=xn.Async;function Rc(e,n){return function(){return xn.Fiber(e,null,n)}}xn.Seq;const Ic={map:Fc},Bc={isLeft:e=>{if(e.tag==="Left")return!0;if(e.tag==="Right")return!1;g()},fromLeft:e=>{if(e.tag==="Left")return e._1;if(e.tag==="Right")return wn("unsafeFromLeft: Right");g()},fromRight:e=>{if(e.tag==="Right")return e._1;if(e.tag==="Left")return wn("unsafeFromRight: Left");g()},left:su,right:au},Pc={Applicative0:()=>bo,Bind1:()=>xc},xc={bind:U,Apply0:()=>To},To={apply:e=>n=>U(e)(t=>U(n)(r=>bo.pure(t(r)))),Functor0:()=>Ic},bo={pure:ke,Apply0:()=>To},jn={liftEffect:Tn,Monad0:()=>Pc},wo=(()=>{const e=ke();return n=>e})(),qc=e=>{const n=e.attr(kc);return t=>(r,o)=>t(r,i=>{const c=n(i);return o(c)})},Jc=e=>n=>{const t=ao(Qe(bn(48271)*bn(n)+bn(e))(bn(2147483647)));if(t.tag==="Just")return t._1;g()},Mc=uo(ae),Ee=ro(Ir),Wc=(()=>Mc.state(e=>w(e.newSeed,{...e,newSeed:Jc(0)(e.newSeed)})))(),Dc=Ft(ae),zc=e=>n=>{const t=bn(n),r=bn(e),o=Ee.map(bn)(Wc);return Ee.map(i=>He(xt(r+Qe(i)(t-r+1))))(Dc.apply(Ee.map(Ue)(o))(Ee.map(i=>2*i)(o)))},ko={arbitrary:zc(-1e6)(1e6)},Gc=e=>n=>t=>()=>{if(t.units[n.id]){const r=t.units[n.parent].main;t.units[n.id].main&&t.units[n.id].main.parentNode||t.units[n.id].startBeacon&&t.units[n.id].startBeacon.parentNode||(n.ez?(()=>(t.units[n.id].main?r.appendChild(t.units[n.id].main):(r.appendChild(t.units[n.id].startBeacon),r.appendChild(t.units[n.id].endBeacon)),!0))():e(n.pos)(i=>()=>e(n.dynFamily)(c=>()=>{for(var s=0,l=0,p;l<r.childNodes.length;){if(r.childNodes[l].nodeType===8&&r.childNodes[l].nodeValue==="%-%"+c){l+=1;break}l++}const f=u=>{t.units[n.id].startBeacon?(r.insertBefore(t.units[n.id].startBeacon,r.childNodes[u]),r.insertBefore(t.units[n.id].endBeacon,r.childNodes[u])):r.insertBefore(t.units[n.id].main,r.childNodes[u])};for(;l<r.childNodes.length;){var _;if((_=r.childNodes[l].$dekuId)&&e(t.units[_].dynFamily)(a=>()=>e(t.units[_].pos)(y=>()=>c===a&&i<=y?(f(l),!0):!1)())())return!0;if(s===i||r.childNodes[l].nodeType===8&&r.childNodes[l].nodeValue==="%-%"+c+"%-%")return f(l),!0;r.childNodes[l].nodeType===8&&r.childNodes[l].nodeValue.substring(0,3)==="%-%"&&!p&&(p=r.childNodes[l].nodeValue+"%-%"),p||s++,r.childNodes[l].nodeType===8&&r.childNodes[l].nodeValue===p&&(p=void 0,s++),l++}return!1})())())||(n.parent.indexOf("@!%")!==-1?e(n.dynFamily)(c=>()=>(t.units[n.id].main?t.units[c].endBeacon.parentNode.insertBefore(t.units[n.id].main,t.units[c].endBeacon):(t.units[c].endBeacon.parentNode.insertBefore(t.units[n.id].endBeacon,t.units[c].endBeacon),t.units[c].endBeacon.parentNode.insertBefore(t.units[n.id].startBeacon,t.units[n.id].endBeacon)),!0))()||(t.units[n.id].main?r.parentNode.replaceChild(t.units[n.id].main,r):(r.parentNode.replaceChild(t.units[n.id].endBeacon,r),t.units[n.id].endBeacon.parentNode.insertBefore(t.units[n.id].startBeacon,t.units[n.id].endBeacon))):e(n.dynFamily)(c=>()=>(t.units[n.id].startBeacon?(r.insertBefore(t.units[n.id].startBeacon,t.units[c].endBeacon),r.insertBefore(t.units[n.id].endBeacon,t.units[c].endBeacon)):r.insertBefore(t.units[n.id].main,t.units[c].endBeacon),!0))()||(t.units[n.id].startBeacon?(r.appendChild(t.units[n.id].startBeacon),r.appendChild(t.units[n.id].endBeacon)):r.appendChild(t.units[n.id].main)))}},Uc=e=>n=>t=>r=>()=>{var o,i,c=t.id;if(r.scopes[t.scope]||(r.scopes[t.scope]=[]),r.scopes[t.scope].push(c),!e(t.parent)(()=>()=>r.hydrating&&n&&(o=r.allBeacons[t.id])&&(i=r.allBeacons[`${t.id}%-%`])?(r.units[c]={listeners:{},parent:t.parent,scope:t.scope,pos:t.pos,dynFamily:t.dynFamily,startBeacon:o,endBeacon:i},o.$dekuId=c,i.$dekuId=c,!0):!1)()){const l=document.createComment(`%-%${t.id}`),p=document.createComment(`%-%${t.id}%-%`);r.units[c]={listeners:{},parent:t.parent,dynFamily:t.dynFamily,scope:t.scope,pos:t.pos,startBeacon:l,endBeacon:p},l.$dekuId=c,p.$dekuId=c}},Qc=new Set(["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"]),Hc=e=>n=>()=>n.units[e]&&n.units[e].dynFamily?n.units[e].dynFamily:(()=>{throw new Error(`No positional information for ${e}`)})(),Vc=e=>n=>()=>n.units[e]&&n.units[e].main&&n.units[e].main.parentNode&&n.units[e].main.parentNode.$dekuId?n.units[e].main.parentNode.$dekuId:n.units[e]&&n.units[e].startBeacon&&n.units[e].startBeacon.parentNode&&n.units[e].startBeacon.parentNode.$dekuId?n.units[e].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${e}`)})(),jc=e=>n=>()=>n.units[e]&&n.units[e].scope?n.units[e].scope:(()=>{throw new Error(`No scope information for ${e}`)})(),Kc=e=>n=>t=>r=>()=>{var o,i=t.id;if(r.scopes[t.scope]||(r.scopes[t.scope]=[]),r.scopes[t.scope].push(i),!e(t.parent)(()=>()=>r.hydrating&&n&&(o=document.documentElement.querySelector(`[data-deku-ssr="${i}"]`))?(r.units[i]={listeners:{},pos:t.pos,parent:t.parent,scope:t.scope,dynFamily:t.dynFamily,main:o},o.$dekuId=i,!0):!1)()){const s=Qc.has(t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);r.units[i]={listeners:{},parent:t.parent,pos:t.pos,scope:t.scope,dynFamily:t.dynFamily,main:s},s.$dekuId=i}},Yc=e=>n=>t=>r=>o=>()=>{var i=r.id,c;if(o.scopes[r.scope]||(o.scopes[r.scope]=[]),o.scopes[r.scope].push(i),!e(r.parent)(l=>()=>{if(o.hydrating&&n&&(c=document.documentElement.querySelector(`[data-deku-ssr="${l}"]`))){for(var p=0;p<c.childNodes.length;p++){const a=i.split("@-@");if(c.childNodes[p].nodeType===8&&c.childNodes[p].nodeValue===a[0]){p=p-1;var f=p===-1,_=p>=0&&c.childNodes[p].nodeType===8;f&&c.prepend(document.createTextNode("")),_&&c.insertBefore(document.createTextNode(""),c.childNodes[p+1]);break}}const u=c.childNodes[p];return o.units[i]={main:u,pos:r.pos,parent:r.parent,scope:r.scope},u.$dekuId=i,!0}return!1})()){const l=document.createTextNode("");o.units[i]={main:l,parent:r.parent,scope:r.scope,pos:r.pos,dynFamily:r.dynFamily},l.$dekuId=i}};function Xc(){return{units:{},scopes:{},allBeacons:{}}}const Zc=e=>n=>t=>()=>{if(t.units[n.id]){var r=n.id,o=n.value;t.hydrating&&e&&!t.units[r]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${r}"]`))&&(t.units[r]={listeners:{},parent:n.parent,scope:n.scope,main:dom},t.scopes[n.scope]||(t.scopes[n.scope]=[]),t.scopes[n.scope].push(r)),t.units[r].main.tagName==="INPUT"&&n.key==="value"||t.units[r].main.tagName==="TEXTAREA"&&n.key==="value"?t.units[r].main.value=o:t.units[r].main.tagName==="INPUT"&&n.key==="checked"?t.units[r].main.checked=o==="true":n.key==="disabled"?t.units[r].main.disabled=o==="true":t.units[r].main.setAttribute(n.key,o)}},ns=e=>n=>t=>()=>{if(t.units[n.id]){var r=n.id,o=n.value;if(t.hydrating&&e&&!t.units[r]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${r}"]`))&&(t.units[r]={listeners:{},parent:n.parent,scope:n.scope,main:dom},t.scopes[n.scope]||(t.scopes[n.scope]=[]),t.scopes[n.scope].push(r)),n.key==="@self@")o(t.units[r].main)();else{t.units[r].listeners[n.key]&&t.units[r].main.removeEventListener(n.key,t.units[r].listeners[n.key]);var i=c=>o(c)();t.units[r].main.addEventListener(n.key,i),t.units[r].listeners[n.key]=i}}},es=e=>n=>()=>{if(n.units[e.id]){var t=e.id;n.units[t].main.nodeValue=e.text}},ts=e=>n=>t=>r=>o=>()=>{var i,c,s=r.id,l=r.html,p=r.verb,f=r.cache,_=r.parent,u=r.scope,a=r.pxScope;const d=e(r.parent)(()=>()=>o.hydrating&&n&&(i=document.documentElement.querySelector(`[data-deku-ssr="${s}"]`))?(o.units[s]={listeners:{},pos:r.pos,scope:u,parent:_,main:i},i.$dekuId=s,!0):!1)();if(!d){const v=Object.entries(f);for(var y=0;y<v.length;y++){const T=v[y][0];v[y][1]===!0?l=l.replace(p+T+p,'data-deku-attr-internal="'+T+'"'):l=l.replace(p+T+p,'<span style="display:contents;" data-deku-elt-internal="'+T+'"></span>')}c=document.createElement("div"),c.innerHTML=l.trim(),o.units[s]={listeners:{},pos:r.pos,scope:u,parent:_,main:c.firstChild},c.firstChild.$dekuId=s}o.scopes[u]||(o.scopes[u]=[]),o.scopes[u].push(s),c||(c=i),c.querySelectorAll("[data-deku-attr-internal]").forEach(function(v){var T=v.getAttribute("data-deku-attr-internal");const b=T+"@!%"+a;o.units[b]={listeners:{},main:v,scope:u},o.scopes[u].push(b)}),c.querySelectorAll("[data-deku-elt-internal]").forEach(function(v){var T=v.getAttribute("data-deku-elt-internal");const b=T+"@!%"+a;o.units[T+"@!%"+a]={listeners:{},main:v,scope:u},o.scopes[u].push(b)}),d||o.units[s].main.remove()},rs=e=>n=>()=>{var t=e.id;n.units[t]={main:e.root},e.root.$dekuId=t},Oo=e=>n=>t=>r=>()=>{const o=(d,y,v)=>{if(r.units[d].startBeacon){var T=r.units[d].startBeacon,b=T.nextSibling;for(r.units[y].main.insertBefore(T,v),T=b;T&&T!==r.units[d].endBeacon;)b=T.nextSibling,r.units[y].main.insertBefore(T,v),T=b}else r.units[y].main.insertBefore(r.units[d].main,v)},i=[];i.push(t);for(var c=0;c<i.length;c++){const d=i[c],y=d.id,v=d.parent;r.units[y].containingScope=d.scope;var s=void 0;n(d.pos)(b=>()=>(s=b,!0))(),s===void 0&&(s=Number.MAX_VALUE);const T=r.units[v].main.childNodes;for(var l=0,p=!1,f=0;l<T.length;){var _;if(_=T[l].$dekuId){if(n(d.dynFamily)(h=>()=>p?!1:r.units[_].endBeacon===T[l]&&h===_?(r.units[y].pos=e(f),o(y,v,T[l]),!0):!1)()){p=!0;break}if(r.units[_].dynFamily!==r.units[y].dynFamily){l++;continue}if(p){l++;continue}f===s?(o(y,v,T[l]),f++,p=!0):r.units[_].endBeacon!==T[l]&&(r.units[_].pos=e(f),f++)}l++}if(p)return;if(r.units[y].main)r.units[v].main.appendChild(r.units[y].main);else{var u=r.units[y].startBeacon,a=u.nextSibling;for(r.units[v].main.appendChild(u),u=a;u&&u!==r.units[y].endBeacon;)a=u.nextSibling,r.units[v].main.appendChild(u),u=a}}},os=e=>n=>()=>{if(n.units[e.id]){var t=e.id;if(n.units[t].containingScope&&!e.scopeEq(n.units[t].containingScope)(e.scope))return;if(n.units[t].main)n.units[t].main.remove();else{const i=document.createElement("div");var r=n.units[t].startBeacon,o=r.nextSibling;for(i.appendChild(r),r=o;r&&r!==n.units[t].endBeacon;)o=r.nextSibling,i.appendChild(r),r=o;r===n.units[t].endBeacon&&i.appendChild(r)}}},Ao=e=>n=>()=>{n.units[e.id]&&delete n.units[e.id]},us=Ao,re=e=>n=>e.tag==="Just"?n(e._1):()=>!1,is=e=>n=>{const t=jc(e.id)(n);return()=>{const r=t(),o=Vc(e.id)(n)(),i=Hc(e.id)(n)();return Oo(Dn)(re)({scope:r,parent:o,dynFamily:i,id:e.id,pos:O("Just",e.pos),ez:!1})(n)()}},cs=e=>({ids:()=>{const n=e.value,t=e.value;return e.value=1+t|0,Lr(ko.arbitrary({newSeed:(()=>{const r=se(n)(2147483645);return r<1?r+2147483646|0:r})(),size:5})._1)},makeElement:Kc(re)(!1),makeDynBeacon:Uc(re)(!1),attributeParent:Gc(re),makeRoot:rs,makeText:Yc(re)(!1)(n=>t=>{if(t.tag!=="Nothing"){if(t.tag==="Just")return n(t._1);g()}}),makePursx:ts(re)(!1)(n=>t=>{if(t.tag!=="Nothing"){if(t.tag==="Just")return n(t._1);g()}}),setProp:Zc(!1),setCb:ns(!1),setText:es,sendToPos:is,removeDynBeacon:us,deleteFromCache:Ao,giveNewParent:Oo(Dn)(re),disconnectElement:os}),Ve=function(){return window};function Eo(e){return e.body}function Mt(e){return function(){return e.document}}function ss(e){return function(n){return function(){return n.requestAnimationFrame(e)}}}const as=e=>n=>()=>{const t=Xc(),r={value:0};return cn.subscribe(bc(e)(n)(cs(r)))(o=>o(t))()},ls=e=>()=>{const n=Ve(),t=Mt(n)(),r=Eo(t),o=Pt(r,F,Dn);return o.tag==="Just"?as(o._1)(e)():()=>{}},ar=function(e){return function(){console.log(e)}},Le=(()=>cn.makeEvent(e=>()=>{const n=Ve();let t=!1;const r=Sr(()=>{const i=ss((()=>{const c=e();return()=>{c();const s=t;if(!s)return r()();s||g()}})())(n);return()=>{i()}});return r()(),()=>t=!0}))(),fs=e=>n=>t=>r=>t(e.map(o=>i=>o(n(i)))(e.map(Me)(r))),_s=e=>{const n={map:t=>r=>o=>r(e.map(i=>c=>i(t(c)))(o))};return{apply:t=>r=>o=>r(t(e.map(uu.compose)(o))),Functor0:()=>n}};function ps(){return Date.now()}const ds=e=>cn.makeEvent(n=>cn.subscribe(e)(t=>()=>{const r=ps();return n({time:r,value:t})()})),je=()=>()=>()=>e=>n=>t=>Qo(t.type)(e)?dt(t.type)(e)(t.value):n(t),Ke=e=>wn("Data.Variant: pattern match failure ["+e.type+"]"),Co=e=>{const n=e.Bind1().bind,t=e.Applicative0().pure;return{bind:r=>o=>n(r)(i=>{if(i.tag==="Left")return t(Nn("Left",i._1));if(i.tag==="Right")return o(i._1);g()}),Apply0:()=>So(e)}},So=e=>{const n=e.Bind1().Apply0().Functor0(),t={map:r=>n.map(Rr.map(r))};return{apply:(()=>{const r=Co(e).bind,o=Wt(e).pure;return i=>c=>r(i)(s=>r(c)(l=>o(s(l))))})(),Functor0:()=>t}},Wt=e=>({pure:(()=>{const n=e.Applicative0().pure;return t=>n(Nn("Right",t))})(),Apply0:()=>So(e)}),gs=e=>{const n={Applicative0:()=>Wt(e),Bind1:()=>Co(e)};return{throwError:(()=>{const t=e.Applicative0().pure;return r=>t(Nn("Left",r))})(),Monad0:()=>n}},ms=e=>n=>{const t=n.Bind1(),r=n.Applicative0().pure,o=t.Apply0().Functor0(),i={map:c=>o.map(Rr.map(c))};return{alt:c=>s=>t.bind(c)(l=>{if(l.tag==="Right")return r(Nn("Right",l._1));if(l.tag==="Left"){const p=l._1;return t.bind(s)(f=>{if(f.tag==="Right")return r(Nn("Right",f._1));if(f.tag==="Left")return r(Nn("Left",e.append(p)(f._1)));g()})}g()}),Functor0:()=>i}};function lr(e){return Object.prototype.toString.call(e).slice(8,-1)}const hs=(e,n,t)=>({tag:e,_1:n,_2:t}),No=e=>{const n=Wt(e).pure,t=gs(e).throwError;return r=>o=>lr(o)===r?n(o):t(Ur(hs("TypeMismatch",r,lr(o)),ue))},ys=e=>({tag:e}),vs=e=>({tag:e}),Lo=e=>({tag:e}),$s=Lo("TTT11"),Ts=Lo("TTT12"),bs=vs("Speakers"),ws=ys("Max"),ks={type:"on",value:void 0},Os={x:ks,o:0},Fo=()=>(e,n)=>(n({type:"onOff",value:Os}),()=>{}),As=()=>({tag:"PlayBufOptions"}),Ro=e=>e,Io=As(),Es={toInitializeGain:e=>({gain:e})},Bo={convertOption:e=>n=>Ro},Po={convertOption:e=>n=>Ro},xo={bufferOffset:0,playbackRate:1,duration:F},Cs=()=>({tag:"AnalyserOptions"}),Dt=e=>e,zt=(()=>le(be.alt)(Sn.empty))(),Ss=Cs(),Ns={convertOption:e=>n=>Dt},Ls={convertOption:e=>n=>Dt},Fs={convertOption:e=>n=>Dt},Rs={cb:e=>()=>()=>{},fftSize:$s,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8,channelCount:2,channelCountMode:ws,channelInterpretation:bs},Ye=ce({doLogic:Ot,ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectXFromY({from:n.id,to:n.parent}),toElt:e=>e}),Is=e=>n=>t=>r=>{const o=e.toInitializeAnalyser(n);return z("Element'",i=>c=>{const s=c.ids;return cn.makeLemmingEventO((l,p)=>{const f=s();i.raiseId(f)();const _=l(zt([(()=>{const a=c.makeAnalyser({id:f,parent:i.parent,scope:(()=>{if(i.scope.tag==="Global")return F;if(i.scope.tag==="Local")return O("Just",i.scope._1);g()})(),cb:o.cb,fftSize:so(2)((()=>{if(o.fftSize.tag==="TTT7")return 7;if(o.fftSize.tag==="TTT8")return 8;if(o.fftSize.tag==="TTT9")return 9;if(o.fftSize.tag==="TTT10")return 10;if(o.fftSize.tag==="TTT11")return 11;if(o.fftSize.tag==="TTT12")return 12;if(o.fftSize.tag==="TTT13")return 13;g()})()),maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant,channelCount:o.channelCount,channelCountMode:(()=>{if(o.channelCountMode.tag==="Explicit")return"explicit";if(o.channelCountMode.tag==="Max")return"max";if(o.channelCountMode.tag==="ClampedMax")return"clamped-max";g()})(),channelInterpretation:(()=>{if(o.channelInterpretation.tag==="Speakers")return"speakers";if(o.channelInterpretation.tag==="Discrete")return"discrete";g()})()});return(d,y)=>(y(a),()=>{})})(),(a,d)=>t(a,y=>{const v=je()()()({cb:T=>c.setAnalyserNodeCb({id:f,cb:T})})(Ke)(y);return d(v)}),Ye({parent:O("Just",f),scope:i.scope,raiseId:a=>()=>{}})(c)(z("FixedChildren'",r))]),p),u=c.deleteFromCache({id:f});return()=>(p(u),_())})})},Bs=e=>n=>Is(e)(n)(Sn.empty),Ps=e=>n=>{const t=n.ids;return cn.makeLemmingEventO((r,o)=>{const i=t();return o(n.makeSpeaker({id:i})),r(Ye({parent:O("Just",i),scope:Be("Local","toplevel"),raiseId:c=>()=>{}})(n)(z("FixedChildren'",e)),o)})},qo=e=>n=>t=>r=>je()()()({numeric:o=>{const i=t({type:"numeric",value:o});return(c,s)=>(s(i),()=>{})},envelope:o=>{const i=t({type:"envelope",value:o});return(c,s)=>(s(i),()=>{})},cancel:o=>{const i=t({type:"cancel",value:o});return(c,s)=>(s(i),()=>{})},sudden:o=>{const i=t({type:"sudden",value:o});return(c,s)=>(s(i),()=>{})},unit:o=>{const i=xs(Es)(1)([o.u]);return cn.makeLemmingEventO((c,s)=>{let l=F;const p=Ye({parent:F,scope:e,raiseId:_=>()=>{l=O("Just",_)}})(n)(i),f=cn.makeLemmingEventO((_,u)=>{const a=l;return a.tag==="Nothing"||(a.tag==="Just"?u(t({type:"unit",value:{i:a._1}})):g()),()=>{}});return c((_,u)=>{const a=p(_,u),d=f(_,u);return()=>(a(),d())},s)})}})(Ke)(r),xs=e=>n=>t=>qs(e)(n)(Sn.empty)(t),qs=e=>n=>t=>r=>{const o=e.toInitializeGain(n);return z("Element'",i=>c=>{const s=c.ids;return cn.makeLemmingEventO((l,p)=>{const f=s();i.raiseId(f)();const _=l(zt([(()=>{const a=c.makeGain({id:f,parent:i.parent,scope:(()=>{if(i.scope.tag==="Global")return F;if(i.scope.tag==="Local")return O("Just",i.scope._1);g()})(),gain:o.gain});return(d,y)=>(y(a),()=>{})})(),(a,d)=>{let y=()=>{};const v=t(a,T=>{const b=je()()()({gain:qo(i.scope)(c)(I=>c.setGain({id:f,gain:I}))})(Ke)(T);return y(),y=b(a,d)});return()=>(y(),v())},Ye({parent:O("Just",f),scope:i.scope,raiseId:a=>()=>{}})(c)(z("FixedChildren'",r))]),p),u=c.deleteFromCache({id:f});return()=>(p(u),_())})})},Js=e=>n=>t=>{const r=e.toInitializePlayBuf(n);return z("Element'",o=>i=>{const c=i.ids;return cn.makeLemmingEventO((s,l)=>{const p=c();o.raiseId(p)();const f=s(zt([(()=>{const u=i.makePlayBuf({id:p,parent:o.parent,scope:(()=>{if(o.scope.tag==="Global")return F;if(o.scope.tag==="Local")return O("Just",o.scope._1);g()})(),buffer:r.buffer,playbackRate:r.playbackRate,bufferOffset:r.bufferOffset,duration:r.duration});return(a,d)=>(d(u),()=>{})})(),(u,a)=>{let d=()=>{};const y=t(u,v=>{const T=je()()()({buffer:A=>{const I=i.setBuffer({id:p,buffer:A});return(V,X)=>(X(I),()=>{})},playbackRate:qo(o.scope)(i)(A=>i.setPlaybackRate({id:p,playbackRate:A})),bufferOffset:A=>{const I=i.setBufferOffset({id:p,bufferOffset:A});return(V,X)=>(X(I),()=>{})},onOff:A=>{const I=i.setOnOff({id:p,onOff:A});return(V,X)=>(X(I),()=>{})},duration:A=>{const I=i.setDuration({id:p,duration:A});return(V,X)=>(X(I),()=>{})}})(Ke)(v);return d(),d=T(u,a)});return()=>(d(),y())}]),l),_=i.deleteFromCache({id:p});return()=>(l(_),f())})})},Jo=e=>Js(e);function Ms(e){return function(n){return function(t){return function(){e.then(t,n)}}}}const Ws=(()=>ms(Xu)(ae).alt)(),Ds=No(ae),zs=No(ae)("String"),fr=e=>n=>$o(t=>{const r=Ms(n)(o=>t(Nn("Left",e(o)))())(o=>t(Nn("Right",o))());return()=>(r(),wo)}),_r=e=>{const n=Ws(Ds("Error")(e))((()=>{const t=zs(e);if(t.tag==="Left")return Nn("Left",t._1);if(t.tag==="Right")return Nn("Right",xe(t._1));g()})());if(n.tag==="Left")return xe("Promise failed, couldn't extract JS Error or String");if(n.tag==="Right")return n._1;g()};var Gs="numeric",Us="sudden",Qs="unit",Hs="cancel",Vs="step",js="linear",Ks="exponential",Ys="envelope",Mo=function(e,n,t,r){if(t.type===Us)e.value=t.value.n;else if(t.type===Qs)n.id&&ea(n.id,r),r.units[t.value.i].main.connect(e),n.id=t.value.i;else if(t.type===Gs)e[t.value.t.type===Vs?"setValueAtTime":t.value.t.type===js?"linearRampToValueAtTime":t.value.t.type===Ks?"exponentialRampToValueAtTime":"linearRampToValueAtTime"](t.value.n,t.value.o);else if(t.type===Hs)t.value.hold?e.cancelAndHoldAtTime(t.value.o):e.cancelScheduledValues(t.value.o);else if(t.type===Ys){const o=t.value.o;e.cancelScheduledValues(Math.max(0,o)),e.setValueCurveAtTime(t.value.p,o,t.value.d)}else throw new Error("No idea what to do with "+JSON.stringify(t))},Xs=function(e,n,t,r,o){return r[t]||(r[t]={}),Mo(n.parameters.get(t),r[t],o,e)},Bn=function(e,n,t,r,o){return r[t]||(r[t]={}),Mo(n[t],r[t],o,e)},ln=function(e,n,t,r){const o=e("@fan@")(i=>i)(t);r.scopes[o]||(r.scopes[o]=[]),r.scopes[o].push(n),r.units[n].scope=o},fn=function(e,n){n.toConnect[e]&&(n.toConnect[e].forEach(function(t){t.w?n.units[t.w]?t.f():(n.toConnect[t.w]||(n.toConnect[t.w]=[]),n.toConnect[t.w].push({f:t.f})):t.f()}),delete n.toConnect[e])},_n=function(e,n,t,r){e()(o=>Wo(n,o,r))(t)},Wo=function(e,n,t){var r=function(){t.units[e].audioOutgoing.push(n),t.units[e].pendingOn||(t.units[e].main.connect(t.units[n].main),t.units[n].se&&t.units[e].main.connect(t.units[n].se))};if(!t.units[e]){t.toConnect[e]||(t.toConnect[e]=[]);var o={f:r};n!==e&&!t.units[n]&&(o.w=n),t.toConnect[e].push(o);return}if(!t.units[n]){t.toConnect[n]||(t.toConnect[n]=[]);var o={f:r};n!==e&&!t.units[e]&&(o.w=e),t.toConnect[n].push(o);return}r()};function Zs(e){return function(n){return function(){delete n.units[e.id]}}}function na(e){return function(n){return function(){Wo(e.from,e.to,n)}}}var ea=function(e,n){if(n.units[e].scope==="@fan@")return;const t=n.units[e].scope;n.scopes[t].forEach(r=>{delete n.units[r]}),delete n.scopes[t]};function ta(e){return function(n){return function(){var t=e.from,r=e.to;if(!n.units[t]||(n.units[t].audioOutgoing=n.units[t].audioOutgoing.filter(function(i){return i!==r}),n.units[t].main.disconnect(n.units[r].main),n.units[r].se&&n.units[t].main.disconnect(n.units[r].se),n.units[t].scope==="@fan@"))return;const o=n.units[t].scope;n.scopes[o].forEach(i=>{delete n.units[i]}),delete n.scopes[o]}}}const ra=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"allpass",Q:n.q,frequency:n.frequency})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},oa=e=>n=>t=>()=>{var r=n.id,o=n.cb,i=new AnalyserNode(t.context,n),c=o(i)();t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],analyserOrig:o,analyser:c,main:t.context.createGain(),se:i},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ua=e=>n=>t=>()=>{var r=n.id,o=n.options;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new AudioWorkletNode(t.context,o.name,{numberOfInputs:o.numberOfInputs,numberOfOutputs:o.numberOfOutputs,outputChannelCount:o.outputChannelCount,parameterData:o.parameterData,processorOptions:o.processorOptions})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ia=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"bandpass",Q:n.q,frequency:n.frequency})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ca=e=>n=>t=>()=>{var r=n.id,o=function(c,s){return new ConstantSourceNode(c,s)},i={offset:n.offset};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},sa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new ConvolverNode(t.context,{buffer:n.buffer})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},aa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DelayNode(t.context,{delayTime:n.delayTime,maxDelayTime:n.maxDelayTime})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},la=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DynamicsCompressorNode(t.context,{knee:n.knee,ratio:n.ratio,threshold:n.threshold,attack:n.attack,release:n.release})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},fa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new GainNode(t.context,{gain:n.gain})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},_a=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"highpass",Q:n.q,frequency:n.frequency})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},pa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"highshelf",frequency:n.frequency,gain:n.gain})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},da=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new IIRFilterNode(t.context,{feedforward:n.feedforward,feedback:n.feedback})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ga=e=>n=>t=>()=>{var r=n.id,o=function(c,s){return new AudioBufferSourceNode(c,s)},i={loop:!0,buffer:n.buffer,loopStart:n.loopStart,loopEnd:n.loopEnd,playbackRate:n.playbackRate};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ma=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"lowpass",Q:n.q,frequency:n.frequency})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ha=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"lowshelf",frequency:n.frequency,gain:n.gain})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ya=e=>n=>t=>()=>{var r=n.id,o=n.element,i=function(){var c=t.context.createMediaElementSource(o);return c};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],createClosure:i,resumeClosure:{},main:i()},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},va=e=>n=>t=>()=>{var r=n.id;t.units[n.id]={main:t.context.createMediaStreamSource(n.microphone),controllers:{},audioOutgoing:[],controlOutgoing:[]},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},$a=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"notch",frequency:n.frequency,Q:n.q})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},Ta=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"peaking",frequency:n.frequency,Q:n.q,gain:n.gain})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ba=e=>n=>t=>()=>{var r=n.id,o=function(c,s){var l={frequency:s.frequency,periodicWave:s.spec.type==="wave"?s.spec.value:cl(t.context)(s.spec.value.real)(s.spec.value.img)()},p=new OscillatorNode(c,l);return p},i={frequency:n.frequency,type:"custom",spec:n.spec};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},wa=e=>n=>t=>()=>{var r=n.id,o=function(c,s){var l={loop:s.loop,buffer:s.buffer,playbackRate:s.playbackRate};return new AudioBufferSourceNode(c,l)},i={loop:!1,buffer:n.buffer,playbackRate:n.playbackRate,bufferOffset:n.bufferOffset,duration:e(void 0)(c=>c)(n.duration)};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},ka=e=>n=>t=>()=>{var r=n.id,o=n.cb,i=t.context.createMediaStreamDestination(),c=new MediaRecorder(i.stream);o(c)(),c.start(),t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],recorderOrig:o,recorder:c,main:t.context.createGain(),se:i},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},Oa=e=>n=>t=>()=>{var r=n.id,o=function(c,s){return new OscillatorNode(c,s)},i={frequency:n.frequency,type:"sawtooth"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},Aa=e=>n=>t=>()=>{var r=n.id,o=function(c,s){return new OscillatorNode(c,s)},i={frequency:n.frequency,type:"sine"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},Ea=e=>n=>()=>{n.units[e.id]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:n.context.createGain(),se:n.context.destination}},Ca=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new StereoPannerNode(t.context,{pan:n.pan})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},Sa=e=>n=>t=>()=>{var r=n.id,o=function(c,s){return new OscillatorNode(c,s)},i={frequency:n.frequency,type:"square"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},Na=e=>n=>t=>()=>{var r=n.id,o=function(c,s){return new OscillatorNode(c,s)},i={frequency:n.frequency,type:"triangle"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)},La=e=>n=>t=>()=>{var r=n.id,o=n.curve,i=n.oversample;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new WaveShaperNode(t.context,{curve:o,oversample:i.type})},ln(e,r,n.scope,t),fn(r,t),_n(e,r,n.parent,t)};function Fa(e){return function(n){return function(){var t=e.id,r=e.cb;n.units[t].analyserOrig!==r&&(n.units[t].analyser&&n.units[t].analyser(),n.units[t].analyser=r(n.units[t].se)(),n.units[t].analyserOrig=r)}}}function Ra(e){return function(n){return function(){var t=e.cb,r=e.id;if(n.units[r].recorderOrig!==t){n.units[r].recorder&&n.units[r].recorder.stop();var o=t;n.units[r].recorderOrig=t;var i=new MediaRecorder(n.units[r].se);o(i)(),i.start()}}}}function Ia(e){return function(n){return function(){var t=e.id,r=e.curve;n.units[t].main.curve=r}}}function Ba(e){return function(n){return function(){var t=e.id,r=e.paramName,o=e.paramValue;Xs(n,n.units[t].main,r,n.units[t].controllers,o)}}}const Pn=function(e,n,t){n.resume&&e.value.n!==void 0&&(n.resume[t]=e.value.n)};function Pa(e){return function(n){return function(){var t=e.id,r=e.gain;Bn(n,n.units[t].main,"gain",n.units[t].controllers,r),Pn(r,n.units[t],"gain")}}}function xa(e){return function(n){return function(){var t=e.id,r=e.q;Bn(n,n.units[t].main,"Q",n.units[t].controllers,r),Pn(r,n.units[t],"Q")}}}function qa(e){return function(n){return function(){var t=e.id,r=e.buffer;n.units[t].resume&&(n.units[t].resume.buffer=r)}}}function Ja(e){return function(n){return function(){var t=e.id,r=e.buffer;n.units[t].main.buffer=r}}}function Ma(e){return function(n){return function(){var t=e.id,r=e.spec;n.units[t].resume&&(n.units[t].resume.spec=r)}}}function Wa(e){return function(n){return function(){var t=e.id,r=e.pan;Bn(n,n.units[t].main,"pan",n.units[t].controllers,r),Pn(r,n.units[t],"pan")}}}function Da(e){return function(n){return function(){var t=e.id,r=e.threshold;Bn(n,n.units[t].main,"threshold",n.units[t].controllers,r),Pn(r,n.units[t],"threshold")}}}function za(e){return function(n){return function(){var t=e.id,r=e.loopStart;n.units[t].main.loopStart=r,n.units[t].resume.loopStart=r}}}function Ga(e){return function(n){return function(){var t=e.id,r=e.loopEnd;n.units[t].main.loopEnd=r,n.units[t].resume.loopEnd=r}}}function Ua(e){return function(n){return function(){var t=e.id,r=e.bufferOffset;n.units[t].resume.bufferOffset=r}}}function Qa(e){return function(n){return function(t){return function(){var r=n.id,o=n.duration;t.units[r].duration=e(void 0)(i=>i)(o)}}}}function Ha(e){return function(n){return function(){var t=e.id,r=e.release;Bn(n,n.units[t].main,"release",n.units[t].controllers,r),Pn(r,n.units[t],"release")}}}function Va(e){return function(n){return function(){var t=e.id,r=e.offset;Bn(n,n.units[t].main,"offset",n.units[t].controllers,r),Pn(r,n.units[t],"offset")}}}function ja(e){return function(n){return function(){var t=e.id,r=e.ratio;Bn(n,n.units[t].main,"ratio",n.units[t].controllers,r),Pn(r,n.units[t],"ratio")}}}function Ka(e){return function(n){return function(){var t=e.id,r=e.attack;Bn(n,n.units[t].main,"attack",n.units[t].controllers,r),Pn(r,n.units[t],"attack")}}}function Ya(e){return function(n){return function(){var t=e.id,r=e.knee;Bn(n,n.units[t].main,"knee",n.units[t].controllers,r),Pn(r,n.units[t],"knee")}}}function Xa(e){return function(n){return function(){var t=e.id,r=e.delayTime;Bn(n,n.units[t].main,"delayTime",n.units[t].controllers,r),Pn(r,n.units[t],"delayTime")}}}function Za(e){return function(n){return function(){var t=e.id,r=e.playbackRate;Bn(n,n.units[t].main,"playbackRate",n.units[t].controllers,r),Pn(r,n.units[t],"playbackRate")}}}function nl(e){return function(n){return function(){var t=e.id,r=e.frequency;Bn(n,n.units[t].main,"frequency",n.units[t].controllers,r),Pn(r,n.units[t],"frequency")}}}function el(e){return function(n){return function(){var t=e.id,r=e.onOff;r.x.type==="on"?tl(t)(r)(n)():r.x.type==="off"&&rl(t)(r)(n)()}}}var tl=function(e){return function(n){return function(t){return function(){if(!t.units[e].onOff){t.units[e].pendingOn=!1,t.units[e].onOff=!0,t.units[e].main=t.units[e].createClosure(t.context,t.units[e].resume);for(var r=0;r<t.units[e].audioOutgoing.length;r++){var o=t.units[e].audioOutgoing[r];t.units[e].main.connect(t.units[o].main),t.units[o].se&&t.units[e].main.connect(t.units[o].se)}t.units[e].resume&&t.units[e].resume.bufferOffset?typeof t.units[e].resume.duration=="number"?t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.bufferOffset,t.units[e].resume.duration):t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.bufferOffset):t.units[e].resume&&t.units[e].resume.loopStart?t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.loopStart):t.units[e].main.start(t.deprecatedWriteHead+n.o)}}}}},rl=function(e){return function(n){return function(t){return function(){if(t.units[e].onOff){t.units[e].onOff=!1;var r=t.units[e].main;r.addEventListener("ended",()=>{r.disconnect()}),r.stop(t.deprecatedWriteHead+n.o)}}}}};function ol(e){return function(){var n=new Uint8Array(e.frequencyBinCount);return e.getByteFrequencyData(n),n}}function me(e){return e.sampleRate}function ul(e){return e.length}function il(e){return e.duration}var cl=function(e){return function(n){return function(t){return function(){for(var r=new Float32Array(n.length),o=new Float32Array(t.length),i=0;i<n.length;i++)r[i]=n[i];for(var i=0;i<t.length;i++)o[i]=t[i];return e.createPeriodicWave(r,o,{disableNormalization:!0})}}}};function sl(e){return function(){return{context:e,deprecatedWriteHead:0,units:{},scopes:{},unsu:{},toConnect:{}}}}function al(e){return function(){return fetch(e).then(function(n){return n.arrayBuffer()},function(n){return console.error("Error fetching buffer",n),Promise.reject(n)})}}function ll(e){return function(n){return function(){return e.decodeAudioData(n)}}}function Gt(){return new(window.AudioContext||window.webkitAudioContext)}function Fe(e){return function(){return e.currentTime}}const fl=e=>({ids:()=>{const n=e.value,t=e.value;return e.value=1+t|0,Lr(ko.arbitrary({newSeed:(()=>{const r=se(n)(2147483645);return r<1?r+2147483646|0:r})(),size:5})._1)},deleteFromCache:Zs,disconnectXFromY:ta,connectXToY:na,makeAllpass:ra(an),makeAnalyser:oa(an),makeAudioWorkletNode:ua(an),makeBandpass:ia(an),makeConstant:ca(an),makeConvolver:sa(an),makeDelay:aa(an),makeDynamicsCompressor:la(an),makeGain:fa(an),makeHighpass:_a(an),makeHighshelf:pa(an),makeIIRFilter:da(an),makeLoopBuf:ga(an),makeLowpass:ma(an),makeLowshelf:ha(an),makeMediaElement:ya(an),makeMicrophone:va(an),makeNotch:$a(an),makePeaking:Ta(an),makePeriodicOsc:ba(an),makePlayBuf:wa(an),makeRecorder:ka(an),makeSawtoothOsc:Oa(an),makeSinOsc:Aa(an),makeSpeaker:Ea,makeSquareOsc:Sa(an),makeStereoPanner:Ca(an),makeTriangleOsc:Na(an),makeWaveShaper:La(an),setAnalyserNodeCb:Fa,setMediaRecorderCb:Ra,setWaveShaperCurve:Ia,setAudioWorkletParameter:Ba,setBuffer:qa,setConvolverBuffer:Ja,setDuration:Qa(an),setPeriodicOsc:Ma,setOnOff:el,setBufferOffset:Ua,setLoopStart:za,setLoopEnd:Ga,setRatio:ja,setOffset:Va,setAttack:Ka,setGain:Pa,setQ:xa,setPan:Wa,setThreshold:Da,setRelease:Ha,setKnee:Ya,setDelay:Xa,setPlaybackRate:Za,setFrequency:nl}),lt=e=>n=>U(U(Tn(al(n)))(fr(_r)))((()=>{const t=ll(e);return r=>U(Tn(t(r)))(fr(_r))})()),_l=e=>n=>{const t=sl(e);return()=>{const r=t(),o={value:0};return cn.subscribe(Ps(n)(fl(o)))(i=>i(r))()}},pl=""+new URL("main0-c75cd855.wav",import.meta.url).href,dl=""+new URL("pizzs1-70cfdb2d.wav",import.meta.url).href,pr=pl,dr=dl,gr=(()=>Dr({append:e=>n=>e||n}).apply)(),mr=(()=>Lu((()=>{const e={append:n=>t=>n||t};return{mempty:!1,Semigroup0:()=>e}})()).pure)(),gl=(()=>_s(Te).apply)(),ml=Jo((()=>{const e=ie(ie(It)(Po)()()()({reflectSymbol:()=>"bufferOffset"}))(Bo)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:n=>Rt(e.convertRecordOptions(Io)(Cn)(n)({}),xo)}})()),hl={map:e=>n=>({push:t=>n.push(t),pull:(()=>{const t=n.pull;return()=>{const r=t();return e(r)}})(),event:(t,r)=>n.event(t,o=>{const i=e(o);return r(i)}),behavior:t=>n.behavior((r,o)=>t(r,i=>o(c=>i(e(c)))))})},qe=e=>cn.makeEvent(n=>()=>{const t=e();return n(t)(),()=>{}}),yl={apply:e=>n=>({push:Ot,pull:(()=>{const t=e.pull,r=n.pull;return()=>{const o=t(),i=r();return o(i)}})(),event:(()=>{const t=qe(e.pull),r=Wn(!0),o=qe(n.pull),i=Wn(!0),c=Ie.apply((s,l)=>{const p=t(s,_=>{const u=gr(mr(_));return l(u)}),f=e.event(s,_=>{const u=gr(r(_));return l(u)});return()=>(p(),f())})((s,l)=>{const p=o(s,_=>{const u=mr(_);return l(u)}),f=n.event(s,_=>{const u=i(_);return l(u)});return()=>(p(),f())});return(s,l)=>c(s,p=>{if(p._1){const f=p._2;return l(f)}})})(),behavior:gl(e.behavior)(n.behavior)}),Functor0:()=>hl},vl=e=>n=>U(lt(e.context)(n))(t=>U(Tn(()=>({value:0})))(r=>{const o={fileName:n,context:e.context,buffer:t,duration:il(t),sampleRate:me(t),instanceCount:r};return U(Tn((()=>{const i=Qr(Tt)(n)(o),c=e.library;return()=>{const s=c.value;c.value=i(s)}})()))(()=>ke(o))})),$l=e=>{const n=e.info,t=n.pull;return{push:r=>n.push((()=>(i=>{let c;return c})())()),pull:()=>{const r=t();return(()=>{if(r.playingSince.tag==="Nothing")return!1;if(r.playingSince.tag==="Just")return!0;g()})()},event:(r,o)=>n.event(r,i=>{const c=(()=>{if(i.playingSince.tag==="Nothing")return!1;if(i.playingSince.tag==="Just")return!0;g()})();return o(c)}),behavior:r=>n.behavior((o,i)=>r(o,c=>i(s=>c((()=>{if(s.playingSince.tag==="Nothing")return!1;if(s.playingSince.tag==="Just")return!0;g()})()))))}},Tl=e=>{const n=e.Eq0().eq;return()=>{let t=un;const r=cn.create(),o=cn.create();return{push:i=>c=>{const s=o.push({address:i,payload:c});return()=>{s();const l=t,p=r.push({address:i,payload:c});if((()=>{const f=ze(e)(i)(l);if(f.tag==="Nothing")return!0;if(f.tag==="Just")return!1;g()})())return p()}},added:(i,c)=>r.event(i,s=>{const l=s.address,p=s.payload;return c((f,_)=>{_(p);const u=o.event(f,a=>{if(n(a.address)(l)){const d=a.payload;return _(d)}});return()=>u()})})}}},bl=e=>{const n=(()=>{if(e.tag==="Nothing")return Gt;if(e.tag==="Just"){const t=e._1;return()=>t}g()})();return()=>{const t=n();return{library:{value:un},context:t}}},wl=e=>()=>{let n=e;const t=cn.create(),r=t.event;return{push:o=>{const i=t.push(o);return()=>(n=o,i())},pull:()=>n,event:r,behavior:o=>St((()=>{const i=qe(()=>n);return(c,s)=>{const l=i(c,s),p=r(c,s);return()=>(l(),p())}})())(o)}},hr=e=>n=>{const t=e.library;return U(Tn(()=>t.value))((()=>{const r=ze(Tt)(n),o=vl(e)(n);return i=>{const c=r(i);if(c.tag==="Nothing")return o;if(c.tag==="Just")return ke(c._1);g()}})())},kl=e=>{const n=qe(e.pull);return(t,r)=>{const o=n(t,r),i=e.event(t,r);return()=>(o(),i())}},yr=e=>n=>{const t=n.instanceCount;return()=>{const r=t.value,o=t.value=r+1|0,i=wl({startOffset:e,playingSince:F})();return{metadata:n,id:o,info:i}}},Ol=e=>z("DynamicChildren'",(n,t)=>e.added(n,r=>t((o,i)=>r(o,c=>{const s=(()=>{if(c.tag==="Nothing")return eo;if(c.tag==="Just")return Nt("Insert",ml(c._1)(Fo()));g()})();return i(s)})))),Al=e=>{const n=go(e),t=e.Filterable1().filterMap;return r=>{const o=t(i=>{if(i.last.tag==="Nothing")return O("Just",i.now);if(i.last.tag==="Just")return r.eq(i.last._1)(i.now)?F:O("Just",i.now);g()});return i=>o(n(i))}},El=Al(we)(mt),Ut=e=>({push:Ot,pull:Fe(e),event:El((n,t)=>Le(n,r=>{const o=Fe(e)();return t(o)})),behavior:n=>(t,r)=>n(t,o=>{const i=o(Fe(e)());return r(i)})}),Cl=e=>{const n=e.metadata.buffer,t=e.info,r=Ut(e.metadata.context).pull;return()=>{const o=r();return t.push({startOffset:0,playingSince:O("Just",o)})(),O("Just",{buffer:n,bufferOffset:0})}},Qt=e=>{const n=e.info;return yl.apply((()=>{const t=n.pull;return{push:r=>n.push((()=>(i=>{let c;return c})())()),pull:()=>{const r=t();return(()=>{const o=r.playingSince,i=r.startOffset;return c=>{if(o.tag==="Just")return i+(c-o._1);if(o.tag==="Nothing")return i;g()}})()},event:(r,o)=>n.event(r,i=>{const c=i.playingSince,s=i.startOffset;return o(l=>{if(c.tag==="Just")return s+(l-c._1);if(c.tag==="Nothing")return s;g()})}),behavior:r=>n.behavior((o,i)=>r(o,c=>i(s=>c((()=>{const l=s.playingSince,p=s.startOffset;return f=>{if(l.tag==="Just")return p+(f-l._1);if(l.tag==="Nothing")return p;g()}})()))))}})())(Ut(e.metadata.context))},Sl=e=>{const n=e.metadata.buffer,t=e.metadata.duration,r=e.info,o=Ut(e.metadata.context).pull;return()=>{const i=o(),c=Qt(e).pull(),s=c>=t?0:c;return r.push({startOffset:s,playingSince:O("Just",i)})(),O("Just",{buffer:n,bufferOffset:s})}},Nl=e=>{const n=e.metadata.duration,t=Qt(e);return{push:r=>t.push(r),pull:(()=>{const r=t.pull;return()=>r()/n})(),event:(r,o)=>t.event(r,i=>{const c=i/n;return o(c)}),behavior:r=>t.behavior((o,i)=>r(o,c=>i(s=>c(s/n))))}},Ll=e=>{const n=e.info,t=Qt(e).pull;return()=>{const r=t();return n.push({startOffset:r,playingSince:F})(),F}},Fl=e=>{const n=$l(e).pull;return()=>n()?Ll(e)():Sl(e)()};function nt(e){return function(n){return function(t){return function(){t.setAttribute(e,n)}}}}function Rl(e){return function(n){return function(){n.textContent=e}}}function Il(e){return function(n){return function(){return n.getElementById(e)}}}const Bl=e=>{const n=Il(e);return t=>{const r=n(t);return()=>{const o=r();return Pt(o,F,Dn)}}};function Pl(e){return function(){return function(n){return e(n)()}}}function xl(e){return function(n){return function(t){return function(r){return function(){return r.addEventListener(e,n,t)}}}}}const Ht=e=>({tag:e}),ft=e=>n=>{const t=he.compare(e)(n);if(t.tag==="LT")return n;if(t.tag==="EQ"||t.tag==="GT")return e;g()},Vt=$e(Ue)(0),ql=e=>-e,Jl=Di(qt),Ml=e=>n=>{const t=bt.compare(e)(n);if(t.tag==="LT"||t.tag==="EQ")return e;if(t.tag==="GT")return n;g()},Wl=Uu(qt),Dl=e=>e,vr=po(we),Zn=e=>n=>t=>{const r=he.compare(e)(t),o=(()=>{if(r.tag==="LT")return t;if(r.tag==="EQ"||r.tag==="GT")return e;g()})(),i=he.compare(n)(o);if(i.tag==="LT"||i.tag==="EQ")return n;if(i.tag==="GT")return o;g()},zl={eq:e=>n=>e.tag==="Nothing"?n.tag==="Nothing":e.tag==="Just"&&n.tag==="Just"?e._1===n._1:!1},Gl=Ai(st),$r=(()=>Ct.traverse(ve))(),Ul=We(ve)(qn),Ln=Lt(ae),oe=uo(ae),et=(()=>oe.state(e=>w(e,e)))(),_e=Mi(oe),Ql=e=>n=>{const t=he.compare(e)(n);if(t.tag==="LT"||t.tag==="EQ")return e;if(t.tag==="GT")return n;g()},tt=Wi(oe),Hl=Tn(Gt),Vl=Tl(ou()((()=>{const e={eqRecord:n=>t=>r=>t.fileName===r.fileName&&t.id===r.id};return{compareRecord:n=>t=>r=>{const o=Tt.compare(t.fileName)(r.fileName);if(o.tag==="LT"||o.tag==="GT"||o.tag!=="EQ")return o;const i=bt.compare(t.id)(r.id);return i.tag==="LT"||i.tag==="GT"||i.tag!=="EQ"?i:Je},EqRecord0:()=>e}})())),Jn=(()=>le(be.alt)(Sn.empty))(),jl=e=>n=>(t,r)=>(r({key:"x1",value:nn("Prop'",n)}),()=>{}),Kl=e=>n=>(t,r)=>(r({key:"x2",value:nn("Prop'",n)}),()=>{}),Yl=e=>n=>(t,r)=>(r({key:"y1",value:nn("Prop'",n)}),()=>{}),Xl=e=>n=>(t,r)=>(r({key:"y2",value:nn("Prop'",n)}),()=>{}),Kn=Nu(er)(er),rt=(()=>Ge.foldMapWithIndex(lo))(),Tr=tc(we),Zl=We(At),nf=Zl(qn),ef=Bs((()=>{const e=ie(ie(ie(It)(Fs)()()()({reflectSymbol:()=>"smoothingTimeConstant"}))(Ls)()()()({reflectSymbol:()=>"fftSize"}))(Ns)()()()({reflectSymbol:()=>"cb"});return{toInitializeAnalyser:n=>Rt(e.convertRecordOptions(Ss)(Cn)(n)({}),Rs)}})()),tf=Jo((()=>{const e=ie(ie(It)(Po)()()()({reflectSymbol:()=>"bufferOffset"}))(Bo)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:n=>Rt(e.convertRecordOptions(Io)(Cn)(n)({}),xo)}})()),rf=rc(we),of=(()=>qn.foldMap($c)(xr))(),uf=e=>n=>(t,r)=>(r({key:"id",value:nn("Prop'",n)}),()=>{}),br=e=>n=>(t,r)=>(r({key:"type",value:nn("Prop'",n)}),()=>{}),wr=e=>n=>(t,r)=>(r({key:"checked",value:nn("Prop'",n)}),()=>{}),cf=e=>n=>(t,r)=>(r({key:"class",value:nn("Prop'",n)}),()=>{}),sf=e=>n=>(t,r)=>n(t,o=>r({key:"style",value:nn("Prop'",o)})),af=e=>n=>(t,r)=>(r({key:"class",value:nn("Prop'",n)}),()=>{}),lf=e=>n=>(t,r)=>n(t,o=>{const i={key:"mousedown",value:nn("Cb'",c=>()=>(o(),!0))};return r(i)}),ff=e=>n=>(t,r)=>n(t,o=>r({key:"style",value:nn("Prop'",o)})),_f=e=>n=>(t,r)=>(r({key:"width",value:nn("Prop'",n)}),()=>{}),pf=e=>n=>(t,r)=>(r({key:"height",value:nn("Prop'",n)}),()=>{}),df=e=>n=>(t,r)=>(r({key:"viewBox",value:nn("Prop'",n)}),()=>{}),gf=(()=>{const e=io.foldMap1({append:n=>t=>r=>n(r)+r+t(r)});return n=>t=>r=>e(o=>{const i=t(o);return c=>i})(r)(n)})(),mf=qc(Oc),hf=e=>n=>(t,r)=>n(t,o=>r({key:"style",value:nn("Prop'",o)})),yf=e=>n=>(t,r)=>(r({key:"id",value:nn("Prop'",n)}),()=>{}),vf=e=>n=>(t,r)=>(r({key:"gradientUnits",value:nn("Prop'",n)}),()=>{}),kr=e=>n=>(t,r)=>(r({key:"offset",value:nn("Prop'",n)}),()=>{}),Or=e=>n=>(t,r)=>(r({key:"stop-color",value:nn("Prop'",n)}),()=>{}),Ar=e=>n=>(t,r)=>(r({key:"stop-opacity",value:nn("Prop'",n)}),()=>{}),$f=e=>n=>(t,r)=>(r({key:"fill",value:nn("Prop'",n)}),()=>{}),Tf=e=>n=>(t,r)=>(r({key:"stroke-linecap",value:nn("Prop'",n)}),()=>{}),bf=e=>n=>(t,r)=>(r({key:"stroke-linejoin",value:nn("Prop'",n)}),()=>{}),wf=e=>n=>(t,r)=>(r({key:"stroke-opacity",value:nn("Prop'",n)}),()=>{}),kf=e=>n=>(t,r)=>(r({key:"d",value:nn("Prop'",n)}),()=>{}),Of=e=>n=>(t,r)=>(r({key:"fill-opacity",value:nn("Prop'",n)}),()=>{}),Af=e=>n=>(t,r)=>(r({key:"stroke",value:nn("Prop'",n)}),()=>{}),Ef=e=>n=>(t,r)=>(r({key:"stroke-width",value:nn("Prop'",n)}),()=>{}),Cf=e=>n=>(t,r)=>(r({key:"filter",value:nn("Prop'",n)}),()=>{}),Do=Ht("New"),Sf=Ht("Reversable"),Nf=Ht("Reversing"),Lf=(()=>{const e=Qn(Wn),n=Au(qn)(t=>r=>he.compare(t._2)(r._2));return t=>{const r=n(e(t));return r.tag==="Just"?O("Just",r._1._1):F}})(),Ff=(()=>Ge.foldMapWithIndex(qt)(e=>n=>(e===0?"M":"L")+In(n._1)+" "+In(n._2)))(),ot=e=>n=>{const t=3.141592653589793*e/180,r=Bi(t),o=Ri(t);return w(o*n._1+r*n._2,o*n._2-r*n._1)},Rf=e=>n=>e.high<n.low||e.low>n.high?0:1-(ft(0)(n.high-e.high)+ft(0)(e.low-n.low))/(n.high-n.low),Yn=e=>n=>e.liftEffect(()=>{const t=cn.create();return cn.subscribe(n)(t.push)(),t.event}),If=(()=>He(xt(Pe(400.90909090909093)/Pe(2))))(),Bf=e=>n=>Vt(gn(t=>t._2*Rf(e)(t._1))(n)),Pf=e=>{const n=xi(16);return"linear-gradient("+Wl(",")(zr(Fn(t=>r=>{const o=n(Ml(255)(He(xt(255*Ne(r/12e3)(.7)))));return t+Jl("0")(2-Zi(o).length|0)+o})(kt(["#8A0085","#630D07","#115FFA","#11F0EC"])(De(2)))(Fn(co)([3.5,3,2.5,1.5,.5,.3,.15,.15])(e))))+")"},xf=e=>n=>{const t=bn(n.length);return Qn(r=>Wn({center:me(e)/2*((bn(r)+.5)/t),low:me(e)/2*((bn(r)+0)/t),high:me(e)/2*((bn(r)+1)/t)}))(n)},zo=Qn(e=>n=>e)(De(12)()),qf=e=>gn(n=>gn(Et)(Gu(t=>n===t._1)(e)))(zo),Jf={tracking:{note:F,targetSpeed:0,currentAccel:0,currentSpeed:0,currentPosition:0,poked:-86399778816e5,reversed:!0,reversable:Do},notes:gn(e=>({targetSpeed:360,poked:-86399778816e5}))(zo)},Mf=(()=>qn.foldMap(lo)(xr)(Qn(e=>n=>{if(e<2||se(e)(2)===0)return[];const t=bn(e),r=Pe(t)/Pe(2)*12,o=He(Ii(r)),i=se(o)(12),c=at(o)(12),s=Qe(r)(1);return .35<s&&s<.65?[]:[{note:i,octave:c,harmonic:e,weight:Xn(1/t)}]})(De(so(2)(6)-1|0)())))(),_t=e=>{const n=Bl(e),t=vo(xe("Missing element"));return()=>{const r=Ve(),o=Mt(r)(),i=n(o)();if(i.tag==="Nothing")return t();if(i.tag==="Just")return i._1;g()}},pe=e=>{const n=_t("status"),t=Rl(e);return()=>{const r=n();return t(r)()}},pt=e=>n=>t=>t.poked===-86399778816e5?{...t,targetSpeed:n?360:0,poked:e}:{...t,targetSpeed:Zn(0)(360)((n?Ue:Ni)(t.targetSpeed)(360*((e+-t.poked)/(n?6e3:3500)))),poked:e},Wf=e=>n=>t=>{if((()=>t.tracking.note.tag==="Nothing"?e.tag==="Nothing":t.tracking.note.tag==="Just"&&e.tag==="Just"?t.tracking.note._1===e._1:!1)())return t;const r=t.tracking,o=Gl(i=>c=>{const s=(()=>e.tag==="Nothing"?!1:e.tag==="Just"?e._1===i:!1)(),l=(()=>r.note.tag==="Nothing"?!1:r.note.tag==="Just"?r.note._1===i:!1)();return l?s?p=>({accum:c,value:p}):p=>({accum:c,value:pt(n)(!1)(p)}):l?p=>({accum:c,value:p}):s?p=>{const f=pt(n)(!0)(p);return{accum:f.targetSpeed,value:f}}:p=>({accum:c,value:p})})(r.targetSpeed)(t.notes);return{tracking:{note:e,targetSpeed:o.accum,currentAccel:r.currentAccel,currentSpeed:r.currentSpeed,currentPosition:r.currentPosition,poked:r.poked,reversed:r.reversed,reversable:r.reversable},notes:o.value}},Df=e=>{const n=go(e),t=e.Filterable1().filterMap;return r=>{const o=t(i=>{if(i.last.tag==="Nothing")return O("Just",i.now);if(i.last.tag==="Just")return r.eq(i.last._1)(i.now)?F:O("Just",i.now);g()});return i=>o(n(i))}},jt=Df(we),zf=jt({eq:Xo(ec)}),Gf=jt(zl),Er=jt(mt),Uf=e=>(()=>{const n=$r((()=>{const t=gn(r=>0);return r=>wu(t(r))})())(e);return()=>{const t=n();return Ul(Mf)(r=>{const o=r.note,i=r.octave,c=r.weight,s=e.length;return()=>{for(const l of Kt(0,s)){const p=e[l];for(const f of Kt(0,p.length)){const _=p[f];Ou(i+f|0)(u=>u+_*c)(t[se(o+l|0)(12)])()}}}})(),$r(bu)(t)()}})()(),Qf=e=>{if(e.tag==="This"||e.tag==="That")return e._1;if(e.tag==="Both")return e._1+e._2;g()},Hf=(()=>$e(Bt.align(Qf))([]))(),Vf=e=>({center:55*Ne(2)(bn(e)/12),low:55*Ne(2)((bn(e)-.5)/12),high:55*Ne(2)((bn(e)+.5)/12)}),jf=(()=>Qn(e=>n=>w(se(e)(12),Vf(e)))(De(12*If|0)()))(),Kf=e=>n=>{const t=n._2,r=n._1<.01?0:Xn(Zn(0)(1)(n._1*4));return Ln.bind(oe.state(o=>w(o.poked===-86399778816e5?t:o.poked,o)))(o=>Ln.bind(Ln.bind(et)(i=>{const c=i.currentSpeed,s=i.reversable;return Ln.bind(oe.state(l=>w(s.tag==="Reversing"?-l.targetSpeed:l.targetSpeed,l)))(l=>{const p=tr(l)/360,f=s.tag==="Reversing"?p*-500+(1-p)*-60:-60;return _e(ee({reflectSymbol:()=>"currentAccel"})()()(Cn)(te))(_=>Zn(f)(500)(c<Ql(r*360)(l)?_+500*((t+-o)/1e3):_-500*((t+-o)/500)))})}))(()=>Ln.bind(oe.state(i=>w(i.currentAccel,i)))(i=>Ln.bind(Ln.bind(et)(c=>{const s=c.reversable,l=i*((t+-o)/1e3);return Ln.bind(oe.state(p=>w(p.currentSpeed+l,p)))(p=>p<=0&&s.tag==="Reversing"?Ln.bind(tt(ee({reflectSymbol:()=>"currentSpeed"})()()(Cn)(te))(Zn(0)(360)(tr(p))))(()=>Ln.bind(_e(ee({reflectSymbol:()=>"reversed"})()()(Cn)(te))(Li))(()=>tt(ee({reflectSymbol:()=>"reversable"})()()(Cn)(te))(Do))):Ln.bind(tt(ee({reflectSymbol:()=>"currentSpeed"})()()(Cn)(te))(Zn(0)(360)(p)))(()=>_e(ee({reflectSymbol:()=>"reversable"})()()(Cn)(te))(f=>f.tag==="New"?p>198.00000000000003?Sf:f:f.tag==="Reversable"&&p<144?Nf:f)))}))(()=>Ln.bind(et)(c=>{const s=c.currentSpeed,l=c.reversed;return Ln.bind(_e(ee({reflectSymbol:()=>"currentPosition"})()()(Cn)(te))(p=>p+(l?-s:s)*((t+-o)/1e3)))(()=>_e(Dl)(pt(t)(!1)))})))))(e)._2},Yf=e=>n=>{const t=Wf(n._2._1)(n._2._2)(e);return{tracking:Kf(t.tracking)(w(n._1,n._2._2)),notes:t.notes}},Cr=e=>{const n=Bt.align(t=>{if(t.tag==="This")return O("Just",e(t._1)(F));if(t.tag==="Both")return O("Just",e(t._1)(O("Just",t._2)));if(t.tag==="That")return F;g()});return t=>{const r=n(t);return o=>Ku(i=>i)(r(o))}},Xf=e=>Cr(n=>{const t=Cr(r=>o=>({original:r,corrected:ft(0)((()=>{if(o.tag==="Nothing")return r-0;if(o.tag==="Just")return r-o._1;g()})()),correction:(()=>{if(o.tag==="Nothing")return 0;if(o.tag==="Just")return o._1;g()})()}))(n);return r=>{if(r.tag==="Nothing")return gn(o=>({original:o,corrected:o,correction:0}))(n);if(r.tag==="Just")return t(r._1);g()}})(e)(Uf(e)),Go=e=>n=>Xf(qf((()=>{const t=xf(e)(n);return gn(r=>w(r._1,Bf(r._2)(t)))(jf)})())),Zf=e=>n=>gn(Vt)(gn(gn(t=>t.corrected))(Go(e)(n))),n_=(()=>{const e=Rc(Bc,U(Tn(pe("Click to load samples")))(()=>U($o(n=>{const t=Pl(r=>n(Nn("Right",void 0)));return()=>{const r=t(),o=vo(xe("missing body")),i=Ve(),c=Mt(i)(),s=Eo(c),l=Pt(s,F,Dn),p=(()=>{if(l.tag==="Nothing")return o();if(l.tag==="Just")return l._1;g()})();return xl("click")(r)(!1)(p)(),wo}}))(()=>U(Tn(pe("Loading samples …")))(()=>U(Hl)(n=>U(Tn(bl(O("Just",n))))(t=>U(hr(t)(dr))(r=>U(hr(t)(pr))(o=>U(Tn(yr(0)(o)))(i=>U(Tn(Vl))(c=>U(lt(n)(dr))(s=>U(lt(n)(pr))(l=>U(Tn(ar(l)))(()=>{const p=bn(ul(l))/me(l);return U(Tn(pe("Starting UI …")))(()=>{const f=rt(u=>{const a=bn(u)*60;return d=>gn(ot(a))(Mn(gn(Ru.bimap(ql)(Fu))((()=>{const y=2/Xn(3);return Mn(Mn([w(y,0)])(gn(Kn.add(w(y,0)))(rt(v=>T=>gn(b=>w(b._1,b._2+bn(v)*5.1))((()=>{const b=w(T,T/Xn(3));return[b,Kn.add(b)(w(0,2.05)),Kn.add(Kn.add(b)(w(0,2.05)))(w(-(1.025*Xn(3)),1.025)),w(0,4.1),w(0,5.1)]})()))(d._1))))([w(y,49),w(0,50)])})()))(zr((()=>{const y=2/Xn(3);return Mn(Mn([w(y,0)])(gn(Kn.add(w(y,0)))(rt(v=>T=>gn(b=>w(b._1,b._2+bn(v)*5.1))((()=>{const b=w(T,T/Xn(3));return[b,Kn.add(b)(w(0,2.05)),Kn.add(Kn.add(b)(w(0,2.05)))(w(-(1.025*Xn(3)),1.025)),w(0,4.1),w(0,5.1)]})()))(d._2))))([w(y,49),w(0,50)])})())))}),_=ds(Le);return U(Tn(()=>cn.create()))(u=>{const a={cb:d=>{const y=u.push(F),v=u.push(O("Just",d));return()=>(v(),y)},fftSize:Ts,smoothingTimeConstant:.5};return U(Yn(jn)((()=>{const d=gn(nc),y=zf(fs(Te)(Nr)(v=>{const T=St(u.event)((b,h)=>v(b,A=>h(I=>I.tag==="Just"?O("Just",A((()=>{const V=ol(I._1);return()=>{const X=V();return Si(X)}})()())):F)));return(b,h)=>T(b,A=>{if(A.tag==="Just"){const I=A._1;return h(I)}A.tag!=="Nothing"&&g()})})(Le));return(v,T)=>y(v,b=>{const h=d(b);return T(h)})})()))(d=>U(Yn(jn)((y,v)=>d(y,T=>{const b=Zf(l)(T);return v(b)})))(y=>U(Yn(jn)((v,T)=>d(v,b=>{const h=gn(gn(A=>A.corrected))(Go(l)(b));return T(h)})))(v=>U(Yn(jn)(Gf((T,b)=>y(T,h=>{const A=Lf(h);return b(A)}))))(T=>U(Yn(jn)((b,h)=>v(b,A=>{const I=Hf(A);return h(I)})))(b=>U(Yn(jn)(vr(h=>Qn(A=>I=>{const V=Gr(h)(A),X=(()=>{if(V.tag==="Nothing")return 0;if(V.tag==="Just")return V._1;g()})();return I>X?.6*X+.4*I:.9*X+.1*I}))([])(b)))(h=>U(Yn(jn)((A,I)=>h(A,V=>{const X=Zn(0)(1)(Vt(V)/8e4);return I(X)})))(A=>U(Yn(jn)(vr(Yf)(Jf)(Tr((I,V)=>A(I,X=>{const dn=Wn(X);return V(dn)}))(Tr((I,V)=>T(I,X=>{const dn=Wn(X);return V(dn)}))((I,V)=>_(I,X=>{const dn=X.time;return V(dn)}))))))(I=>U(ke((V,X)=>I(V,dn=>{const j=dn.tracking.currentPosition;return X(j)})))(V=>U(Tn(()=>cn.create()))(X=>U(Tn(()=>cn.create()))(dn=>U(Tn(pe("")))(()=>U(Tn((()=>{const j=nt("style")(""),G=_t("help");return()=>{const q=G();return j(q)()}})()))(()=>U(Tn((()=>{const j=ls(sr(()=>{const G=Gt();return ar(G)(),nf(["help","title"])(q=>{const R=_t(q);return()=>{const K=R();return nt("style")("transition:opacity 0.5s ease-out;opacity:0")(K)(),Vr(1e3)(nt("style")("display:none")(K))()}})(),_l(G)([ef(a)([z("DynamicChildren'",(()=>{const q=Ie.apply((R,K)=>X.event(R,J=>K(Z=>({startTime:J,io:Z}))))(dn.event);return(R,K)=>q(R,J=>{const Z=(()=>{if(J.io){const B=Nt("Insert",tf({buffer:l,bufferOffset:J.startTime})(Fo()));return(on,rn)=>{const x=dn.event(on,H=>rn(eo));return rn(B),()=>{x()}}}return Sn.empty})();return K(Z)})})()),Ol(c)])])(),G})(G=>{const q=G._2;return z("EventfulElement'",cn.bus(R=>K=>{const J=Z=>()=>{const B=Z();return G._1(()=>B)(),R(B)(),B};return sr(F)(Z=>{const B=rf(K)(Le);return z("EventfulElement'",cn.memoize((on,rn)=>B(on,x=>{const H=Fe(x)();return rn(H)}))(on=>z("EventfulElement'",cn.memoize(kl(Nl(i)))(rn=>of([Ze(uf()("controls"))([ir(Sn.empty)([ur(Jn([br()("checkbox"),wr()("false")]))([]),or((x,H)=>(H(" Auto chords"),()=>{}))]),ir(Sn.empty)([ur(Jn([br()("checkbox"),wr()("false")]))([]),or((x,H)=>(H(" Straight through"),()=>{}))])]),Ze((()=>{const x=sf()((H,m)=>h(H,C=>{const D="background:"+Pf(C);return m(D)}));return(H,m)=>{cf()("scene")(H,m);const C=x(H,m);return()=>C()}})())([Ze(Sn.empty)(gn(x=>{const H=x/p;return Cc(Jn([af()("chord"),(m,C)=>(C({key:"data-chord-name",value:nn("Prop'","Emin")}),()=>{}),lf()((m,C)=>q(m,D=>{const M=J(D);return C(()=>{M();const k=yr(0)(r)(),$=Cl(k)();return c.push({fileName:k.metadata.fileName,id:k.id})($)()})})),ff()((()=>{const m=Er(rn);return(C,D)=>m(C,M=>{const k=Zn(0)(1)(M),$="position: absolute; left: 0; top: calc("+In((2*H-k)*100)+"% - "+In((k-.5)*100)+"px); width: 100vw; height: 1px";return D($)})})())]))([])})([1.697,4.825,8.424,26.27,28.489])),Lc(Jn([_f()("110.0"),pf()("110.0"),df()((()=>{const x=gf(" ")(In),H=[-55,-55,110,110];return H.length>0?x(H):""})()),mf((()=>{const x=Ie.apply((H,m)=>Z._2(H,C=>{const D=Wn(C);return m(D)}))(q);return(H,m)=>x(H,C=>{const D=J(C._2);return m(()=>{D();const M=Fl(i)();return c.push({fileName:i.metadata.fileName,id:i.id})(M)()})})})()),hf()((()=>{const x=Er(rn);return(H,m)=>x(H,C=>{const D=Zn(0)(1)(C),M="position: absolute; left: calc(50.0% - 50.0px); top: calc("+In(D*100)+"% - "+In(D*100)+"px);";return m(M)})})())]))([Ac(Sn.empty)([Sc(Jn([yf()("linearGradientArm"),vf()("userSpaceOnUse"),(x,H)=>{let m=()=>{};const C=ot(0)(w(0,50)),D=ot(0)(w(0,-50));return m(),m=Jn([jl()(In(C._1)),Kl()(In(D._1)),Yl()(In(C._2)),Xl()(In(D._2))])(x,H),()=>{m()}}]))([cr(Jn([kr()("0"),Or()("#6b91ab"),Ar()("0.9")]))([]),cr(Jn([kr()("1"),Or()("#f3feff"),Ar()("0.95")]))([])])]),Ec(Jn([$f()("#bfe6ff"),Tf()("butt"),bf()("miter"),wf()("1"),(x,H)=>V(x,m=>{const C={key:"transform",value:nn("Prop'","rotate("+In(Qe(m+30)(60)-30)+")")};return H(C)})]))((()=>{const x=[1,3,3,6,4,4,5,3,1];return kt([[Nc(Jn([kf()(Ff(f([w(x,x),w(x,x),w(x,x),w(x,x),w(x,x),w(x,x)]))),Of()(".91"),Af()("none"),Ef()("0.6"),Cf()("url(#filter17837)")]))([])]])(cu)})())])])])))))})}))}));return()=>{j()}})()))(()=>Tn(pe(""))))))))))))))))})})})))))))))))));return()=>{e().run()}})();n_();
