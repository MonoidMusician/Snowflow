(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const i of u)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(u){const i={};return u.integrity&&(i.integrity=u.integrity),u.referrerpolicy&&(i.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?i.credentials="include":u.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(u){if(u.ep)return;u.ep=!0;const i=t(u);fetch(u.href,i)}})();function Er(e){let n=0,t;return()=>{if(n===2)return t;if(n===1)throw new Error("Binding demanded before initialized");return n=1,t=e(),n=2,t}}function*Ft(e,n){for(let t=e;t<n;t++)yield t}function g(){throw new Error("Failed pattern match")}const Mo=function(e){return function(n){return{}.hasOwnProperty.call(n,e)}},Fe=function(e){return function(n){return n[e]}},Oe=function(e){return function(n){return function(t){var r={};for(var u in t)({}).hasOwnProperty.call(t,u)&&(r[u]=t[u]);return r[e]=n,r}}},Do=()=>({tag:"Proxy"}),hn=Do();var gt=function(e){return function(n){return e===n}};const Wo=gt,zo=gt,Go=gt,Nr=function(e){return function(n){return function(t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(!e(n[r])(t[r]))return!1;return!0}}},Uo={eq:Go},Lr={eq:zo},Qo={eq:Wo},mt=e=>({tag:e}),Rr=mt("LT"),Sr=mt("GT"),Br=mt("EQ");var Pr=function(e){return function(n){return function(t){return function(r){return function(u){return r<u?e:r===u?n:t}}}}};const Ho=Pr,Vo=Pr,ht={compare:Vo(Rr)(Br)(Sr),Eq0:()=>Lr},vt={compare:Ho(Rr)(Br)(Sr),Eq0:()=>Qo},Fr=e=>n=>e,yt=e=>n=>n(e),sn=function(e){return function(n){for(var t=n.length,r=new Array(t),u=0;u<t;u++)r[u]=e(n[u]);return r}},Ir={map:sn},jo=e=>e,oe=function(e){return function(n){for(var t=[],r=0,u=e.length;r<u;r++)Array.prototype.push.apply(t,n(e[r]));return t}},je=e=>e,Ko=e=>(t=>{let r;return r})(),$t=function(e){return e.toString()},An=function(e){var n=e.toString();return isNaN(n+".0")?n:n+".0"},S=(e,n)=>({tag:e,_1:n}),M=S("Nothing"),Wn=e=>S("Just",e),Z=e=>n=>t=>{if(t.tag==="Nothing")return e;if(t.tag==="Just")return n(t._1);g()},qr=e=>{if(e.tag==="Nothing")return!0;if(e.tag==="Just")return!1;g()},En=(e,n)=>({tag:e,_1:n}),Yo=e=>En("Left",e),xr=e=>En("Right",e),Jr={map:e=>n=>{if(n.tag==="Left")return En("Left",n._1);if(n.tag==="Right")return En("Right",e(n._1));g()}},Xo=e=>e,Mr={map:e=>n=>e(n)},Dr={apply:e=>n=>e(n),Functor0:()=>Mr},Zo={bind:e=>n=>n(e),Apply0:()=>Dr},nu={pure:Xo,Apply0:()=>Dr},$e={Applicative0:()=>nu,Bind1:()=>Zo},eu=function(e){return function(){return e}},tu={apply:e=>n=>()=>{const t=e(),r=n();return De.pure(t(r))()},Functor0:()=>ru},De={pure:eu,Apply0:()=>tu},ru={map:e=>n=>()=>{const t=n();return e(t)}},ou=function(e){return function(n){return function(){return e(n())}}},uu=function(e){return function(){return e}},iu={map:ou},cu={apply:e=>n=>()=>{const t=e(),r=n();return Te.pure(t(r))()},Functor0:()=>iu},Te={pure:uu,Apply0:()=>cu},su=function(e){return function(n){return function(t){return function(r){return function(){return t>=0&&t<r.length?e(r[t]):n}}}}},au=function(e){return function(n){return function(t){return function(){var r=e>=0&&e<t.length;return r&&(t[e]=n),r}}}},It=function(e){return function(n){return function(t){return function(r){return function(){return r.splice.apply(r,[e,n].concat(t))}}}}},fu=function(e){return function(){return e}};function Wr(e){return function(){return e.slice()}}const qt=Wr,lu=Wr,_u=su(Wn)(M),pu=e=>n=>t=>{const r=_u(e)(t);return()=>{const u=r();if(u.tag==="Just")return au(e)(n(u._1))(t)();if(u.tag==="Nothing")return!1;g()}},fe=function(e){return function(n){return function(t){for(var r=n,u=t.length,i=u-1;i>=0;i--)r=e(t[i])(r);return r}}},le=function(e){return function(n){return function(t){for(var r=n,u=t.length,i=0;i<u;i++)r=e(r)(t[i]);return r}}},du=e=>e,zr=e=>{const n=e.Apply0(),t=n.Functor0().map;return r=>u=>r.foldr(i=>{const s=u(i);return a=>n.apply(t(f=>jo)(s))(a)})(e.pure())},we=e=>{const n=zr(e);return t=>{const r=n(t);return u=>i=>r(i)(u)}},Gr=e=>n=>e.foldl(t=>r=>{if(t.tag==="Nothing")return S("Just",r);if(t.tag==="Just")return S("Just",n(t._1)(r).tag==="GT"?t._1:r);g()})(M),We={foldr:e=>n=>t=>{if(t.tag==="Nothing")return n;if(t.tag==="Just")return e(t._1)(n);g()},foldl:e=>n=>t=>{if(t.tag==="Nothing")return n;if(t.tag==="Just")return e(n)(t._1);g()},foldMap:e=>{const n=e.mempty;return t=>r=>{if(r.tag==="Nothing")return n;if(r.tag==="Just")return t(r._1);g()}}},Gn={foldr:fe,foldl:le,foldMap:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>Gn.foldr(u=>i=>n(r(u))(i))(t)}},gu=function(e){return function(n){return e+n}},zn=function(e){return function(n){return e.length===0?n:n.length===0?e:e.concat(n)}},mu={append:gu},hu={append:zn},N=(e,n)=>({tag:"Tuple",_1:e,_2:n}),se=e=>n=>N(e,n),Tt=e=>e._2,vu=e=>{const n=e.one,t=e.zero;return r=>({add:u=>i=>N(e.add(u._1)(i._1),r.add(u._2)(i._2)),one:N(n,r.one),mul:u=>i=>N(e.mul(u._1)(i._1),r.mul(u._2)(i._2)),zero:N(t,r.zero)})},Ur=e=>e._1,yu=e=>e,$u={bimap:e=>n=>t=>N(e(t._1),n(t._2))},Tu=function(){function e(u){return[u]}function n(u){return function(i){return[u,i]}}function t(u){return function(i){return function(s){return[u,i,s]}}}function r(u){return function(i){return u.concat(i)}}return function(u){return function(i){return function(s){return function(a){return function(f){function p(_,l){switch(l-_){case 0:return s([]);case 1:return i(e)(a(f[_]));case 2:return u(i(n)(a(f[_])))(a(f[_+1]));case 3:return u(u(i(t)(a(f[_])))(a(f[_+1])))(a(f[_+2]));default:var o=_+Math.floor((l-_)/4)*2;return u(i(r)(p(_,o)))(p(o,l))}}return p(0,f.length)}}}}}}(),wu=e=>e,Qr={traverse:e=>{const n=e.Apply0();return Tu(n.apply)(n.Functor0().map)(e.pure)},sequence:e=>Qr.traverse(e)(wu),Functor0:()=>Ir,Foldable1:()=>Gn},Fn=function(e){return function(n){for(var t=e>n?-1:1,r=new Array(t*(n-e)+1),u=e,i=0;u!==n;)r[i++]=u,u+=t;return r[i]=u,r}};var bu=function(e){return function(n){if(e<1)return[];var t=new Array(e);return t.fill(n)}},ku=function(e){return function(n){for(var t=[],r=0,u=0;u<e;u++)t[r++]=n;return t}};const Un=typeof Array.prototype.fill=="function"?bu:ku,Ou=function(e){return function(n){return function(t){return function(r){return r<0||r>=t.length?n:e(t[r])}}}},Au=function(e){return function(n){return function(t){return function(r){for(var u=0,i=r.length;u<i;u++)if(t(r[u]))return e(u);return n}}}},Cu=function(e){return function(n){return function(t){return function(r){if(t<0||t>=r.length)return n;var u=r.slice();return u.splice(t,1),e(u)}}}},Xn=function(e){return e.slice().reverse()},Eu=function(e){return function(n){return n.filter(e)}},Ie=function(e){return function(n){return function(t){return t.slice(e,n)}}},Ln=function(e){return function(n){return function(t){for(var r=n.length<t.length?n.length:t.length,u=new Array(r),i=0;i<r;i++)u[i]=e(n[i])(t[i]);return u}}},Nu=e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>u=>le(i=>s=>i.init?{init:!1,acc:s}:{init:!1,acc:n(i.acc)(n(r)(s))})({init:!0,acc:t})(u).acc},ue=Ou(Wn)(M),Lu=Au(Wn)(M),Ru=Cu(Wn)(M),Su=e=>n=>t=>{if(t.length===0)return[];const r=Lu(e(n))(t);if(r.tag==="Nothing")return t;if(r.tag==="Just"){const u=Ru(r._1)(t);if(u.tag==="Just")return u._1;g()}g()},Bu=e=>n=>oe(n)(e),Pu=e=>Bu(n=>{const t=e(n);if(t.tag==="Nothing")return[];if(t.tag==="Just")return[t._1];g()}),Hr=(e,n)=>({tag:"NonEmpty",_1:e,_2:n}),j=(e,n,t)=>({tag:e,_1:n,_2:t}),te=j("Nil"),Fu=e=>n=>j("Cons",e,n),ye={foldr:e=>n=>{const t=ye.foldl(u=>i=>e(i)(u))(n),r=(()=>(i=>s=>{let a=i,f=s,p=!0,_;for(;p;){const l=a,o=f;if(o.tag==="Nil"){p=!1,_=l;continue}if(o.tag==="Cons"){a=j("Cons",o._1,l),f=o._2;continue}g()}return _})(te))();return u=>t(r(u))},foldl:e=>t=>r=>{let u=t,i=r,s=!0,a;for(;s;){const f=u,p=i;if(p.tag==="Nil"){s=!1,a=f;continue}if(p.tag==="Cons"){u=e(f)(p._1),i=p._2;continue}g()}return a},foldMap:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>ye.foldl(u=>{const i=n(u);return s=>i(r(s))})(t)}},Iu={append:e=>n=>Hr(e._1,ye.foldr(Fu)(j("Cons",n._1,n._2))(e._2))},qu=function(e){return function(n){return function(t){return function(r){return function(u){return function(i){for(var s=[],a=i;;){var f=u(a);s.push(t(f));var p=r(f);if(e(p))return s;a=n(p)}}}}}}},xu=e=>{if(e.tag==="Just")return e._1;g()},Ju={unfoldr1:qu(qr)(xu)(Ur)(Tt)},Mu=function(e){return function(n){return function(t){return function(r){return function(u){return function(i){for(var s=[],a=i;;){var f=u(a);if(e(f))return s;var p=n(f);s.push(t(p)),a=r(p)}}}}}}},Du=e=>{if(e.tag==="Just")return e._1;g()},Wu={unfoldr:Mu(qr)(Du)(Ur)(Tt),Unfoldable10:()=>Ju},mn=function(e){throw new Error(e)},Ae=(e,n,t,r)=>({tag:"KickUp",_1:e,_2:n,_3:t,_4:r}),L=(e,n,t,r,u,i,s,a)=>({tag:e,_1:n,_2:t,_3:r,_4:u,_5:i,_6:s,_7:a}),cn=(e,n,t,r,u,i,s)=>({tag:e,_1:n,_2:t,_3:r,_4:u,_5:i,_6:s}),nn=L("Leaf"),Vr=e=>n=>r=>{let u=r,i=!0,s;for(;i;){const a=u;if(a.tag==="Leaf"){i=!1,s=M;continue}if(a.tag==="Two"){const f=e.compare(n)(a._2);if(f.tag==="EQ"){i=!1,s=S("Just",a._3);continue}if(f.tag==="LT"){u=a._1;continue}u=a._4;continue}if(a.tag==="Three"){const f=e.compare(n)(a._2);if(f.tag==="EQ"){i=!1,s=S("Just",a._3);continue}const p=e.compare(n)(a._5);if(p.tag==="EQ"){i=!1,s=S("Just",a._6);continue}if(f.tag==="LT"){u=a._1;continue}if(p.tag==="GT"){u=a._7;continue}u=a._4;continue}g()}return s},$n=e=>n=>t=>{let r=n,u=t,i=!0,s;for(;i;){const a=r,f=u;if(a.tag==="Nil"){i=!1,s=f;continue}if(a.tag==="Cons"){if(a._1.tag==="TwoLeft"){r=a._2,u=L("Two",f,a._1._1,a._1._2,a._1._3);continue}if(a._1.tag==="TwoRight"){r=a._2,u=L("Two",a._1._1,a._1._2,a._1._3,f);continue}if(a._1.tag==="ThreeLeft"){r=a._2,u=L("Three",f,a._1._1,a._1._2,a._1._3,a._1._4,a._1._5,a._1._6);continue}if(a._1.tag==="ThreeMiddle"){r=a._2,u=L("Three",a._1._1,a._1._2,a._1._3,f,a._1._4,a._1._5,a._1._6);continue}if(a._1.tag==="ThreeRight"){r=a._2,u=L("Three",a._1._1,a._1._2,a._1._3,a._1._4,a._1._5,a._1._6,f);continue}g()}g()}return s},zu=e=>n=>t=>{const r=i=>s=>{let a=i,f=s,p=!0,_;for(;p;){const l=a,o=f;if(l.tag==="Nil"){p=!1,_=L("Two",o._1,o._2,o._3,o._4);continue}if(l.tag==="Cons"){if(l._1.tag==="TwoLeft"){p=!1,_=$n()(l._2)(L("Three",o._1,o._2,o._3,o._4,l._1._1,l._1._2,l._1._3));continue}if(l._1.tag==="TwoRight"){p=!1,_=$n()(l._2)(L("Three",l._1._1,l._1._2,l._1._3,o._1,o._2,o._3,o._4));continue}if(l._1.tag==="ThreeLeft"){a=l._2,f=Ae(L("Two",o._1,o._2,o._3,o._4),l._1._1,l._1._2,L("Two",l._1._3,l._1._4,l._1._5,l._1._6));continue}if(l._1.tag==="ThreeMiddle"){a=l._2,f=Ae(L("Two",l._1._1,l._1._2,l._1._3,o._1),o._2,o._3,L("Two",o._4,l._1._4,l._1._5,l._1._6));continue}if(l._1.tag==="ThreeRight"){a=l._2,f=Ae(L("Two",l._1._1,l._1._2,l._1._3,l._1._4),l._1._5,l._1._6,L("Two",o._1,o._2,o._3,o._4));continue}g()}g()}return _};return(i=>s=>{let a=i,f=s,p=!0,_;for(;p;){const l=a,o=f;if(o.tag==="Leaf"){p=!1,_=r(l)(Ae(nn,n,t,nn));continue}if(o.tag==="Two"){const c=e.compare(n)(o._2);if(c.tag==="EQ"){p=!1,_=$n()(l)(L("Two",o._1,n,t,o._4));continue}if(c.tag==="LT"){a=j("Cons",cn("TwoLeft",o._2,o._3,o._4),l),f=o._1;continue}a=j("Cons",cn("TwoRight",o._1,o._2,o._3),l),f=o._4;continue}if(o.tag==="Three"){const c=e.compare(n)(o._2);if(c.tag==="EQ"){p=!1,_=$n()(l)(L("Three",o._1,n,t,o._4,o._5,o._6,o._7));continue}const d=e.compare(n)(o._5);if(d.tag==="EQ"){p=!1,_=$n()(l)(L("Three",o._1,o._2,o._3,o._4,n,t,o._7));continue}if(c.tag==="LT"){a=j("Cons",cn("ThreeLeft",o._2,o._3,o._4,o._5,o._6,o._7),l),f=o._1;continue}if(c.tag==="GT"){if(d.tag==="LT"){a=j("Cons",cn("ThreeMiddle",o._1,o._2,o._3,o._5,o._6,o._7),l),f=o._4;continue}a=j("Cons",cn("ThreeRight",o._1,o._2,o._3,o._4,o._5,o._6),l),f=o._7;continue}a=j("Cons",cn("ThreeRight",o._1,o._2,o._3,o._4,o._5,o._6),l),f=o._7;continue}g()}return _})(te)},Gu=e=>n=>{const t=s=>a=>{let f=s,p=a,_=!0,l;for(;_;){const o=f,c=p;if(o.tag==="Nil"){_=!1,l=c;continue}if(o.tag==="Cons"){const d=o._2,h=(v,k,A,m,$,E,C,R,H,on)=>$n()(d)(L("Two",L("Two",v,$,R,k),E,H,L("Two",A,C,on,m))),b=(v,k,A,m,$,E,C,R,H,on)=>$n()(d)(L("Two",L("Two",v,$,R,k),E,H,L("Two",A,C,on,m))),O=(v,k,A,m,$,E,C,R,H,on)=>$n()(d)(L("Two",L("Three",v,$,R,k,E,H,A),C,on,m)),x=(v,k,A,m,$,E,C,R,H,on)=>$n()(d)(L("Two",L("Three",v,$,R,k,E,H,A),C,on,m)),y=(v,k,A,m,$,E,C,R,H,on)=>$n()(d)(L("Two",v,$,R,L("Three",k,E,H,A,C,on,m))),q=(v,k,A,m,$,E,C,R,H,on)=>$n()(d)(L("Two",v,$,R,L("Three",k,E,H,A,C,on,m))),un=(v,k,A,m,$,E,C,R,H,on,Rn,Mn,w)=>$n()(d)(L("Three",L("Two",v,E,on,k),C,Rn,L("Two",A,R,Mn,m),H,w,$)),fn=(v,k,A,m,$,E,C,R,H,on,Rn,Mn,w)=>$n()(d)(L("Three",L("Two",v,E,on,k),C,Rn,L("Two",A,R,Mn,m),H,w,$)),_n=(v,k,A,m,$,E,C,R,H,on,Rn,Mn,w)=>$n()(d)(L("Three",v,E,on,L("Two",k,C,Rn,A),R,Mn,L("Two",m,H,w,$))),vn=(v,k,A,m,$,E,C,R,H,on,Rn,Mn,w)=>$n()(d)(L("Three",v,E,on,L("Two",k,C,Rn,A),R,Mn,L("Two",m,H,w,$)));if(c.tag==="Leaf"){if(o._1.tag==="TwoLeft"){if(o._1._3.tag==="Leaf"){_=!1,l=$n()(d)(L("Two",nn,o._1._1,o._1._2,nn));continue}if(o._1._3.tag==="Two"){f=d,p=L("Three",c,o._1._1,o._1._2,o._1._3._1,o._1._3._2,o._1._3._3,o._1._3._4);continue}if(o._1._3.tag==="Three"){_=!1,l=h(c,o._1._3._1,o._1._3._4,o._1._3._7,o._1._1,o._1._3._2,o._1._3._5,o._1._2,o._1._3._3,o._1._3._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="TwoRight"){if(o._1._1.tag==="Leaf"){_=!1,l=$n()(d)(L("Two",nn,o._1._2,o._1._3,nn));continue}if(o._1._1.tag==="Two"){f=d,p=L("Three",o._1._1._1,o._1._1._2,o._1._1._3,o._1._1._4,o._1._2,o._1._3,c);continue}if(o._1._1.tag==="Three"){_=!1,l=b(o._1._1._1,o._1._1._4,o._1._1._7,c,o._1._1._2,o._1._1._5,o._1._2,o._1._1._3,o._1._1._6,o._1._3);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="ThreeLeft"){if(o._1._6.tag==="Leaf"){if(o._1._3.tag==="Leaf"){_=!1,l=$n()(d)(L("Three",nn,o._1._1,o._1._2,nn,o._1._4,o._1._5,nn));continue}if(o._1._3.tag==="Two"){_=!1,l=O(c,o._1._3._1,o._1._3._4,o._1._6,o._1._1,o._1._3._2,o._1._4,o._1._2,o._1._3._3,o._1._5);continue}if(o._1._3.tag==="Three"){_=!1,l=un(c,o._1._3._1,o._1._3._4,o._1._3._7,o._1._6,o._1._1,o._1._3._2,o._1._3._5,o._1._4,o._1._2,o._1._3._3,o._1._3._6,o._1._5);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1._3.tag==="Two"){_=!1,l=O(c,o._1._3._1,o._1._3._4,o._1._6,o._1._1,o._1._3._2,o._1._4,o._1._2,o._1._3._3,o._1._5);continue}if(o._1._3.tag==="Three"){_=!1,l=un(c,o._1._3._1,o._1._3._4,o._1._3._7,o._1._6,o._1._1,o._1._3._2,o._1._3._5,o._1._4,o._1._2,o._1._3._3,o._1._3._6,o._1._5);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="ThreeMiddle"){if(o._1._1.tag==="Leaf"){if(o._1._6.tag==="Leaf"){_=!1,l=$n()(d)(L("Three",nn,o._1._2,o._1._3,nn,o._1._4,o._1._5,nn));continue}if(o._1._6.tag==="Two"){_=!1,l=y(o._1._1,c,o._1._6._1,o._1._6._4,o._1._2,o._1._4,o._1._6._2,o._1._3,o._1._5,o._1._6._3);continue}if(o._1._6.tag==="Three"){_=!1,l=_n(o._1._1,c,o._1._6._1,o._1._6._4,o._1._6._7,o._1._2,o._1._4,o._1._6._2,o._1._6._5,o._1._3,o._1._5,o._1._6._3,o._1._6._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1._1.tag==="Two"){_=!1,l=x(o._1._1._1,o._1._1._4,c,o._1._6,o._1._1._2,o._1._2,o._1._4,o._1._1._3,o._1._3,o._1._5);continue}if(o._1._6.tag==="Two"){_=!1,l=y(o._1._1,c,o._1._6._1,o._1._6._4,o._1._2,o._1._4,o._1._6._2,o._1._3,o._1._5,o._1._6._3);continue}if(o._1._1.tag==="Three"){_=!1,l=fn(o._1._1._1,o._1._1._4,o._1._1._7,c,o._1._6,o._1._1._2,o._1._1._5,o._1._2,o._1._4,o._1._1._3,o._1._1._6,o._1._3,o._1._5);continue}if(o._1._6.tag==="Three"){_=!1,l=_n(o._1._1,c,o._1._6._1,o._1._6._4,o._1._6._7,o._1._2,o._1._4,o._1._6._2,o._1._6._5,o._1._3,o._1._5,o._1._6._3,o._1._6._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="ThreeRight"){if(o._1._1.tag==="Leaf"){if(o._1._4.tag==="Leaf"){_=!1,l=$n()(d)(L("Three",nn,o._1._2,o._1._3,nn,o._1._5,o._1._6,nn));continue}if(o._1._4.tag==="Two"){_=!1,l=q(o._1._1,o._1._4._1,o._1._4._4,c,o._1._2,o._1._4._2,o._1._5,o._1._3,o._1._4._3,o._1._6);continue}if(o._1._4.tag==="Three"){_=!1,l=vn(o._1._1,o._1._4._1,o._1._4._4,o._1._4._7,c,o._1._2,o._1._4._2,o._1._4._5,o._1._5,o._1._3,o._1._4._3,o._1._4._6,o._1._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1._4.tag==="Two"){_=!1,l=q(o._1._1,o._1._4._1,o._1._4._4,c,o._1._2,o._1._4._2,o._1._5,o._1._3,o._1._4._3,o._1._6);continue}if(o._1._4.tag==="Three"){_=!1,l=vn(o._1._1,o._1._4._1,o._1._4._4,o._1._4._7,c,o._1._2,o._1._4._2,o._1._4._5,o._1._5,o._1._3,o._1._4._3,o._1._4._6,o._1._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="TwoLeft"){if(o._1._3.tag==="Two"){f=d,p=L("Three",c,o._1._1,o._1._2,o._1._3._1,o._1._3._2,o._1._3._3,o._1._3._4);continue}if(o._1._3.tag==="Three"){_=!1,l=h(c,o._1._3._1,o._1._3._4,o._1._3._7,o._1._1,o._1._3._2,o._1._3._5,o._1._2,o._1._3._3,o._1._3._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="TwoRight"){if(o._1._1.tag==="Two"){f=d,p=L("Three",o._1._1._1,o._1._1._2,o._1._1._3,o._1._1._4,o._1._2,o._1._3,c);continue}if(o._1._1.tag==="Three"){_=!1,l=b(o._1._1._1,o._1._1._4,o._1._1._7,c,o._1._1._2,o._1._1._5,o._1._2,o._1._1._3,o._1._1._6,o._1._3);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="ThreeLeft"){if(o._1._3.tag==="Two"){_=!1,l=O(c,o._1._3._1,o._1._3._4,o._1._6,o._1._1,o._1._3._2,o._1._4,o._1._2,o._1._3._3,o._1._5);continue}if(o._1._3.tag==="Three"){_=!1,l=un(c,o._1._3._1,o._1._3._4,o._1._3._7,o._1._6,o._1._1,o._1._3._2,o._1._3._5,o._1._4,o._1._2,o._1._3._3,o._1._3._6,o._1._5);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="ThreeMiddle"){if(o._1._1.tag==="Two"){_=!1,l=x(o._1._1._1,o._1._1._4,c,o._1._6,o._1._1._2,o._1._2,o._1._4,o._1._1._3,o._1._3,o._1._5);continue}if(o._1._6.tag==="Two"){_=!1,l=y(o._1._1,c,o._1._6._1,o._1._6._4,o._1._2,o._1._4,o._1._6._2,o._1._3,o._1._5,o._1._6._3);continue}if(o._1._1.tag==="Three"){_=!1,l=fn(o._1._1._1,o._1._1._4,o._1._1._7,c,o._1._6,o._1._1._2,o._1._1._5,o._1._2,o._1._4,o._1._1._3,o._1._1._6,o._1._3,o._1._5);continue}if(o._1._6.tag==="Three"){_=!1,l=_n(o._1._1,c,o._1._6._1,o._1._6._4,o._1._6._7,o._1._2,o._1._4,o._1._6._2,o._1._6._5,o._1._3,o._1._5,o._1._6._3,o._1._6._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}if(o._1.tag==="ThreeRight"){if(o._1._4.tag==="Two"){_=!1,l=q(o._1._1,o._1._4._1,o._1._4._4,c,o._1._2,o._1._4._2,o._1._5,o._1._3,o._1._4._3,o._1._6);continue}if(o._1._4.tag==="Three"){_=!1,l=vn(o._1._1,o._1._4._1,o._1._4._4,o._1._4._7,c,o._1._2,o._1._4._2,o._1._4._5,o._1._5,o._1._3,o._1._4._3,o._1._4._6,o._1._6);continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}_=!1,l=mn("The impossible happened in partial function `up`.");continue}g()}return l},r=s=>a=>{let f=s,p=a,_=!0,l;for(;_;){const o=f,c=p;if(c.tag==="Two"){if(c._1.tag==="Leaf"){if(c._4.tag==="Leaf"){_=!1,l=t(o)(nn);continue}f=j("Cons",cn("TwoRight",c._1,c._2,c._3),o),p=c._4;continue}f=j("Cons",cn("TwoRight",c._1,c._2,c._3),o),p=c._4;continue}if(c.tag==="Three"){if(c._1.tag==="Leaf"){if(c._4.tag==="Leaf"){if(c._7.tag==="Leaf"){_=!1,l=t(j("Cons",cn("TwoRight",nn,c._2,c._3),o))(nn);continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}_=!1,l=mn("The impossible happened in partial function `removeMaxNode`.")}return l},u=s=>{let a=s,f=!0,p;for(;f;){const _=a;if(_.tag==="Two"){if(_._4.tag==="Leaf"){f=!1,p={key:_._2,value:_._3};continue}a=_._4;continue}if(_.tag==="Three"){if(_._7.tag==="Leaf"){f=!1,p={key:_._5,value:_._6};continue}a=_._7;continue}f=!1,p=mn("The impossible happened in partial function `maxNode`.")}return p};return(s=>a=>{let f=s,p=a,_=!0,l;for(;_;){const o=f,c=p;if(c.tag==="Leaf"){_=!1,l=M;continue}if(c.tag==="Two"){const d=e.compare(n)(c._2);if(d.tag==="EQ"){if(c._4.tag==="Leaf"){_=!1,l=S("Just",N(c._3,t(o)(nn)));continue}const h=u(c._1);_=!1,l=S("Just",N(c._3,r(j("Cons",cn("TwoLeft",h.key,h.value,c._4),o))(c._1)));continue}if(d.tag==="LT"){f=j("Cons",cn("TwoLeft",c._2,c._3,c._4),o),p=c._1;continue}f=j("Cons",cn("TwoRight",c._1,c._2,c._3),o),p=c._4;continue}if(c.tag==="Three"){const d=e.compare(n)(c._5),h=e.compare(n)(c._2);if((()=>c._1.tag==="Leaf"&&c._4.tag==="Leaf"?c._7.tag==="Leaf":!1)()){if(h.tag==="EQ"){_=!1,l=S("Just",N(c._3,$n()(o)(L("Two",nn,c._5,c._6,nn))));continue}if(d.tag==="EQ"){_=!1,l=S("Just",N(c._6,$n()(o)(L("Two",nn,c._2,c._3,nn))));continue}if(h.tag==="LT"){f=j("Cons",cn("ThreeLeft",c._2,c._3,c._4,c._5,c._6,c._7),o),p=c._1;continue}if(h.tag==="GT"){if(d.tag==="LT"){f=j("Cons",cn("ThreeMiddle",c._1,c._2,c._3,c._5,c._6,c._7),o),p=c._4;continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}if(h.tag==="EQ"){const b=u(c._1);_=!1,l=S("Just",N(c._3,r(j("Cons",cn("ThreeLeft",b.key,b.value,c._4,c._5,c._6,c._7),o))(c._1)));continue}if(d.tag==="EQ"){const b=u(c._4);_=!1,l=S("Just",N(c._6,r(j("Cons",cn("ThreeMiddle",c._1,c._2,c._3,b.key,b.value,c._7),o))(c._4)));continue}if(h.tag==="LT"){f=j("Cons",cn("ThreeLeft",c._2,c._3,c._4,c._5,c._6,c._7),o),p=c._1;continue}if(h.tag==="GT"){if(d.tag==="LT"){f=j("Cons",cn("ThreeMiddle",c._1,c._2,c._3,c._5,c._6,c._7),o),p=c._4;continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}f=j("Cons",cn("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),o),p=c._7;continue}g()}return l})(te)},Nn={foldr:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return Nn.foldr(e)(e(t._3)(Nn.foldr(e)(n)(t._4)))(t._1);if(t.tag==="Three")return Nn.foldr(e)(e(t._3)(Nn.foldr(e)(e(t._6)(Nn.foldr(e)(n)(t._7)))(t._4)))(t._1);g()},foldl:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return Nn.foldl(e)(e(Nn.foldl(e)(n)(t._1))(t._3))(t._4);if(t.tag==="Three")return Nn.foldl(e)(e(Nn.foldl(e)(e(Nn.foldl(e)(n)(t._1))(t._3))(t._4))(t._6))(t._7);g()},foldMap:e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>u=>{if(u.tag==="Leaf")return n;if(u.tag==="Two")return t(Nn.foldMap(e)(r)(u._1))(t(r(u._3))(Nn.foldMap(e)(r)(u._4)));if(u.tag==="Three")return t(Nn.foldMap(e)(r)(u._1))(t(r(u._3))(t(Nn.foldMap(e)(r)(u._4))(t(r(u._6))(Nn.foldMap(e)(r)(u._7)))));g()}}},bn={foldrWithIndex:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return bn.foldrWithIndex(e)(e(t._2)(t._3)(bn.foldrWithIndex(e)(n)(t._4)))(t._1);if(t.tag==="Three")return bn.foldrWithIndex(e)(e(t._2)(t._3)(bn.foldrWithIndex(e)(e(t._5)(t._6)(bn.foldrWithIndex(e)(n)(t._7)))(t._4)))(t._1);g()},foldlWithIndex:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return bn.foldlWithIndex(e)(e(t._2)(bn.foldlWithIndex(e)(n)(t._1))(t._3))(t._4);if(t.tag==="Three")return bn.foldlWithIndex(e)(e(t._5)(bn.foldlWithIndex(e)(e(t._2)(bn.foldlWithIndex(e)(n)(t._1))(t._3))(t._4))(t._6))(t._7);g()},foldMapWithIndex:e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>u=>{if(u.tag==="Leaf")return n;if(u.tag==="Two")return t(bn.foldMapWithIndex(e)(r)(u._1))(t(r(u._2)(u._3))(bn.foldMapWithIndex(e)(r)(u._4)));if(u.tag==="Three")return t(bn.foldMapWithIndex(e)(r)(u._1))(t(r(u._2)(u._3))(t(bn.foldMapWithIndex(e)(r)(u._4))(t(r(u._5)(u._6))(bn.foldMapWithIndex(e)(r)(u._7)))));g()}},Foldable0:()=>Nn},jr=e=>n=>t=>{const r=Gu(e)(n)(t);if(r.tag==="Nothing")return t;if(r.tag==="Just")return r._1._2;g()},it=e=>n=>t=>r=>{const u=n(Vr(e)(t)(r));if(u.tag==="Nothing")return jr(e)(t)(r);if(u.tag==="Just")return zu(e)(t)(u._1)(r);g()},Uu=e=>n=>t=>r=>bn.foldlWithIndex(u=>i=>s=>it(e)((()=>{const a=n(s);return f=>S("Just",(()=>{if(f.tag==="Nothing")return s;if(f.tag==="Just")return a(f._1);g()})())})())(u)(i))(r)(t),Qu={foldMap:e=>{const n=ye.foldMap(e);return t=>{const r=n(t);return u=>r(bn.foldrWithIndex(i=>s=>a=>j("Cons",i,a))(te)(u))}},foldl:e=>n=>{const t=(()=>(u=>i=>{let s=u,a=i,f=!0,p;for(;f;){const _=s,l=a;if(l.tag==="Nil"){f=!1,p=_;continue}if(l.tag==="Cons"){s=e(_)(l._1),a=l._2;continue}g()}return p})(n))();return r=>t(bn.foldrWithIndex(u=>i=>s=>j("Cons",u,s))(te)(r))},foldr:e=>n=>{const t=ye.foldr(e)(n);return r=>t(bn.foldrWithIndex(u=>i=>s=>j("Cons",u,s))(te)(r))}};function Hu(e){return function(n){return function(){return setTimeout(n,e)}}}function Vu(e){return function(){clearTimeout(e)}}const ju={eq:e=>n=>e===n},xt={compare:e=>n=>vt.compare(e)(n),Eq0:()=>ju};function Ku(e){return function(n){return e===n}}const ct=(e,n)=>{for(var t=0,r=e.length;t<r;t++)n(e[t])},Kr=(e,n)=>{for(const t in e)n(e[t])},Yr=()=>({}),Xr=(e,n,t)=>{t[e]=n},Zr=(e,n)=>{delete n[e]},no=we(De),qe=no(We),eo=e=>{},Yu=no(Qu),to=e=>n=>(t,r)=>{let u=M;const i=e(t,a=>u=S("Just",a)),s=n(t,a=>qe(u)(p=>{const _=a(p);return()=>r(_)})());return()=>(i(),s())},Xu=e=>n=>(t,r)=>{let u=M;const i=e(t,a=>qe(u)(p=>{const _=p(a);return()=>r(_)})()),s=n(t,a=>u=S("Just",a));return()=>(i(),s())},Zu=e=>(n,t)=>{let r=()=>{};const u=e(n,i=>(r(),r=i(n,t)));return()=>(r(),u())},ze={map:e=>n=>(t,r)=>n(t,u=>{const i=e(u);return r(i)})},ni=e=>n=>(t,r)=>n(t,u=>{const i=e(u);if(i.tag==="Just"){const s=i._1;return r(s)}i.tag!=="Nothing"&&g()}),ei=e=>n=>(t,r)=>n(t,u=>{if(e(u))return r(u)}),Re=()=>{const e=Yr();let n=0;return{event:(t,r)=>{const u={value:r},i=n;return Xr(i,u,e),n=n+1|0,()=>{u.value=eo,Zr(i,e)}},push:t=>Kr(e,r=>{const u=r.value;return u(t)})}},ti=e=>(n,t)=>{const r=Re(),u=r.event(n,t),i=e(r.event)(n,r.push);return()=>(i(),u())},ri={compact:e=>(n,t)=>e(n,r=>{if(r.tag==="Just"){const u=r._1;return t(u)}r.tag!=="Nothing"&&g()}),separate:e=>({left:(n,t)=>e(n,r=>{if(r.tag==="Left"){const u=r._1;return t(u)}r.tag!=="Right"&&g()}),right:(n,t)=>e(n,r=>{if(r.tag==="Right"){const u=r._1;return t(u)}r.tag!=="Left"&&g()})})},st={filter:ei,filterMap:ni,partition:e=>n=>({yes:(t,r)=>n(t,u=>{if(e(u))return r(u)}),no:(t,r)=>n(t,u=>{if(!e(u))return r(u)})}),partitionMap:e=>n=>({left:st.filterMap(t=>{const r=e(t);if(r.tag==="Left")return S("Just",r._1);if(r.tag==="Right")return M;g()})(n),right:st.filterMap(t=>{const r=e(t);if(r.tag==="Left")return M;if(r.tag==="Right")return S("Just",r._1);g()})(n)}),Compactable0:()=>ri,Functor1:()=>ze},oi=e=>n=>(t,r)=>{let u=M;const i=[];let s=M;const a=[];let f=!0;const p=e(t,c=>{if(f){i.push(c);return}return u=S("Just",c),qe(s)(b=>{const O=b(c);return()=>r(O)})()}),_=n(t,c=>{if(f){a.push(c);return}return s=S("Just",c),qe(u)(b=>{const O=c(b);return()=>r(O)})()});f=!1;const l=qt(i)(),o=qt(a)();return l.length===0?s=ue(o)(o.length-1|0):ct(l,c=>(u=S("Just",c),ct(o,d=>(s=S("Just",d),r(d(c)))))),It(0)(l.length)([])(i)(),It(0)(o.length)([])(a)(),()=>(p(),_())},Se=Er(()=>{const e=()=>{const n=Yr();let t=0;return{event:(r,u)=>{const i={value:u},s=t;return Xr(s,i,n),t=t+1|0,()=>{i.value=eo,Zr(s,n)}},push:r=>()=>Kr(n,u=>{const i=u.value;return i(r)})}};return{createO:Re,makeEvent:n=>(t,r)=>t?()=>{}:n(u=>()=>r(u))(),makeEventO:n=>(t,r)=>t?()=>{}:n(r),makePureEvent:n=>(t,r)=>n(u=>()=>r(u))(),makeLemmingEvent:n=>(t,r)=>n(u=>i=>()=>u(t,s=>i(s)()))(u=>()=>r(u))(),makeLemmingEventO:n=>(t,r)=>n((u,i)=>u(t,i),r),create:e,createPure:e,createPureO:Re,subscribe:n=>t=>()=>n(!1,r=>t(r)()),subscribeO:(n,t)=>n(!1,t),subscribePureO:(n,t)=>n(!0,t),subscribePure:n=>t=>()=>n(!0,r=>t(r)()),bus:n=>(t,r)=>{const u=Se().create();return r(n(u.push)(u.event)),()=>{}},memoize:n=>t=>(r,u)=>{const i=Re();return u(t(i.event)),n(r,i.push)},hot:n=>()=>{const t=Se().create(),r=Se().subscribe(n)(t.push)();return{event:t.event,unsubscribe:r}},mailboxed:n=>t=>r=>(u,i)=>{let s=nn;i(r(f=>(p,_)=>{s=it(n)(d=>{if(d.tag==="Nothing")return S("Just",[_]);if(d.tag==="Just")return S("Just",zn(d._1)([_]));g()})(f)(s);const c=it(n)(d=>{if(d.tag==="Nothing")return M;if(d.tag==="Just")return S("Just",Su(Ku)(_)(d._1));g()})(f);return()=>{s=c(s)}}));const a=t(u,f=>{const p=f.address,_=f.payload,l=s,o=Vr(n)(p)(l);if(o.tag!=="Nothing"){if(o.tag==="Just")return ct(o._1,c=>c(_));g()}});return()=>(s=nn,a())},delay:n=>t=>(r,u)=>{let i=nn;const s=t(r,a=>{let f=M;const p=Hu(n)(()=>{u(a);const l=f;if(l.tag!=="Nothing"){if(l.tag==="Just"){const o=i;i=jr(xt)(l._1)(o);return}g()}})();f=S("Just",p);const _=i;i=Uu(xt)(Fr)(L("Two",nn,p,void 0,nn))(_)});return()=>(Yu(i)(Vu)(),s())}}}),an=Se(),Be={apply:e=>n=>oi(e)((t,r)=>n(t,u=>r(yt(u)))),Functor0:()=>ze},ui={pure:e=>(n,t)=>(t(e),()=>{}),Apply0:()=>Be},Ge={alt:e=>n=>(t,r)=>{const u=e(t,r),i=n(t,r);return()=>(u(),i())},Functor0:()=>ze},wn={empty:(e,n)=>()=>{},Alt0:()=>Ge},ii={Applicative0:()=>ui,Plus1:()=>wn},ci={keepLatest:Zu,sampleOnRight:to,sampleOnLeft:Xu,fix:ti,Alternative0:()=>ii,Filterable1:()=>st},at=(e,n)=>({tag:e,_1:n}),U=(e,n)=>({tag:e,_1:n}),xe=(e,n)=>({tag:e,_1:n}),si=at("Remove"),ai={eq:e=>n=>e.tag==="Local"?n.tag==="Local"?e._1===n._1:!1:e.tag==="Global"?n.tag==="Global":!1};function wt(e,n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);for(var u in e)({}).hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t}function fi(e){return function(n){return function(t){return t[e]=n,t}}}const li=()=>()=>e=>n=>t=>r=>fi(e.reflectSymbol(n))(t)(r),_i=e=>e,bt={convertRecordOptions:e=>n=>t=>_i},ie=e=>n=>()=>()=>()=>t=>({convertRecordOptions:r=>u=>i=>{const s=li()()(t)(hn)(n.convertOption(r)(hn)(Fe(t.reflectSymbol(hn))(i))),a=e.convertRecordOptions(r)(hn)(i);return f=>s(a(f))}}),Ke=(e,n,t)=>({tag:e,_1:n,_2:t}),kt={align:e=>n=>t=>t.length===0?sn(r=>e(Ke("This",r)))(n):n.length===0?sn(r=>e(Ke("That",r)))(t):zn(Ln(r=>u=>e(Ke("Both",r,u)))(n)(t))(kt.align(e)((()=>{const r=t.length;return r<1?n:Ie(r)(n.length)(n)})())((()=>{const r=n.length;return r<1?t:Ie(r)(t.length)(t)})())),Functor0:()=>Ir},Sn=function(e){return function(n){for(var t=n.length,r=Array(t),u=0;u<t;u++)r[u]=e(u)(n[u]);return r}},Ot={foldrWithIndex:e=>n=>{const t=fe(u=>{const i=u._1,s=u._2;return a=>e(i)(s)(a)})(n),r=Sn(se);return u=>t(r(u))},foldlWithIndex:e=>n=>{const t=le(u=>i=>e(i._1)(u)(i._2))(n),r=Sn(se);return u=>t(r(u))},foldMapWithIndex:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>Ot.foldrWithIndex(u=>i=>s=>n(r(u)(i))(s))(t)},Foldable0:()=>Gn},pi=function(e){return function(n){for(var t=n[n.length-1],r=n.length-2;r>=0;r--)t=e(n[r])(t);return t}},di=function(e){return function(n){for(var t=n[0],r=n.length,u=1;u<r;u++)t=e(t)(n[u]);return t}},ro={foldMap1:e=>{const n=e.append;return t=>{const r=sn(t),u=ro.foldl1(n);return i=>u(r(i))}},foldr1:pi,foldl1:di,Foldable0:()=>Gn};function At(e,n,t){return e==null?n:t(e)}function gi(e){for(var n=e.length,t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t}const Ct=function(e){return function(n){return e+n}},oo=function(e){return function(n){return e*n}},mi={addRecord:e=>n=>t=>({}),mulRecord:e=>n=>t=>({}),oneRecord:e=>n=>({}),zeroRecord:e=>n=>({})},me={add:Ct,zero:0,mul:oo,one:1},hi=()=>e=>({add:e.addRecord(hn),mul:e.mulRecord(hn),one:e.oneRecord(hn)(hn),zero:e.zeroRecord(hn)(hn)}),Ye=e=>()=>n=>t=>{const r=t.one,u=t.zero;return{addRecord:i=>s=>a=>{const f=e.reflectSymbol(hn),p=Fe(f);return Oe(f)(t.add(p(s))(p(a)))(n.addRecord(hn)(s)(a))},mulRecord:i=>s=>a=>{const f=e.reflectSymbol(hn),p=Fe(f);return Oe(f)(t.mul(p(s))(p(a)))(n.mulRecord(hn)(s)(a))},oneRecord:i=>s=>Oe(e.reflectSymbol(hn))(r)(n.oneRecord(hn)(hn)),zeroRecord:i=>s=>Oe(e.reflectSymbol(hn))(u)(n.zeroRecord(hn)(hn))}},ft=function(e){return function(n){return n===0?0:n>0?Math.floor(e/n):-Math.floor(e/-n)}},Qn=function(e){return function(n){if(n===0)return 0;var t=Math.abs(n);return(e%t+t)%t}},vi=isFinite,yi=Math.cos,be=Math.floor,Je=Math.log,Xe=function(e){return function(n){return Math.pow(e,n)}},Ue=function(e){return function(n){return e%n}},Pe=Math.round,$i=Math.sin,ne=Math.sqrt,Ti=function(e){return function(n){return function(t){return(t|0)===t?e(t):n}}},Y=function(e){return e},wi=function(e){return function(n){return n.toString(e)}},uo=function(e){return function(n){return Math.pow(e,n)|0}},io=Ti(Wn)(M),re=e=>{if(!vi(e))return 0;if(e>=Y(2147483647))return 2147483647;if(e<=Y(-2147483648))return-2147483648;const n=io(e);if(n.tag==="Nothing")return 0;if(n.tag==="Just")return n._1;g()},Et={mempty:"",Semigroup0:()=>mu},co={mempty:[],Semigroup0:()=>hu},bi=e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>{const u=i=>{if(i<=0)return n;if(i===1)return r;if(Qn(i)(2)===0){const a=u(ft(i)(2));return t(a)(a)}const s=u(ft(i)(2));return t(s)(t(s)(r))};return u}};function he(e){return e.charCodeAt(0)}const ve=function(e){return function(n){if(e>=0&&e<n.length)return n.charAt(e);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},so=function(e){return e.length},Jt=function(e){return function(n){return n.substring(e)}};var ki=typeof Array.from=="function",Oi=typeof String.prototype.codePointAt=="function";const Ai=function(e){return Oi?function(n){return n.codePointAt(0)}:e},Ci=function(e){return function(n){return ki?function(t){return Array.from(t,n)}:e}},Ei=e=>{const n=so(e);if(n===0)return M;if(n===1)return S("Just",{head:he(ve(0)(e)),tail:""});const t=he(ve(1)(e)),r=he(ve(0)(e));return 55296<=r&&r<=56319&&56320<=t&&t<=57343?S("Just",{head:(((r-55296|0)*1024|0)+(t-56320|0)|0)+65536|0,tail:Jt(2)(e)}):S("Just",{head:r,tail:Jt(1)(e)})},Ni=e=>{const n=Ei(e);return n.tag==="Just"?S("Just",N(n._1.head,n._1.tail)):M},Li=e=>Wu.unfoldr(Ni)(e),Ri=e=>{const n=he(ve(0)(e));if(55296<=n&&n<=56319&&so(e)>1){const t=he(ve(1)(e));return 56320<=t&&t<=57343?(((n-55296|0)*1024|0)+(t-56320|0)|0)+65536|0:n}return n},Si=Ai(Ri),Bi=Ci(Li)(Si);function Pi(e){return e}function Fi(e){return function(n){return e==n}}const W=(e,n)=>({tag:e,_1:n}),Ii=e=>e,qi=e=>{const n=e.Alternative0(),t=n.Plus1().Alt0().alt,r=n.Applicative0().pure,u=e.Filterable1().Functor1().map;return i=>s=>a=>e.fix(f=>e.sampleOnRight(t(f)(r(s)))(u(p=>_=>i(_)(p))(a)))},xi=e=>{const n=e.Filterable1().filterMap,t=qi(e);return r=>n(Ii)(t(u=>i=>{if(u.tag==="Nothing")return S("Just",{now:i,last:M});if(u.tag==="Just")return S("Just",{now:i,last:S("Just",u._1.now)});g()})(M)(r))},Ji={};function Mi(e){return function(n){return function(t){return function(r){var u=t;function i(a){return function(f){return n(f)(a)(r[a])}}for(var s in r)hasOwnProperty.call(r,s)&&(u=e(u)(i(s)));return u}}}}const Ce=e=>n=>{const t={...n};return e(t)(),t},Di=Mi(yt),Nt=e=>({tag:e}),ao=we(Te),Wi=ao(We),zi=ao(Gn),Gi=e=>fe(n=>{const t=e(n);return r=>(u,i)=>{const s=t(u,i),a=r(u,i);return()=>(s(),a())}})(wn.empty),Ui=zr(Te)(Gn),Qi=Nt("Begin"),Hi=Nt("Middle"),Vi=Nt("End"),ce=e=>n=>t=>r=>{if(r.tag==="FixedChildren'")return Gi(ce(e)(n)(t))(r._1);if(r.tag==="EventfulElement'"){const u=ce(e)(n)(t);return(i,s)=>{let a=()=>{};const f=r._1(i,p=>{const _=u(p);return a(),a=_(i,s)});return()=>(a(),f())}}if(r.tag==="Element'")return e.toElt(r._1)(n)(t);if(r.tag==="DynamicChildren'"){const u=r._1;return an.makeLemmingEventO((i,s)=>{let a=Ji;const f=i(u,_=>{const l=e.ids(t)();let o=()=>{};const c=e.ids(t)();let d=()=>{},h=[],b=()=>{};const O=e.ids(t)();let x=Qi;const y=i(_,fn=>{const _n=x;if(_n.tag==="Middle"){if(fn.tag==="Logic"){const vn=fn._1,v=h;return Ui(k=>{const A=e.doLogic(vn)(t)(k);return()=>s(A)})(v)()}if(fn.tag==="Remove"){x=Vi;const vn=()=>{zi(h)(E=>Wi(n.parent)(C=>{const R=e.disconnectElement(t)({id:E,parent:C,scope:xe("Local",O)});return()=>s(R)}))(),o(),d();const m=a;a=Ce(E=>()=>(delete E[l],E))(m);const $=a;a=Ce(E=>()=>(delete E[c],E))($)};return b=vn,vn()}return}if(fn.tag==="Insert"){if(_n.tag==="Begin"){x=Hi;const vn=i(ce(e)({...n,scope:xe("Local",O),raiseId:k=>{const A=zn([k]);return()=>{h=A(h)}}})(t)(fn._1),s),v=a;a=Ce(k=>()=>(k[c]=vn,k))(v),d=vn;return}return}});o=y;const q=a;return a=Ce(fn=>()=>(fn[l]=y,fn))(q),b()}),p=Di(_=>l=>o=>()=>(_(),o()))(()=>{});return()=>(p(a)(),f())})}g()},ji=e=>n=>{const t=r=>r.tag==="Element'"?U("Element'",u=>r._1({pos:e,dynFamily:u.dynFamily,ez:u.ez,parent:u.parent,raiseId:u.raiseId,scope:u.scope})):r.tag==="EventfulElement'"?U("EventfulElement'",(u,i)=>r._1(u,s=>{const a=t(s);return i(a)})):n;return t(n)},In=e=>ji(S("Just",e)),fo=(()=>fe(Ge.alt)(wn.empty))(),Ee=e=>U("Element'",n=>t=>{const r=n.dynFamily,u=n.ez,i=t.ids,s=n.parent,a=n.pos,f=n.scope;return an.makeLemmingEventO((p,_)=>{const l=i();n.raiseId(l)();const o=p(fo([(()=>{const d=t.makeText({id:l,parent:s,pos:a,scope:f,dynFamily:r});return(h,b)=>(b(d),()=>{})})(),(d,h)=>e(d,b=>{const O=t.setText({id:l,text:b});return h(O)}),(()=>{if(s.tag==="Nothing")return wn.empty;if(s.tag==="Just"){const d=t.attributeParent({id:l,parent:s._1,pos:a,dynFamily:r,ez:u});return(h,b)=>(b(d),()=>{})}g()})()]),_),c=t.deleteFromCache({id:l});return()=>(_(c),o())})}),Ki=()=>({doLogic:e=>n=>t=>n.sendToPos({id:t,pos:e}),ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectElement({id:n.id,scope:n.scope,parent:n.parent,scopeEq:ai.eq}),toElt:e=>e}),lo=Ki(),Yi=e=>n=>t=>an.makeLemmingEventO((r,u)=>{const i=t.makeRoot({id:"deku-root",root:e}),s=ce(lo)({parent:S("Just","deku-root"),scope:xe("Local","rootScope"),raiseId:a=>()=>{},ez:!0,pos:M,dynFamily:M})(t)(n);return r((a,f)=>{f(i);const p=s(a,f);return()=>p()},u)}),qn=e=>n=>t=>r=>u=>{const i=r.dynFamily,s=r.ez,a=u.ids,f=r.parent,p=r.pos,_=r.scope;return an.makeLemmingEventO((l,o)=>{const c=a();r.raiseId(c)();const d=fo(zn([(()=>{const x=u.makeElement({id:c,parent:f,scope:_,tag:e,pos:p,dynFamily:i});return(y,q)=>(q(x),()=>{})})(),(x,y)=>n(x,q=>{const un=(()=>{if(q.value.tag==="Prop'")return u.setProp({id:c,key:q.key,value:q.value._1});if(q.value.tag==="Cb'")return u.setCb({id:c,key:q.key,value:q.value._1});g()})();return y(un)})])((()=>{if(f.tag==="Nothing")return[];if(f.tag==="Just")return[(()=>{const x=u.attributeParent({id:c,parent:f._1,pos:p,dynFamily:i,ez:s});return(y,q)=>(q(x),()=>{})})()];g()})())),h=ce(lo)({parent:S("Just",c),scope:_,ez:!0,raiseId:x=>()=>{},pos:M,dynFamily:M})(u)(t),b=l((x,y)=>{const q=d(x,y),un=h(x,y);return()=>(q(),un())},o),O=u.deleteFromCache({id:c});return()=>(o(O),b())})},Xi=()=>({tag:"OnClick"}),Zi=Xi(),nc={attr:e=>n=>({key:"click",value:W("Cb'",t=>()=>(n(),!0))})},Ze=e=>n=>U("Element'",qn("br")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),ec=e=>n=>U("Element'",qn("defs")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),tc=e=>n=>U("Element'",qn("div")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),Mt=e=>n=>U("Element'",qn("g")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),rc=e=>n=>U("Element'",qn("h1")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),oc=e=>n=>U("Element'",qn("input")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),uc=e=>n=>U("Element'",qn("linearGradient")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),nt=e=>n=>U("Element'",qn("p")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),Dt=e=>n=>U("Element'",qn("path")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),et=e=>n=>U("Element'",qn("rect")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),Wt=e=>n=>U("Element'",qn("stop")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),pe=e=>n=>U("Element'",qn("svg")(e)(U("FixedChildren'",Ln(In)(Fn(0)(n.length-1|0))(n)))),zt=e=>n=>U("EventfulElement'",an.bus(t=>r=>U("EventfulElement'",an.memoize((u,i)=>{const s=r(u,i);return i(e),()=>{s()}})(u=>n(N(t,u))))));function Gt(e){return new Error(e)}var Dn=function(){var e={},n="Pure",t="Throw",r="Catch",u="Sync",i="Async",s="Bind",a="Bracket",f="Fork",p="Sequential",_="Map",l="Apply",o="Alt",c="Cons",d="Resume",h="Release",b="Finalizer",O="Finalized",x="Forked";function y(w,z,pn,K){this.tag=w,this._1=z,this._2=pn,this._3=K}function q(w){var z=function(pn,K,B){return new y(w,pn,K,B)};return z.tag=w,z}function un(w){return new y(n,void 0)}function fn(w){try{w()}catch(z){setTimeout(function(){throw z},0)}}function _n(w,z,pn){try{return z(pn())}catch(K){return w(K)}}function vn(w,z,pn){try{return z(pn)()}catch(K){return pn(w(K))(),un}}var v=function(){var w=1024,z=0,pn=0,K=new Array(w),B=!1;function T(){var V;for(B=!0;z!==0;)z--,V=K[pn],K[pn]=void 0,pn=(pn+1)%w,V();B=!1}return{isDraining:function(){return B},enqueue:function(V){var J;z===w&&(J=B,T(),B=J),K[(pn+z)%w]=V,z++,B||T()}}}();function k(w){var z={},pn=0,K=0;return{register:function(B){var T=pn++;B.onComplete({rethrow:!0,handler:function(V){return function(){K--,delete z[T]}}})(),z[T]=B,K++},isEmpty:function(){return K===0},killAll:function(B,T){return function(){if(K===0)return T();var V=0,J={};function Tn(X){J[X]=z[X].kill(B,function(yn){return function(){delete J[X],V--,w.isLeft(yn)&&w.fromLeft(yn)&&setTimeout(function(){throw w.fromLeft(yn)},0),V===0&&T()}})()}for(var kn in z)z.hasOwnProperty(kn)&&(V++,Tn(kn));return z={},pn=0,K=0,function(X){return new y(u,function(){for(var yn in J)J.hasOwnProperty(yn)&&J[yn]()})}}}}}var A=0,m=1,$=2,E=3,C=4,R=5,H=6;function on(w,z,pn){var K=0,B=A,T=pn,V=null,J=null,Tn=null,kn=null,X=null,yn=0,Zn=0,Bn=null,Hn=!0;function Vn(P){for(var F,G,Q;;)switch(F=null,G=null,Q=null,B){case $:B=m;try{T=Tn(T),kn===null?Tn=null:(Tn=kn._1,kn=kn._2)}catch(Cn){B=R,V=w.left(Cn),T=null}break;case E:w.isLeft(T)?(B=R,V=T,T=null):Tn===null?B=R:(B=$,T=w.fromRight(T));break;case m:switch(T.tag){case s:Tn&&(kn=new y(c,Tn,kn)),Tn=T._2,B=m,T=T._1;break;case n:Tn===null?(B=R,T=w.right(T._1)):(B=$,T=T._1);break;case u:B=E,T=_n(w.left,w.right,T._1);break;case i:B=C,T=vn(w.left,T._1,function(Cn){return function(){K===P&&(K++,v.enqueue(function(){K===P+1&&(B=E,T=Cn,Vn(K))}))}});return;case t:B=R,V=w.left(T._1),T=null;break;case r:Tn===null?X=new y(c,T,X,J):X=new y(c,T,new y(c,new y(d,Tn,kn),X,J),J),Tn=null,kn=null,B=m,T=T._1;break;case a:yn++,Tn===null?X=new y(c,T,X,J):X=new y(c,T,new y(c,new y(d,Tn,kn),X,J),J),Tn=null,kn=null,B=m,T=T._1;break;case f:B=E,F=on(w,z,T._2),z&&z.register(F),T._1&&F.run(),T=w.right(F);break;case p:B=m,T=Mn(w,z,T._1);break}break;case R:if(Tn=null,kn=null,X===null)B=H,T=J||V||T;else switch(F=X._3,Q=X._1,X=X._2,Q.tag){case r:J&&J!==F&&yn===0?B=R:V&&(B=m,T=Q._2(w.fromLeft(V)),V=null);break;case d:J&&J!==F&&yn===0||V?B=R:(Tn=Q._1,kn=Q._2,B=$,T=w.fromRight(T));break;case a:yn--,V===null&&(G=w.fromRight(T),X=new y(c,new y(h,Q._2,G),X,F),(J===F||yn>0)&&(B=m,T=Q._3(G)));break;case h:X=new y(c,new y(O,T,V),X,J),B=m,J&&J!==F&&yn===0?T=Q._1.killed(w.fromLeft(J))(Q._2):V?T=Q._1.failed(w.fromLeft(V))(Q._2):T=Q._1.completed(w.fromRight(T))(Q._2),V=null,yn++;break;case b:yn++,X=new y(c,new y(O,T,V),X,J),B=m,T=Q._1;break;case O:yn--,B=R,T=Q._1,V=Q._2;break}break;case H:for(var gn in Bn)Bn.hasOwnProperty(gn)&&(Hn=Hn&&Bn[gn].rethrow,fn(Bn[gn].handler(T)));Bn=null,J&&V?setTimeout(function(){throw w.fromLeft(V)},0):w.isLeft(T)&&Hn&&setTimeout(function(){if(Hn)throw w.fromLeft(T)},0);return;case A:B=m;break;case C:return}}function dn(P){return function(){if(B===H)return Hn=Hn&&P.rethrow,P.handler(T)(),function(){};var F=Zn++;return Bn=Bn||{},Bn[F]=P,function(){Bn!==null&&delete Bn[F]}}}function I(P,F){return function(){if(B===H)return F(w.right(void 0))(),function(){};var G=dn({rethrow:!1,handler:function(){return F(w.right(void 0))}})();switch(B){case A:J=w.left(P),B=H,T=J,Vn(K);break;case C:J===null&&(J=w.left(P)),yn===0&&(B===C&&(X=new y(c,new y(b,T(P)),X,J)),B=R,T=null,V=null,Vn(++K));break;default:J===null&&(J=w.left(P)),yn===0&&(B=R,T=null,V=null)}return G}}function D(P){return function(){var F=dn({rethrow:!1,handler:P})();return B===A&&Vn(K),F}}return{kill:I,join:D,onComplete:dn,isSuspended:function(){return B===A},run:function(){B===A&&(v.isDraining()?Vn(K):v.enqueue(function(){Vn(K)}))}}}function Rn(w,z,pn,K){var B=0,T={},V=0,J={},Tn=new Error("[ParAff] Early exit"),kn=null,X=e;function yn(dn,I,D){var P=I,F=null,G=null,Q=0,gn={},Cn,_e;n:for(;;)switch(Cn=null,P.tag){case x:if(P._3===e&&(Cn=T[P._1],gn[Q++]=Cn.kill(dn,function(Jo){return function(){Q--,Q===0&&D(Jo)()}})),F===null)break n;P=F._2,G===null?F=null:(F=G._1,G=G._2);break;case _:P=P._2;break;case l:case o:F&&(G=new y(c,F,G)),F=P,P=P._1;break}if(Q===0)D(w.right(void 0))();else for(_e=0,Cn=Q;_e<Cn;_e++)gn[_e]=gn[_e]();return gn}function Zn(dn,I,D){var P,F,G,Q,gn,Cn;for(w.isLeft(dn)?(P=dn,F=null):(F=dn,P=null);;){if(G=null,Q=null,gn=null,Cn=null,kn!==null)return;if(I===null){K(P||F)();return}if(I._3!==e)return;switch(I.tag){case _:P===null?(I._3=w.right(I._1(w.fromRight(F))),F=I._3):I._3=P;break;case l:if(G=I._1._3,Q=I._2._3,P){if(I._3=P,gn=!0,Cn=V++,J[Cn]=yn(Tn,P===G?I._2:I._1,function(){return function(){delete J[Cn],gn?gn=!1:D===null?Zn(P,null,null):Zn(P,D._1,D._2)}}),gn){gn=!1;return}}else{if(G===e||Q===e)return;F=w.right(w.fromRight(G)(w.fromRight(Q))),I._3=F}break;case o:if(G=I._1._3,Q=I._2._3,G===e&&w.isLeft(Q)||Q===e&&w.isLeft(G))return;if(G!==e&&w.isLeft(G)&&Q!==e&&w.isLeft(Q))P=F===G?Q:G,F=null,I._3=P;else if(I._3=F,gn=!0,Cn=V++,J[Cn]=yn(Tn,F===G?I._2:I._1,function(){return function(){delete J[Cn],gn?gn=!1:D===null?Zn(F,null,null):Zn(F,D._1,D._2)}}),gn){gn=!1;return}break}D===null?I=null:(I=D._1,D=D._2)}}function Bn(dn){return function(I){return function(){delete T[dn._1],dn._3=I,Zn(I,dn._2._1,dn._2._2)}}}function Hn(){var dn=m,I=pn,D=null,P=null,F,G;n:for(;;)switch(F=null,G=null,dn){case m:switch(I.tag){case _:D&&(P=new y(c,D,P)),D=new y(_,I._1,e,e),I=I._2;break;case l:D&&(P=new y(c,D,P)),D=new y(l,e,I._2,e),I=I._1;break;case o:D&&(P=new y(c,D,P)),D=new y(o,e,I._2,e),I=I._1;break;default:G=B++,dn=R,F=I,I=new y(x,G,new y(c,D,P),e),F=on(w,z,F),F.onComplete({rethrow:!1,handler:Bn(I)})(),T[G]=F,z&&z.register(F)}break;case R:if(D===null)break n;D._1===e?(D._1=I,dn=m,I=D._2,D._2=e):(D._2=I,I=D,P===null?D=null:(D=P._1,P=P._2))}for(X=I,G=0;G<B;G++)T[G].run()}function Vn(dn,I){kn=w.left(dn);var D;for(var P in J)if(J.hasOwnProperty(P)){D=J[P];for(P in D)D.hasOwnProperty(P)&&D[P]()}J=null;var F=yn(dn,X,I);return function(G){return new y(i,function(Q){return function(){for(var gn in F)F.hasOwnProperty(gn)&&F[gn]();return un}})}}return Hn(),function(dn){return new y(i,function(I){return function(){return Vn(dn,I)}})}}function Mn(w,z,pn){return new y(i,function(K){return function(){return Rn(w,z,pn,K)}})}return y.EMPTY=e,y.Pure=q(n),y.Throw=q(t),y.Catch=q(r),y.Sync=q(u),y.Async=q(i),y.Bind=q(s),y.Bracket=q(a),y.Fork=q(f),y.Seq=q(p),y.ParMap=q(_),y.ParApply=q(l),y.ParAlt=q(o),y.Fiber=on,y.Supervisor=k,y.Scheduler=v,y.nonCanceler=un,y}();const _o=Dn.Pure;Dn.Throw;function po(e){return function(n){return n.tag===Dn.Pure.tag?Dn.Pure(e(n._1)):Dn.Bind(n,function(t){return Dn.Pure(e(t))})}}function ln(e){return function(n){return Dn.Bind(e,n)}}const Pn=Dn.Sync,ic=Dn.Async;function cc(e,n){return function(){return Dn.Fiber(e,null,n)}}Dn.Seq;const sc={map:po},ac={isLeft:e=>{if(e.tag==="Left")return!0;if(e.tag==="Right")return!1;g()},fromLeft:e=>{if(e.tag==="Left")return e._1;if(e.tag==="Right")return mn("unsafeFromLeft: Right");g()},fromRight:e=>{if(e.tag==="Right")return e._1;if(e.tag==="Left")return mn("unsafeFromRight: Left");g()},left:Yo,right:xr},fc={Applicative0:()=>mo,Bind1:()=>lc},lc={bind:ln,Apply0:()=>go},go={apply:e=>n=>ln(e)(t=>ln(n)(r=>mo.pure(t(r)))),Functor0:()=>sc},mo={pure:_o,Apply0:()=>go},jn={liftEffect:Pn,Monad0:()=>fc},_c=(()=>{const e=_o();return n=>e})();function pc(e){return e.target}function dc(e,n,t,r){if(typeof window<"u"){var u=window[t];if(u!=null&&r instanceof u)return n(r)}for(var i=r;i!=null;){var s=Object.getPrototypeOf(i),a=s.constructor.name;if(a===t)return n(r);if(a==="Object")return e;i=s}return e}function gc(e){return function(){return e.valueAsNumber}}const mc=we(De)(We),hc=e=>(n,t)=>{t({key:"type",value:W("Prop'","range")});const r=e(n,u=>{const i={key:"input",value:W("Cb'",s=>{const a=mc((()=>{const f=At(pc(s),M,Wn);if(f.tag==="Just")return dc(M,Wn,"HTMLInputElement",f._1);if(f.tag==="Nothing")return M;g()})())(f=>{const p=gc(f);return()=>{const _=p();return u(_)()}});return()=>(a(),!0)})};return t(i)});return()=>r()},vc=e=>hc((n,t)=>(t(e),()=>{})),yc=e=>{const n=e.attr(Zi);return t=>(r,u)=>t(r,i=>{const s=n(i);return u(s)})},ho=e=>({map:n=>t=>r=>e.map(u=>N(n(u._1),u._2))(t(r))}),vo=e=>{const n=e.Bind1().bind;return{bind:t=>r=>u=>n(t(u))(i=>r(i._1)(i._2)),Apply0:()=>Lt(e)}},Lt=e=>{const n=ho(e.Bind1().Apply0().Functor0());return{apply:(()=>{const t=vo(e).bind,r=yo(e).pure;return u=>i=>t(u)(s=>t(i)(a=>r(s(a))))})(),Functor0:()=>n}},yo=e=>{const n=e.Applicative0().pure;return{pure:t=>r=>n(N(t,r)),Apply0:()=>Lt(e)}},$c=e=>{const n=e.Applicative0().pure,t={Applicative0:()=>yo(e),Bind1:()=>vo(e)};return{state:r=>u=>n(r(u)),Monad0:()=>t}},Tc=e=>n=>{const t=io(Ue(Y(48271)*Y(n)+Y(e))(Y(2147483647)));if(t.tag==="Just")return t._1;g()},wc=$c($e),Ne=ho(Mr),bc=(()=>wc.state(e=>N(e.newSeed,{...e,newSeed:Tc(0)(e.newSeed)})))(),kc=Lt($e),Oc=e=>n=>{const t=Y(n),r=Y(e),u=Ne.map(Y)(bc);return Ne.map(i=>re(be(r+Ue(i)(t-r+1))))(kc.apply(Ne.map(Ct)(u))(Ne.map(i=>2*i)(u)))},$o={arbitrary:Oc(-1e6)(1e6)},Ac=e=>n=>t=>()=>{if(t.units[n.id]){const r=t.units[n.parent].main;t.units[n.id].main&&t.units[n.id].main.parentNode||t.units[n.id].startBeacon&&t.units[n.id].startBeacon.parentNode||(n.ez?(()=>(t.units[n.id].main?r.appendChild(t.units[n.id].main):(r.appendChild(t.units[n.id].startBeacon),r.appendChild(t.units[n.id].endBeacon)),!0))():e(n.pos)(i=>()=>e(n.dynFamily)(s=>()=>{for(var a=0,f=0,p;f<r.childNodes.length;){if(r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue==="%-%"+s){f+=1;break}f++}const _=o=>{t.units[n.id].startBeacon?(r.insertBefore(t.units[n.id].startBeacon,r.childNodes[o]),r.insertBefore(t.units[n.id].endBeacon,r.childNodes[o])):r.insertBefore(t.units[n.id].main,r.childNodes[o])};for(;f<r.childNodes.length;){var l;if((l=r.childNodes[f].$dekuId)&&e(t.units[l].dynFamily)(c=>()=>e(t.units[l].pos)(h=>()=>s===c&&i<=h?(_(f),!0):!1)())())return!0;if(a===i||r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue==="%-%"+s+"%-%")return _(f),!0;r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue.substring(0,3)==="%-%"&&!p&&(p=r.childNodes[f].nodeValue+"%-%"),p||a++,r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue===p&&(p=void 0,a++),f++}return!1})())())||(n.parent.indexOf("@!%")!==-1?e(n.dynFamily)(s=>()=>(t.units[n.id].main?t.units[s].endBeacon.parentNode.insertBefore(t.units[n.id].main,t.units[s].endBeacon):(t.units[s].endBeacon.parentNode.insertBefore(t.units[n.id].endBeacon,t.units[s].endBeacon),t.units[s].endBeacon.parentNode.insertBefore(t.units[n.id].startBeacon,t.units[n.id].endBeacon)),!0))()||(t.units[n.id].main?r.parentNode.replaceChild(t.units[n.id].main,r):(r.parentNode.replaceChild(t.units[n.id].endBeacon,r),t.units[n.id].endBeacon.parentNode.insertBefore(t.units[n.id].startBeacon,t.units[n.id].endBeacon))):e(n.dynFamily)(s=>()=>(t.units[n.id].startBeacon?(r.insertBefore(t.units[n.id].startBeacon,t.units[s].endBeacon),r.insertBefore(t.units[n.id].endBeacon,t.units[s].endBeacon)):r.insertBefore(t.units[n.id].main,t.units[s].endBeacon),!0))()||(t.units[n.id].startBeacon?(r.appendChild(t.units[n.id].startBeacon),r.appendChild(t.units[n.id].endBeacon)):r.appendChild(t.units[n.id].main)))}},Cc=e=>n=>t=>r=>()=>{var u,i,s=t.id;if(r.scopes[t.scope]||(r.scopes[t.scope]=[]),r.scopes[t.scope].push(s),!e(t.parent)(()=>()=>r.hydrating&&n&&(u=r.allBeacons[t.id])&&(i=r.allBeacons[`${t.id}%-%`])?(r.units[s]={listeners:{},parent:t.parent,scope:t.scope,pos:t.pos,dynFamily:t.dynFamily,startBeacon:u,endBeacon:i},u.$dekuId=s,i.$dekuId=s,!0):!1)()){const f=document.createComment(`%-%${t.id}`),p=document.createComment(`%-%${t.id}%-%`);r.units[s]={listeners:{},parent:t.parent,dynFamily:t.dynFamily,scope:t.scope,pos:t.pos,startBeacon:f,endBeacon:p},f.$dekuId=s,p.$dekuId=s}},Ec=new Set(["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"]),Nc=e=>n=>()=>n.units[e]&&n.units[e].dynFamily?n.units[e].dynFamily:(()=>{throw new Error(`No positional information for ${e}`)})(),Lc=e=>n=>()=>n.units[e]&&n.units[e].main&&n.units[e].main.parentNode&&n.units[e].main.parentNode.$dekuId?n.units[e].main.parentNode.$dekuId:n.units[e]&&n.units[e].startBeacon&&n.units[e].startBeacon.parentNode&&n.units[e].startBeacon.parentNode.$dekuId?n.units[e].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${e}`)})(),Rc=e=>n=>()=>n.units[e]&&n.units[e].scope?n.units[e].scope:(()=>{throw new Error(`No scope information for ${e}`)})(),Sc=e=>n=>t=>r=>()=>{var u,i=t.id;if(r.scopes[t.scope]||(r.scopes[t.scope]=[]),r.scopes[t.scope].push(i),!e(t.parent)(()=>()=>r.hydrating&&n&&(u=document.documentElement.querySelector(`[data-deku-ssr="${i}"]`))?(r.units[i]={listeners:{},pos:t.pos,parent:t.parent,scope:t.scope,dynFamily:t.dynFamily,main:u},u.$dekuId=i,!0):!1)()){const a=Ec.has(t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);r.units[i]={listeners:{},parent:t.parent,pos:t.pos,scope:t.scope,dynFamily:t.dynFamily,main:a},a.$dekuId=i}},Bc=e=>n=>t=>r=>u=>()=>{var i=r.id,s;if(u.scopes[r.scope]||(u.scopes[r.scope]=[]),u.scopes[r.scope].push(i),!e(r.parent)(f=>()=>{if(u.hydrating&&n&&(s=document.documentElement.querySelector(`[data-deku-ssr="${f}"]`))){for(var p=0;p<s.childNodes.length;p++){const c=i.split("@-@");if(s.childNodes[p].nodeType===8&&s.childNodes[p].nodeValue===c[0]){p=p-1;var _=p===-1,l=p>=0&&s.childNodes[p].nodeType===8;_&&s.prepend(document.createTextNode("")),l&&s.insertBefore(document.createTextNode(""),s.childNodes[p+1]);break}}const o=s.childNodes[p];return u.units[i]={main:o,pos:r.pos,parent:r.parent,scope:r.scope},o.$dekuId=i,!0}return!1})()){const f=document.createTextNode("");u.units[i]={main:f,parent:r.parent,scope:r.scope,pos:r.pos,dynFamily:r.dynFamily},f.$dekuId=i}};function Pc(){return{units:{},scopes:{},allBeacons:{}}}const Fc=e=>n=>t=>()=>{if(t.units[n.id]){var r=n.id,u=n.value;t.hydrating&&e&&!t.units[r]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${r}"]`))&&(t.units[r]={listeners:{},parent:n.parent,scope:n.scope,main:dom},t.scopes[n.scope]||(t.scopes[n.scope]=[]),t.scopes[n.scope].push(r)),t.units[r].main.tagName==="INPUT"&&n.key==="value"||t.units[r].main.tagName==="TEXTAREA"&&n.key==="value"?t.units[r].main.value=u:t.units[r].main.tagName==="INPUT"&&n.key==="checked"?t.units[r].main.checked=u==="true":n.key==="disabled"?t.units[r].main.disabled=u==="true":t.units[r].main.setAttribute(n.key,u)}},Ic=e=>n=>t=>()=>{if(t.units[n.id]){var r=n.id,u=n.value;if(t.hydrating&&e&&!t.units[r]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${r}"]`))&&(t.units[r]={listeners:{},parent:n.parent,scope:n.scope,main:dom},t.scopes[n.scope]||(t.scopes[n.scope]=[]),t.scopes[n.scope].push(r)),n.key==="@self@")u(t.units[r].main)();else{t.units[r].listeners[n.key]&&t.units[r].main.removeEventListener(n.key,t.units[r].listeners[n.key]);var i=s=>u(s)();t.units[r].main.addEventListener(n.key,i),t.units[r].listeners[n.key]=i}}},qc=e=>n=>()=>{if(n.units[e.id]){var t=e.id;n.units[t].main.nodeValue=e.text}},xc=e=>n=>t=>r=>u=>()=>{var i,s,a=r.id,f=r.html,p=r.verb,_=r.cache,l=r.parent,o=r.scope,c=r.pxScope;const d=e(r.parent)(()=>()=>u.hydrating&&n&&(i=document.documentElement.querySelector(`[data-deku-ssr="${a}"]`))?(u.units[a]={listeners:{},pos:r.pos,scope:o,parent:l,main:i},i.$dekuId=a,!0):!1)();if(!d){const b=Object.entries(_);for(var h=0;h<b.length;h++){const O=b[h][0];b[h][1]===!0?f=f.replace(p+O+p,'data-deku-attr-internal="'+O+'"'):f=f.replace(p+O+p,'<span style="display:contents;" data-deku-elt-internal="'+O+'"></span>')}s=document.createElement("div"),s.innerHTML=f.trim(),u.units[a]={listeners:{},pos:r.pos,scope:o,parent:l,main:s.firstChild},s.firstChild.$dekuId=a}u.scopes[o]||(u.scopes[o]=[]),u.scopes[o].push(a),s||(s=i),s.querySelectorAll("[data-deku-attr-internal]").forEach(function(b){var O=b.getAttribute("data-deku-attr-internal");const x=O+"@!%"+c;u.units[x]={listeners:{},main:b,scope:o},u.scopes[o].push(x)}),s.querySelectorAll("[data-deku-elt-internal]").forEach(function(b){var O=b.getAttribute("data-deku-elt-internal");const x=O+"@!%"+c;u.units[O+"@!%"+c]={listeners:{},main:b,scope:o},u.scopes[o].push(x)}),d||u.units[a].main.remove()},Jc=e=>n=>()=>{var t=e.id;n.units[t]={main:e.root},e.root.$dekuId=t},To=e=>n=>t=>r=>()=>{const u=(d,h,b)=>{if(r.units[d].startBeacon){var O=r.units[d].startBeacon,x=O.nextSibling;for(r.units[h].main.insertBefore(O,b),O=x;O&&O!==r.units[d].endBeacon;)x=O.nextSibling,r.units[h].main.insertBefore(O,b),O=x}else r.units[h].main.insertBefore(r.units[d].main,b)},i=[];i.push(t);for(var s=0;s<i.length;s++){const d=i[s],h=d.id,b=d.parent;r.units[h].containingScope=d.scope;var a=void 0;n(d.pos)(x=>()=>(a=x,!0))(),a===void 0&&(a=Number.MAX_VALUE);const O=r.units[b].main.childNodes;for(var f=0,p=!1,_=0;f<O.length;){var l;if(l=O[f].$dekuId){if(n(d.dynFamily)(y=>()=>p?!1:r.units[l].endBeacon===O[f]&&y===l?(r.units[h].pos=e(_),u(h,b,O[f]),!0):!1)()){p=!0;break}if(r.units[l].dynFamily!==r.units[h].dynFamily){f++;continue}if(p){f++;continue}_===a?(u(h,b,O[f]),_++,p=!0):r.units[l].endBeacon!==O[f]&&(r.units[l].pos=e(_),_++)}f++}if(p)return;if(r.units[h].main)r.units[b].main.appendChild(r.units[h].main);else{var o=r.units[h].startBeacon,c=o.nextSibling;for(r.units[b].main.appendChild(o),o=c;o&&o!==r.units[h].endBeacon;)c=o.nextSibling,r.units[b].main.appendChild(o),o=c}}},Mc=e=>n=>()=>{if(n.units[e.id]){var t=e.id;if(n.units[t].containingScope&&!e.scopeEq(n.units[t].containingScope)(e.scope))return;if(n.units[t].main)n.units[t].main.remove();else{const i=document.createElement("div");var r=n.units[t].startBeacon,u=r.nextSibling;for(i.appendChild(r),r=u;r&&r!==n.units[t].endBeacon;)u=r.nextSibling,i.appendChild(r),r=u;r===n.units[t].endBeacon&&i.appendChild(r)}}},wo=e=>n=>()=>{n.units[e.id]&&delete n.units[e.id]},Dc=wo,ee=e=>n=>e.tag==="Just"?n(e._1):()=>!1,Wc=e=>n=>{const t=Rc(e.id)(n);return()=>{const r=t(),u=Lc(e.id)(n)(),i=Nc(e.id)(n)();return To(Wn)(ee)({scope:r,parent:u,dynFamily:i,id:e.id,pos:S("Just",e.pos),ez:!1})(n)()}},zc=e=>({ids:()=>{const n=e.value,t=e.value;return e.value=1+t|0,$t($o.arbitrary({newSeed:(()=>{const r=Qn(n)(2147483645);return r<1?r+2147483646|0:r})(),size:5})._1)},makeElement:Sc(ee)(!1),makeDynBeacon:Cc(ee)(!1),attributeParent:Ac(ee),makeRoot:Jc,makeText:Bc(ee)(!1)(n=>t=>{if(t.tag!=="Nothing"){if(t.tag==="Just")return n(t._1);g()}}),makePursx:xc(ee)(!1)(n=>t=>{if(t.tag!=="Nothing"){if(t.tag==="Just")return n(t._1);g()}}),setProp:Fc(!1),setCb:Ic(!1),setText:qc,sendToPos:Wc,removeDynBeacon:Dc,deleteFromCache:wo,giveNewParent:To(Wn)(ee),disconnectElement:Mc}),Rt=function(){return window};function bo(e){return e.body}function ko(e){return function(){return e.document}}function Gc(e){return function(n){return function(){return n.requestAnimationFrame(e)}}}const Uc=e=>n=>()=>{const t=Pc(),r={value:0};return an.subscribe(Yi(e)(n)(zc(r)))(u=>u(t))()},Qc=e=>()=>{const n=Rt(),t=ko(n)(),r=bo(t),u=At(r,M,Wn);return u.tag==="Just"?Uc(u._1)(e)():()=>{}},Hc=function(e){return function(){console.log(e)}},Ut=(()=>an.makeEvent(e=>()=>{const n=Rt();let t=!1;const r=Er(()=>{const i=Gc((()=>{const s=e();return()=>{s();const a=t;if(!a)return r()();a||g()}})())(n);return()=>{i()}});return r()(),()=>t=!0}))(),Vc=e=>n=>t=>r=>t(e.map(u=>i=>u(n(i)))(e.map(yt)(r)));function jc(){return Date.now()}const Kc=e=>an.makeEvent(n=>an.subscribe(e)(t=>()=>{const r=jc();return n({time:r,value:t})()})),Qe=()=>()=>()=>e=>n=>t=>Mo(t.type)(e)?Fe(t.type)(e)(t.value):n(t),He=e=>mn("Data.Variant: pattern match failure ["+e.type+"]"),Oo=e=>{const n=e.Bind1().bind,t=e.Applicative0().pure;return{bind:r=>u=>n(r)(i=>{if(i.tag==="Left")return t(En("Left",i._1));if(i.tag==="Right")return u(i._1);g()}),Apply0:()=>Ao(e)}},Ao=e=>{const n=e.Bind1().Apply0().Functor0(),t={map:r=>n.map(Jr.map(r))};return{apply:(()=>{const r=Oo(e).bind,u=St(e).pure;return i=>s=>r(i)(a=>r(s)(f=>u(a(f))))})(),Functor0:()=>t}},St=e=>({pure:(()=>{const n=e.Applicative0().pure;return t=>n(En("Right",t))})(),Apply0:()=>Ao(e)}),Yc=e=>{const n={Applicative0:()=>St(e),Bind1:()=>Oo(e)};return{throwError:(()=>{const t=e.Applicative0().pure;return r=>t(En("Left",r))})(),Monad0:()=>n}},Xc=e=>n=>{const t=n.Bind1(),r=n.Applicative0().pure,u=t.Apply0().Functor0(),i={map:s=>u.map(Jr.map(s))};return{alt:s=>a=>t.bind(s)(f=>{if(f.tag==="Right")return r(En("Right",f._1));if(f.tag==="Left"){const p=f._1;return t.bind(a)(_=>{if(_.tag==="Right")return r(En("Right",_._1));if(_.tag==="Left")return r(En("Left",e.append(p)(_._1)));g()})}g()}),Functor0:()=>i}};function Qt(e){return Object.prototype.toString.call(e).slice(8,-1)}const Zc=(e,n,t)=>({tag:e,_1:n,_2:t}),Co=e=>{const n=St(e).pure,t=Yc(e).throwError;return r=>u=>Qt(u)===r?n(u):t(Hr(Zc("TypeMismatch",r,Qt(u)),te))},ns=e=>({tag:e}),es=e=>({tag:e}),Eo=e=>({tag:e}),ts=Eo("TTT11"),rs=Eo("TTT12"),os=es("Speakers"),us=ns("Max"),is={type:"on",value:void 0},cs={x:is,o:0},Ht=()=>(e,n)=>(n({type:"onOff",value:cs}),()=>{}),ss=()=>({tag:"PlayBufOptions"}),No=e=>e,as={reflectSymbol:()=>"buffer"},Lo=ss(),lt={toInitializeGain:e=>({gain:e})},Ro={convertOption:e=>n=>No},fs={convertOption:e=>n=>No},So={bufferOffset:0,playbackRate:1,duration:M},ls={toInitializePlayBuf:(()=>{const e=ie(bt)(Ro)()()()(as);return n=>wt(e.convertRecordOptions(Lo)(hn)({buffer:n})({}),So)})()},_s=()=>({tag:"AnalyserOptions"}),Bt=e=>e,Pt=(()=>fe(Ge.alt)(wn.empty))(),ps=_s(),ds={convertOption:e=>n=>Bt},gs={convertOption:e=>n=>Bt},ms={convertOption:e=>n=>Bt},hs={cb:e=>()=>()=>{},fftSize:ts,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8,channelCount:2,channelCountMode:us,channelInterpretation:os},Ve=ce({doLogic:Ko,ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectXFromY({from:n.id,to:n.parent}),toElt:e=>e}),vs=e=>n=>t=>r=>{const u=e.toInitializeAnalyser(n);return U("Element'",i=>s=>{const a=s.ids;return an.makeLemmingEventO((f,p)=>{const _=a();i.raiseId(_)();const l=f(Pt([(()=>{const c=s.makeAnalyser({id:_,parent:i.parent,scope:(()=>{if(i.scope.tag==="Global")return M;if(i.scope.tag==="Local")return S("Just",i.scope._1);g()})(),cb:u.cb,fftSize:uo(2)((()=>{if(u.fftSize.tag==="TTT7")return 7;if(u.fftSize.tag==="TTT8")return 8;if(u.fftSize.tag==="TTT9")return 9;if(u.fftSize.tag==="TTT10")return 10;if(u.fftSize.tag==="TTT11")return 11;if(u.fftSize.tag==="TTT12")return 12;if(u.fftSize.tag==="TTT13")return 13;g()})()),maxDecibels:u.maxDecibels,minDecibels:u.minDecibels,smoothingTimeConstant:u.smoothingTimeConstant,channelCount:u.channelCount,channelCountMode:(()=>{if(u.channelCountMode.tag==="Explicit")return"explicit";if(u.channelCountMode.tag==="Max")return"max";if(u.channelCountMode.tag==="ClampedMax")return"clamped-max";g()})(),channelInterpretation:(()=>{if(u.channelInterpretation.tag==="Speakers")return"speakers";if(u.channelInterpretation.tag==="Discrete")return"discrete";g()})()});return(d,h)=>(h(c),()=>{})})(),(c,d)=>t(c,h=>{const b=Qe()()()({cb:O=>s.setAnalyserNodeCb({id:_,cb:O})})(He)(h);return d(b)}),Ve({parent:S("Just",_),scope:i.scope,raiseId:c=>()=>{}})(s)(U("FixedChildren'",r))]),p),o=s.deleteFromCache({id:_});return()=>(p(o),l())})})},ys=e=>n=>vs(e)(n)(wn.empty),$s=e=>n=>{const t=n.ids;return an.makeLemmingEventO((r,u)=>{const i=t();return u(n.makeSpeaker({id:i})),r(Ve({parent:S("Just",i),scope:xe("Local","toplevel"),raiseId:s=>()=>{}})(n)(U("FixedChildren'",e)),u)})},Bo=e=>n=>t=>r=>Qe()()()({numeric:u=>{const i=t({type:"numeric",value:u});return(s,a)=>(a(i),()=>{})},envelope:u=>{const i=t({type:"envelope",value:u});return(s,a)=>(a(i),()=>{})},cancel:u=>{const i=t({type:"cancel",value:u});return(s,a)=>(a(i),()=>{})},sudden:u=>{const i=t({type:"sudden",value:u});return(s,a)=>(a(i),()=>{})},unit:u=>{const i=Ts(lt)(1)([u.u]);return an.makeLemmingEventO((s,a)=>{let f=M;const p=Ve({parent:M,scope:e,raiseId:l=>()=>{f=S("Just",l)}})(n)(i),_=an.makeLemmingEventO((l,o)=>{const c=f;return c.tag==="Nothing"||(c.tag==="Just"?o(t({type:"unit",value:{i:c._1}})):g()),()=>{}});return s((l,o)=>{const c=p(l,o),d=_(l,o);return()=>(c(),d())},a)})}})(He)(r),Ts=e=>n=>t=>_t(e)(n)(wn.empty)(t),_t=e=>n=>t=>r=>{const u=e.toInitializeGain(n);return U("Element'",i=>s=>{const a=s.ids;return an.makeLemmingEventO((f,p)=>{const _=a();i.raiseId(_)();const l=f(Pt([(()=>{const c=s.makeGain({id:_,parent:i.parent,scope:(()=>{if(i.scope.tag==="Global")return M;if(i.scope.tag==="Local")return S("Just",i.scope._1);g()})(),gain:u.gain});return(d,h)=>(h(c),()=>{})})(),(c,d)=>{let h=()=>{};const b=t(c,O=>{const x=Qe()()()({gain:Bo(i.scope)(s)(un=>s.setGain({id:_,gain:un}))})(He)(O);return h(),h=x(c,d)});return()=>(h(),b())},Ve({parent:S("Just",_),scope:i.scope,raiseId:c=>()=>{}})(s)(U("FixedChildren'",r))]),p),o=s.deleteFromCache({id:_});return()=>(p(o),l())})})},Po=e=>n=>t=>{const r=e.toInitializePlayBuf(n);return U("Element'",u=>i=>{const s=i.ids;return an.makeLemmingEventO((a,f)=>{const p=s();u.raiseId(p)();const _=a(Pt([(()=>{const o=i.makePlayBuf({id:p,parent:u.parent,scope:(()=>{if(u.scope.tag==="Global")return M;if(u.scope.tag==="Local")return S("Just",u.scope._1);g()})(),buffer:r.buffer,playbackRate:r.playbackRate,bufferOffset:r.bufferOffset,duration:r.duration});return(c,d)=>(d(o),()=>{})})(),(o,c)=>{let d=()=>{};const h=t(o,b=>{const O=Qe()()()({buffer:q=>{const un=i.setBuffer({id:p,buffer:q});return(fn,_n)=>(_n(un),()=>{})},playbackRate:Bo(u.scope)(i)(q=>i.setPlaybackRate({id:p,playbackRate:q})),bufferOffset:q=>{const un=i.setBufferOffset({id:p,bufferOffset:q});return(fn,_n)=>(_n(un),()=>{})},onOff:q=>{const un=i.setOnOff({id:p,onOff:q});return(fn,_n)=>(_n(un),()=>{})},duration:q=>{const un=i.setDuration({id:p,duration:q});return(fn,_n)=>(_n(un),()=>{})}})(He)(b);return d(),d=O(o,c)});return()=>(d(),h())}]),f),l=i.deleteFromCache({id:p});return()=>(f(l),_())})})},ws=e=>Po(e);function bs(e){return function(n){return function(t){return function(){e.then(t,n)}}}}const ks=(()=>Xc(Iu)($e).alt)(),Os=Co($e),As=Co($e)("String"),Vt=e=>n=>ic(t=>{const r=bs(n)(u=>t(En("Left",e(u)))())(u=>t(En("Right",u))());return()=>(r(),_c)}),jt=e=>{const n=ks(Os("Error")(e))((()=>{const t=As(e);if(t.tag==="Left")return En("Left",t._1);if(t.tag==="Right")return En("Right",Gt(t._1));g()})());if(n.tag==="Left")return Gt("Promise failed, couldn't extract JS Error or String");if(n.tag==="Right")return n._1;g()};var Cs="numeric",Es="sudden",Ns="unit",Ls="cancel",Rs="step",Ss="linear",Bs="exponential",Ps="envelope",Fo=function(e,n,t,r){if(t.type===Es)e.value=t.value.n;else if(t.type===Ns)n.id&&xs(n.id,r),r.units[t.value.i].main.connect(e),n.id=t.value.i;else if(t.type===Cs)e[t.value.t.type===Rs?"setValueAtTime":t.value.t.type===Ss?"linearRampToValueAtTime":t.value.t.type===Bs?"exponentialRampToValueAtTime":"linearRampToValueAtTime"](t.value.n,t.value.o);else if(t.type===Ls)t.value.hold?e.cancelAndHoldAtTime(t.value.o):e.cancelScheduledValues(t.value.o);else if(t.type===Ps){const u=t.value.o;e.cancelScheduledValues(Math.max(0,u)),e.setValueCurveAtTime(t.value.p,u,t.value.d)}else throw new Error("No idea what to do with "+JSON.stringify(t))},Fs=function(e,n,t,r,u){return r[t]||(r[t]={}),Fo(n.parameters.get(t),r[t],u,e)},xn=function(e,n,t,r,u){return r[t]||(r[t]={}),Fo(n[t],r[t],u,e)},en=function(e,n,t,r){const u=e("@fan@")(i=>i)(t);r.scopes[u]||(r.scopes[u]=[]),r.scopes[u].push(n),r.units[n].scope=u},tn=function(e,n){n.toConnect[e]&&(n.toConnect[e].forEach(function(t){t.w?n.units[t.w]?t.f():(n.toConnect[t.w]||(n.toConnect[t.w]=[]),n.toConnect[t.w].push({f:t.f})):t.f()}),delete n.toConnect[e])},rn=function(e,n,t,r){e()(u=>Io(n,u,r))(t)},Io=function(e,n,t){var r=function(){t.units[e].audioOutgoing.push(n),t.units[e].pendingOn||(t.units[e].main.connect(t.units[n].main),t.units[n].se&&t.units[e].main.connect(t.units[n].se))};if(!t.units[e]){t.toConnect[e]||(t.toConnect[e]=[]);var u={f:r};n!==e&&!t.units[n]&&(u.w=n),t.toConnect[e].push(u);return}if(!t.units[n]){t.toConnect[n]||(t.toConnect[n]=[]);var u={f:r};n!==e&&!t.units[e]&&(u.w=e),t.toConnect[n].push(u);return}r()};function Is(e){return function(n){return function(){delete n.units[e.id]}}}function qs(e){return function(n){return function(){Io(e.from,e.to,n)}}}var xs=function(e,n){if(n.units[e].scope==="@fan@")return;const t=n.units[e].scope;n.scopes[t].forEach(r=>{delete n.units[r]}),delete n.scopes[t]};function Js(e){return function(n){return function(){var t=e.from,r=e.to;if(!n.units[t]||(n.units[t].audioOutgoing=n.units[t].audioOutgoing.filter(function(i){return i!==r}),n.units[t].main.disconnect(n.units[r].main),n.units[r].se&&n.units[t].main.disconnect(n.units[r].se),n.units[t].scope==="@fan@"))return;const u=n.units[t].scope;n.scopes[u].forEach(i=>{delete n.units[i]}),delete n.scopes[u]}}}const Ms=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"allpass",Q:n.q,frequency:n.frequency})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Ds=e=>n=>t=>()=>{var r=n.id,u=n.cb,i=new AnalyserNode(t.context,n),s=u(i)();t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],analyserOrig:u,analyser:s,main:t.context.createGain(),se:i},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Ws=e=>n=>t=>()=>{var r=n.id,u=n.options;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new AudioWorkletNode(t.context,u.name,{numberOfInputs:u.numberOfInputs,numberOfOutputs:u.numberOfOutputs,outputChannelCount:u.outputChannelCount,parameterData:u.parameterData,processorOptions:u.processorOptions})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},zs=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"bandpass",Q:n.q,frequency:n.frequency})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Gs=e=>n=>t=>()=>{var r=n.id,u=function(s,a){return new ConstantSourceNode(s,a)},i={offset:n.offset};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Us=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new ConvolverNode(t.context,{buffer:n.buffer})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Qs=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DelayNode(t.context,{delayTime:n.delayTime,maxDelayTime:n.maxDelayTime})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Hs=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DynamicsCompressorNode(t.context,{knee:n.knee,ratio:n.ratio,threshold:n.threshold,attack:n.attack,release:n.release})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Vs=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new GainNode(t.context,{gain:n.gain})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},js=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"highpass",Q:n.q,frequency:n.frequency})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Ks=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"highshelf",frequency:n.frequency,gain:n.gain})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Ys=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new IIRFilterNode(t.context,{feedforward:n.feedforward,feedback:n.feedback})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Xs=e=>n=>t=>()=>{var r=n.id,u=function(s,a){return new AudioBufferSourceNode(s,a)},i={loop:!0,buffer:n.buffer,loopStart:n.loopStart,loopEnd:n.loopEnd,playbackRate:n.playbackRate};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},Zs=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"lowpass",Q:n.q,frequency:n.frequency})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},na=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"lowshelf",frequency:n.frequency,gain:n.gain})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},ea=e=>n=>t=>()=>{var r=n.id,u=n.element,i=function(){var s=t.context.createMediaElementSource(u);return s};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],createClosure:i,resumeClosure:{},main:i()},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},ta=e=>n=>t=>()=>{var r=n.id;t.units[n.id]={main:t.context.createMediaStreamSource(n.microphone),controllers:{},audioOutgoing:[],controlOutgoing:[]},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},ra=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"notch",frequency:n.frequency,Q:n.q})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},oa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"peaking",frequency:n.frequency,Q:n.q,gain:n.gain})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},ua=e=>n=>t=>()=>{var r=n.id,u=function(s,a){var f={frequency:a.frequency,periodicWave:a.spec.type==="wave"?a.spec.value:Wa(t.context)(a.spec.value.real)(a.spec.value.img)()},p=new OscillatorNode(s,f);return p},i={frequency:n.frequency,type:"custom",spec:n.spec};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},ia=e=>n=>t=>()=>{var r=n.id,u=function(s,a){var f={loop:a.loop,buffer:a.buffer,playbackRate:a.playbackRate};return new AudioBufferSourceNode(s,f)},i={loop:!1,buffer:n.buffer,playbackRate:n.playbackRate,bufferOffset:n.bufferOffset,duration:e(void 0)(s=>s)(n.duration)};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},ca=e=>n=>t=>()=>{var r=n.id,u=n.cb,i=t.context.createMediaStreamDestination(),s=new MediaRecorder(i.stream);u(s)(),s.start(),t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],recorderOrig:u,recorder:s,main:t.context.createGain(),se:i},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},sa=e=>n=>t=>()=>{var r=n.id,u=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"sawtooth"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},aa=e=>n=>t=>()=>{var r=n.id,u=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"sine"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},fa=e=>n=>()=>{n.units[e.id]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:n.context.createGain(),se:n.context.destination}},la=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new StereoPannerNode(t.context,{pan:n.pan})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},_a=e=>n=>t=>()=>{var r=n.id,u=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"square"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},pa=e=>n=>t=>()=>{var r=n.id,u=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"triangle"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:u,onOff:!1,pendingOn:!0,main:u(t.context,i)},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)},da=e=>n=>t=>()=>{var r=n.id,u=n.curve,i=n.oversample;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new WaveShaperNode(t.context,{curve:u,oversample:i.type})},en(e,r,n.scope,t),tn(r,t),rn(e,r,n.parent,t)};function ga(e){return function(n){return function(){var t=e.id,r=e.cb;n.units[t].analyserOrig!==r&&(n.units[t].analyser&&n.units[t].analyser(),n.units[t].analyser=r(n.units[t].se)(),n.units[t].analyserOrig=r)}}}function ma(e){return function(n){return function(){var t=e.cb,r=e.id;if(n.units[r].recorderOrig!==t){n.units[r].recorder&&n.units[r].recorder.stop();var u=t;n.units[r].recorderOrig=t;var i=new MediaRecorder(n.units[r].se);u(i)(),i.start()}}}}function ha(e){return function(n){return function(){var t=e.id,r=e.curve;n.units[t].main.curve=r}}}function va(e){return function(n){return function(){var t=e.id,r=e.paramName,u=e.paramValue;Fs(n,n.units[t].main,r,n.units[t].controllers,u)}}}const Jn=function(e,n,t){n.resume&&e.value.n!==void 0&&(n.resume[t]=e.value.n)};function ya(e){return function(n){return function(){var t=e.id,r=e.gain;xn(n,n.units[t].main,"gain",n.units[t].controllers,r),Jn(r,n.units[t],"gain")}}}function $a(e){return function(n){return function(){var t=e.id,r=e.q;xn(n,n.units[t].main,"Q",n.units[t].controllers,r),Jn(r,n.units[t],"Q")}}}function Ta(e){return function(n){return function(){var t=e.id,r=e.buffer;n.units[t].resume&&(n.units[t].resume.buffer=r)}}}function wa(e){return function(n){return function(){var t=e.id,r=e.buffer;n.units[t].main.buffer=r}}}function ba(e){return function(n){return function(){var t=e.id,r=e.spec;n.units[t].resume&&(n.units[t].resume.spec=r)}}}function ka(e){return function(n){return function(){var t=e.id,r=e.pan;xn(n,n.units[t].main,"pan",n.units[t].controllers,r),Jn(r,n.units[t],"pan")}}}function Oa(e){return function(n){return function(){var t=e.id,r=e.threshold;xn(n,n.units[t].main,"threshold",n.units[t].controllers,r),Jn(r,n.units[t],"threshold")}}}function Aa(e){return function(n){return function(){var t=e.id,r=e.loopStart;n.units[t].main.loopStart=r,n.units[t].resume.loopStart=r}}}function Ca(e){return function(n){return function(){var t=e.id,r=e.loopEnd;n.units[t].main.loopEnd=r,n.units[t].resume.loopEnd=r}}}function Ea(e){return function(n){return function(){var t=e.id,r=e.bufferOffset;n.units[t].resume.bufferOffset=r}}}function Na(e){return function(n){return function(t){return function(){var r=n.id,u=n.duration;t.units[r].duration=e(void 0)(i=>i)(u)}}}}function La(e){return function(n){return function(){var t=e.id,r=e.release;xn(n,n.units[t].main,"release",n.units[t].controllers,r),Jn(r,n.units[t],"release")}}}function Ra(e){return function(n){return function(){var t=e.id,r=e.offset;xn(n,n.units[t].main,"offset",n.units[t].controllers,r),Jn(r,n.units[t],"offset")}}}function Sa(e){return function(n){return function(){var t=e.id,r=e.ratio;xn(n,n.units[t].main,"ratio",n.units[t].controllers,r),Jn(r,n.units[t],"ratio")}}}function Ba(e){return function(n){return function(){var t=e.id,r=e.attack;xn(n,n.units[t].main,"attack",n.units[t].controllers,r),Jn(r,n.units[t],"attack")}}}function Pa(e){return function(n){return function(){var t=e.id,r=e.knee;xn(n,n.units[t].main,"knee",n.units[t].controllers,r),Jn(r,n.units[t],"knee")}}}function Fa(e){return function(n){return function(){var t=e.id,r=e.delayTime;xn(n,n.units[t].main,"delayTime",n.units[t].controllers,r),Jn(r,n.units[t],"delayTime")}}}function Ia(e){return function(n){return function(){var t=e.id,r=e.playbackRate;xn(n,n.units[t].main,"playbackRate",n.units[t].controllers,r),Jn(r,n.units[t],"playbackRate")}}}function qa(e){return function(n){return function(){var t=e.id,r=e.frequency;xn(n,n.units[t].main,"frequency",n.units[t].controllers,r),Jn(r,n.units[t],"frequency")}}}function xa(e){return function(n){return function(){var t=e.id,r=e.onOff;r.x.type==="on"?Ja(t)(r)(n)():r.x.type==="off"&&Ma(t)(r)(n)()}}}var Ja=function(e){return function(n){return function(t){return function(){if(!t.units[e].onOff){t.units[e].pendingOn=!1,t.units[e].onOff=!0,t.units[e].main=t.units[e].createClosure(t.context,t.units[e].resume);for(var r=0;r<t.units[e].audioOutgoing.length;r++){var u=t.units[e].audioOutgoing[r];t.units[e].main.connect(t.units[u].main),t.units[u].se&&t.units[e].main.connect(t.units[u].se)}t.units[e].resume&&t.units[e].resume.bufferOffset?typeof t.units[e].resume.duration=="number"?t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.bufferOffset,t.units[e].resume.duration):t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.bufferOffset):t.units[e].resume&&t.units[e].resume.loopStart?t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.loopStart):t.units[e].main.start(t.deprecatedWriteHead+n.o)}}}}},Ma=function(e){return function(n){return function(t){return function(){if(t.units[e].onOff){t.units[e].onOff=!1;var r=t.units[e].main;r.addEventListener("ended",()=>{r.disconnect()}),r.stop(t.deprecatedWriteHead+n.o)}}}}};function Da(e){return function(){var n=new Uint8Array(e.frequencyBinCount);return e.getByteFrequencyData(n),n}}function tt(e){return e.sampleRate}var Wa=function(e){return function(n){return function(t){return function(){for(var r=new Float32Array(n.length),u=new Float32Array(t.length),i=0;i<n.length;i++)r[i]=n[i];for(var i=0;i<t.length;i++)u[i]=t[i];return e.createPeriodicWave(r,u,{disableNormalization:!0})}}}};function za(e){return function(){return{context:e,deprecatedWriteHead:0,units:{},scopes:{},unsu:{},toConnect:{}}}}function Ga(e){return function(){return fetch(e).then(function(n){return n.arrayBuffer()},function(n){return console.error("Error fetching buffer",n),Promise.reject(n)})}}function Ua(e){return function(n){return function(){return e.decodeAudioData(n)}}}function Kt(){return new(window.AudioContext||window.webkitAudioContext)}function Qa(e){return function(){return e.currentTime}}const Ha=e=>({ids:()=>{const n=e.value,t=e.value;return e.value=1+t|0,$t($o.arbitrary({newSeed:(()=>{const r=Qn(n)(2147483645);return r<1?r+2147483646|0:r})(),size:5})._1)},deleteFromCache:Is,disconnectXFromY:Js,connectXToY:qs,makeAllpass:Ms(Z),makeAnalyser:Ds(Z),makeAudioWorkletNode:Ws(Z),makeBandpass:zs(Z),makeConstant:Gs(Z),makeConvolver:Us(Z),makeDelay:Qs(Z),makeDynamicsCompressor:Hs(Z),makeGain:Vs(Z),makeHighpass:js(Z),makeHighshelf:Ks(Z),makeIIRFilter:Ys(Z),makeLoopBuf:Xs(Z),makeLowpass:Zs(Z),makeLowshelf:na(Z),makeMediaElement:ea(Z),makeMicrophone:ta(Z),makeNotch:ra(Z),makePeaking:oa(Z),makePeriodicOsc:ua(Z),makePlayBuf:ia(Z),makeRecorder:ca(Z),makeSawtoothOsc:sa(Z),makeSinOsc:aa(Z),makeSpeaker:fa,makeSquareOsc:_a(Z),makeStereoPanner:la(Z),makeTriangleOsc:pa(Z),makeWaveShaper:da(Z),setAnalyserNodeCb:ga,setMediaRecorderCb:ma,setWaveShaperCurve:ha,setAudioWorkletParameter:va,setBuffer:Ta,setConvolverBuffer:wa,setDuration:Na(Z),setPeriodicOsc:ba,setOnOff:xa,setBufferOffset:Ea,setLoopStart:Aa,setLoopEnd:Ca,setRatio:Sa,setOffset:Ra,setAttack:Ba,setGain:ya,setQ:$a,setPan:ka,setThreshold:Oa,setRelease:La,setKnee:Pa,setDelay:Fa,setPlaybackRate:Ia,setFrequency:qa}),Yt=e=>n=>ln(ln(Pn(Ga(n)))(Vt(jt)))((()=>{const t=Ua(e);return r=>ln(Pn(t(r)))(Vt(jt))})()),Va=e=>n=>{const t=za(e);return()=>{const r=t(),u={value:0};return an.subscribe($s(n)(Ha(u)))(i=>i(r))()}},ja=""+new URL("main0-c75cd855.wav",import.meta.url).href,Ka=""+new URL("pizzs1-db00a10c.wav",import.meta.url).href,Ya=ja,Xa=Ka;function Za(e){return function(n){return function(t){return function(){t.setAttribute(e,n)}}}}const nf=e=>n=>{const t=vt.compare(e)(n);if(t.tag==="LT")return n;if(t.tag==="EQ"||t.tag==="GT")return e;g()},pt=e=>n=>{const t=ht.compare(e)(n);if(t.tag==="LT")return n;if(t.tag==="EQ"||t.tag==="GT")return e;g()},ae=le(Ct)(0),ef=bi(Et),tf=e=>n=>{const t=vt.compare(e)(n);if(t.tag==="LT"||t.tag==="EQ")return e;if(t.tag==="GT")return n;g()},rf=Nu(Et),Xt=(()=>Qr.traverse(Te))(),of=we(Te)(Gn),uf=(()=>{const e=hi()(Ye({reflectSymbol:()=>"corrected"})()(Ye({reflectSymbol:()=>"correction"})()(Ye({reflectSymbol:()=>"original"})()(mi)(me))(me))(me));return le(e.add)(e.zero)})(),On=(()=>fe(Ge.alt)(wn.empty))(),cf=e=>n=>(t,r)=>(r({key:"x1",value:W("Prop'",n)}),()=>{}),sf=e=>n=>(t,r)=>(r({key:"x2",value:W("Prop'",n)}),()=>{}),af=e=>n=>(t,r)=>(r({key:"y1",value:W("Prop'",n)}),()=>{}),ff=e=>n=>(t,r)=>(r({key:"y2",value:W("Prop'",n)}),()=>{}),Kn=vu(me)(me),rt=(()=>Ot.foldMapWithIndex(co))(),lf=e=>-e,qo={eq:e=>n=>e._1===n._1&&e._2===n._2},Zt=we(De)(We),_f=ys((()=>{const e=ie(ie(ie(bt)(ms)()()()({reflectSymbol:()=>"smoothingTimeConstant"}))(gs)()()()({reflectSymbol:()=>"fftSize"}))(ds)()()()({reflectSymbol:()=>"cb"});return{toInitializeAnalyser:n=>wt(e.convertRecordOptions(ps)(hn)(n)({}),hs)}})()),pf=ws((()=>{const e=ie(ie(bt)(fs)()()()({reflectSymbol:()=>"bufferOffset"}))(Ro)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:n=>wt(e.convertRecordOptions(Lo)(hn)(n)({}),So)}})()),df=e=>n=>(t,r)=>(r({key:"type",value:W("Prop'",n)}),()=>{}),gf=e=>n=>(t,r)=>(r({key:"min",value:W("Prop'",n)}),()=>{}),mf=e=>n=>(t,r)=>(r({key:"max",value:W("Prop'",n)}),()=>{}),hf=e=>n=>(t,r)=>(r({key:"step",value:W("Prop'",n)}),()=>{}),vf=e=>n=>(t,r)=>(r({key:"value",value:W("Prop'",n)}),()=>{}),de=e=>n=>(t,r)=>(r({key:"width",value:W("Prop'",n)}),()=>{}),ge=e=>n=>(t,r)=>(r({key:"height",value:W("Prop'",n)}),()=>{}),ot=e=>n=>(t,r)=>(r({key:"style",value:W("Prop'",n)}),()=>{}),nr=e=>n=>(t,r)=>(r({key:"width",value:W("Prop'",n)}),()=>{}),er=e=>n=>(t,r)=>(r({key:"x",value:W("Prop'",n)}),()=>{}),tr=e=>n=>(t,r)=>n(t,u=>r({key:"height",value:W("Prop'",u)})),rr=e=>n=>(t,r)=>n(t,u=>r({key:"y",value:W("Prop'",u)})),Le=e=>n=>(t,r)=>(r({key:"fill",value:W("Prop'",n)}),()=>{}),or=e=>n=>(t,r)=>(r({key:"height",value:W("Prop'",n)}),()=>{}),ur=e=>n=>(t,r)=>n(t,u=>r({key:"x",value:W("Prop'",u)})),ir=e=>n=>(t,r)=>n(t,u=>r({key:"width",value:W("Prop'",u)})),cr=e=>n=>(t,r)=>(r({key:"viewBox",value:W("Prop'",n)}),()=>{}),sr=(()=>{const e=ro.foldMap1({append:n=>t=>r=>n(r)+r+t(r)});return n=>t=>r=>e(u=>{const i=t(u);return s=>i})(r)(n)})(),ar=yc(nc),fr=e=>n=>(t,r)=>(r({key:"fill",value:W("Prop'",n)}),()=>{}),lr=e=>n=>(t,r)=>(r({key:"stroke-linecap",value:W("Prop'",n)}),()=>{}),_r=e=>n=>(t,r)=>(r({key:"stroke-linejoin",value:W("Prop'",n)}),()=>{}),pr=e=>n=>(t,r)=>(r({key:"stroke-opacity",value:W("Prop'",n)}),()=>{}),yf=e=>n=>(t,r)=>n(t,u=>r({key:"d",value:W("Prop'",u)})),dr=e=>n=>(t,r)=>(r({key:"fill-opacity",value:W("Prop'",n)}),()=>{}),gr=e=>n=>(t,r)=>(r({key:"stroke",value:W("Prop'",n)}),()=>{}),mr=e=>n=>(t,r)=>(r({key:"stroke-width",value:W("Prop'",n)}),()=>{}),hr=e=>n=>(t,r)=>(r({key:"filter",value:W("Prop'",n)}),()=>{}),$f=e=>n=>(t,r)=>(r({key:"id",value:W("Prop'",n)}),()=>{}),Tf=e=>n=>(t,r)=>(r({key:"gradientUnits",value:W("Prop'",n)}),()=>{}),vr=e=>n=>(t,r)=>(r({key:"offset",value:W("Prop'",n)}),()=>{}),yr=e=>n=>(t,r)=>(r({key:"stop-color",value:W("Prop'",n)}),()=>{}),$r=e=>n=>(t,r)=>(r({key:"stop-opacity",value:W("Prop'",n)}),()=>{}),wf=e=>n=>(t,r)=>(r({key:"d",value:W("Prop'",n)}),()=>{}),Tr=(()=>Ot.foldMapWithIndex(Et)(e=>n=>(e===0?"M":"L")+An(n._1)+" "+An(n._2)))(),wr=e=>n=>t=>{const r=nf(e)(re(be(Y(t.length)*n)));return r<1?[]:Ie(0)(r)(t)},bf=e=>n=>t=>t.length===0?[]:Sn(r=>{const u=Sn(i=>{const s=ue(t)(re(be(Y(t.length)*(Y(r)/Y(e)+Y(i)/Y(e)/Y(n))))),a=(()=>{if(s.tag==="Nothing")return mn("Not enough data");if(s.tag==="Just")return s._1;g()})();return f=>a})(Un(n)());return i=>u})(Un(e)()),ut=e=>n=>{const t=3.141592653589793*e/180,r=$i(t),u=yi(t);return N(u*n._1+r*n._2,u*n._2-r*n._1)},kf=e=>n=>e.high<n.low||e.low>n.high?0:1-(pt(0)(n.high-e.high)+pt(0)(e.low-n.low))/(n.high-n.low),br=e=>{const n=ae(e);return Sn(t=>r=>N(ae(t<1?[]:Ie(0)(t)(e))/n,r/n))(e)},Yn=e=>n=>e.liftEffect(()=>{const t=an.create();return an.subscribe(n)(t.push)(),t.event}),Me=(()=>re(be(Je(400.90909090909093)/Je(2))))(),Of=e=>n=>ae(sn(t=>t._2*kf(e)(t._1))(n)),Af=e=>n=>Sn(t=>e(Y(t)/Y(n.length)))(n),Cf=(()=>{const e=Sn(se),n=Gr(Gn)(t=>r=>ht.compare(t._2)(r._2));return t=>{const r=n(e(t));if(r.tag==="Nothing")return"?";if(r.tag==="Just")return r._1._1===0?"A":r._1._1===1?"Bb":r._1._1===2?"B":r._1._1===3?"C":r._1._1===4?"C#":r._1._1===5?"D":r._1._1===6?"D#":r._1._1===7?"E":r._1._1===8?"F":r._1._1===9?"F#":r._1._1===10?"G":r._1._1===11?"G#":"??";g()}})(),Ef=e=>{const n=wi(16);return"linear-gradient("+rf(",")(Xn(Ln(t=>r=>{const u=n(tf(255)(re(be(255*r/1e4))));return t+ef("0")(2-Bi(u).length|0)+u})(oe(["#8A0085","#630D07","#115FFA","#11F0EC"])(Un(2)))(Ln(oo)([3.5,3,2.5,1.5,.3,.3,.15,.15])(e))))+")"},Nf=e=>n=>{const t=Y(n.length);return Sn(r=>se({center:tt(e)/2*((Y(r)+.5)/t),low:tt(e)/2*((Y(r)+0)/t),high:tt(e)/2*((Y(r)+1)/t)}))(n)},xo=Sn(e=>n=>e)(Un(12)()),Lf=e=>sn(n=>sn(Tt)(Eu(t=>n===t._1)(e)))(xo),Rf=(()=>Gn.foldMap(co)(du)(Sn(e=>n=>{if(e<2||Qn(e)(2)===0)return[];const t=Y(e),r=Je(t)/Je(2)*12,u=re(Pe(r)),i=Qn(u)(12),s=ft(u)(12),a=Ue(r)(1);return .2<a&&a<.8?[]:[{note:i,octave:s,harmonic:e,weight:ne(1/t)}]})(Un(uo(2)(Me-1|0))())))(),Sf=e=>e._1.length===6&&e._2.length===6?[N(Xn(e._1[0]),Xn(e._2[0])),N(Xn(e._2[1]),Xn(e._2[2])),N(e._2[3],e._2[4]),N(e._2[5],e._1[5]),N(e._1[4],e._1[3]),N(Xn(e._1[2]),Xn(e._1[1]))]:mn("Bad data"),Bf=e=>{const n=xi(e),t=e.Filterable1().filterMap;return r=>{const u=t(i=>{if(i.last.tag==="Nothing")return S("Just",i.now);if(i.last.tag==="Just")return r.eq(i.last._1)(i.now)?M:S("Just",i.now);g()});return i=>u(n(i))}},ke=Bf(ci),Pf=ke({eq:Nr(Fi)}),Ff=(()=>ke({eq:Nr(qo.eq)}))(),kr=ke(Lr),Or=ke(qo),Ar=ke(Uo),If=e=>(()=>{const n=Xt((()=>{const t=sn(r=>0);return r=>lu(t(r))})())(e);return()=>{const t=n();return of(Rf)(r=>{const u=r.note,i=r.octave,s=r.weight,a=e.length;return()=>{for(const f of Ft(0,a)){const p=e[f];for(const _ of Ft(0,p.length)){const l=p[_];pu(i+_|0)(o=>o+l*s)(t[Qn(u+f|0)(12)])()}}}})(),Xt(fu)(t)()}})()(),qf=(()=>{const e=Gr(Gn)(n=>t=>ht.compare(ae(n))(ae(t)));return n=>{const t=e(n);if(t.tag==="Nothing")return[];if(t.tag==="Just")return t._1;g()}})(),xf=e=>{if(e.tag==="This"||e.tag==="That")return e._1;if(e.tag==="Both")return e._1+e._2;g()},Jf=(()=>le(kt.align(xf))([]))(),Mf=e=>({center:55*Xe(2)(Y(e)/12),low:55*Xe(2)((Y(e)-.5)/12),high:55*Xe(2)((Y(e)+.5)/12)}),Df=(()=>Sn(e=>n=>N(Qn(e)(12),Mf(e)))(Un(12*Me|0)()))(),Cr=e=>{const n=kt.align(t=>{if(t.tag==="This")return S("Just",e(t._1)(M));if(t.tag==="Both")return S("Just",e(t._1)(S("Just",t._2)));if(t.tag==="That")return M;g()});return t=>{const r=n(t);return u=>Pu(i=>i)(r(u))}},Wf=e=>Cr(n=>{const t=Cr(r=>u=>({original:r,corrected:pt(0)((()=>{if(u.tag==="Nothing")return r-0;if(u.tag==="Just")return r-u._1;g()})()),correction:(()=>{if(u.tag==="Nothing")return 0;if(u.tag==="Just")return u._1;g()})()}))(n);return r=>{if(r.tag==="Nothing")return sn(u=>({original:u,corrected:u,correction:0}))(n);if(r.tag==="Just")return t(r._1);g()}})(e)(If(e)),dt=e=>n=>Wf(Lf((()=>{const t=Nf(e)(n);return sn(r=>N(r._1,Of(r._2)(t)))(Df)})())),zf=e=>n=>sn(ae)(sn(sn(t=>t.corrected))(dt(e)(n))),Gf=(()=>{const e=cc(ac,ln(Pn(Kt))(n=>ln(Yt(n)(Xa))(t=>ln(Yt(n)(Ya))(r=>ln(Pn(Hc(r)))(()=>{const u=Kc(Ut),i=rt(s=>{const a=Y(s)*60;return f=>sn(ut(a))(zn(sn($u.bimap(lf)(yu))((()=>{const p=2/ne(3);return zn(zn([N(p,0)])(sn(Kn.add(N(p,0)))(rt(_=>l=>sn(o=>N(o._1,o._2+Y(_)*5.1))((()=>{const o=N(l,l/ne(3));return[o,Kn.add(o)(N(0,2.05)),Kn.add(Kn.add(o)(N(0,2.05)))(N(-(1.025*ne(3)),1.025)),N(0,4.1),N(0,5.1)]})()))(f._1))))([N(p,49),N(0,50)])})()))(Xn((()=>{const p=2/ne(3);return zn(zn([N(p,0)])(sn(Kn.add(N(p,0)))(rt(_=>l=>sn(o=>N(o._1,o._2+Y(_)*5.1))((()=>{const o=N(l,l/ne(3));return[o,Kn.add(o)(N(0,2.05)),Kn.add(Kn.add(o)(N(0,2.05)))(N(-(1.025*ne(3)),1.025)),N(0,4.1),N(0,5.1)]})()))(f._2))))([N(p,49),N(0,50)])})())))});return ln(Pn(()=>an.create()))(s=>ln(Pn(()=>an.create()))(a=>{const f={cb:p=>{const _=s.push(M),l=s.push(S("Just",p));return()=>(l(),_)},fftSize:rs,smoothingTimeConstant:.3};return ln(Yn(jn)((()=>{const p=sn(Pi),_=Pf(Vc(ze)(Fr)(l=>{const o=to(s.event)((c,d)=>l(c,h=>d(b=>b.tag==="Just"?S("Just",h((()=>{const O=Da(b._1);return()=>{const x=O();return gi(x)}})()())):M)));return(c,d)=>o(c,h=>{if(h.tag==="Just"){const b=h._1;return d(b)}h.tag!=="Nothing"&&g()})})(Ut));return(l,o)=>_(l,c=>{const d=p(c);return o(d)})})()))(p=>{const _=Ff(Be.apply((l,o)=>{const c=a.event(l,d=>o(wr(54)(d)));return o(wr(54)(1)),()=>{c()}})((l,o)=>{const c=p(l,d=>{const h=Af(se)(d);return o(h)});return o([N(0,0)]),()=>{c()}}));return ln(Yn(jn)((l,o)=>p(l,c=>{const d=zf(r)(c);return o(d)})))(l=>ln(Yn(jn)((o,c)=>p(o,d=>{const h=sn(uf)(dt(r)(d));return c(h)})))(o=>ln(Yn(jn)((c,d)=>p(c,h=>{const b=sn(sn(O=>O.corrected))(dt(r)(h));return d(b)})))(c=>ln(Yn(jn)((d,h)=>c(d,b=>{const O=qf(b);return h(O)})))(d=>ln(Yn(jn)((h,b)=>d(h,O=>{const x=br(O);return b(x)})))(h=>ln(Yn(jn)((b,O)=>c(b,x=>{const y=Jf(x);return O(y)})))(b=>ln(Yn(jn)((O,x)=>b(O,y=>{const q=br(y);return x(q)})))(O=>ln(po(x=>{})(Pn(an.subscribe(b)(x=>()=>{const y=Rt(),q=ko(y)(),un=bo(q);return Zt(At(un,M,Wn))(Za("style")("background:"+Ef(x)))()}))))(()=>ln(Pn(()=>an.create()))(x=>ln(Pn(()=>an.create()))(y=>ln(Pn(()=>an.create()))(q=>Pn((()=>{const un=Qc(zt(()=>{const fn=Kt();return Va(fn)([_f(f)([_t(lt)(1)(wn.empty)([U("DynamicChildren'",(()=>{const _n=Be.apply((vn,v)=>x.event(vn,k=>v(A=>({startTime:k,io:A}))))(y.event);return(vn,v)=>_n(vn,k=>{const A=(()=>{if(k.io){const m=at("Insert",pf({buffer:r,bufferOffset:k.startTime})(Ht()));return($,E)=>{const C=y.event($,R=>E(si));return E(m),()=>{C()}}}return wn.empty})();return v(A)})})())]),_t(lt)(1)(wn.empty)([U("DynamicChildren'",(_n,vn)=>q.event(_n,v=>{const k=at("Insert",Po(ls)(t)(Ht()));return vn((A,m)=>(m(k),()=>{}))}))])])])(),fn})(fn=>{const _n=fn._2;return zt(M)(vn=>tc(wn.empty)(oe(Un(1)([nt(wn.empty)([Ee((v,k)=>(k("Click on the large snowflake to start the music!"),()=>{}))]),nt(wn.empty)([Ee((v,k)=>(k("(iPhone/iPad users: turn on your ringer to hear sound.)"),()=>{}))]),nt(wn.empty)([Ee((v,k)=>(k("This slider clips the higher frequencies from the snowflake FFT display (right = all frequencies, left = just the bottom 6 arms*9 tines worth of bins):"),()=>{}))]),oc(On([df()("range"),gf()("0.0"),mf()("1.0"),hf()("any"),vf()("1.0"),vc(a.push)]))([]),pe(On([de()("240.0"),ge()("240.0"),ot()("display:block")]))(oe(xo)(v=>{const k=kr((m,$)=>o(m,E=>{const C=ue(E)(v);if(C.tag==="Just"){const R=Pe(C._1.corrected/100);return $(R)}})),A=kr((m,$)=>o(m,E=>{const C=ue(E)(v);if(C.tag==="Just"){const R=Pe(C._1.original/100);return $(R)}}));return sn(m=>et(m)([]))([On([nr()("20.0"),er()(An(Y(v)*20)),tr()((m,$)=>A(m,E=>{const C=An(E);return $(C)})),rr()((m,$)=>A(m,E=>{const C=An(240-E);return $(C)})),Le()("gray")]),On([nr()("20.0"),er()(An(Y(v)*20)),tr()((m,$)=>k(m,E=>{const C=An(E);return $(C)})),rr()((m,$)=>k(m,E=>{const C=An(240-E);return $(C)})),Le()("green")])])})),pe(On([de()("240.0"),ge()("20.0"),ot()("display:block")]))(Sn(v=>k=>{const A=Or((m,$)=>h(m,E=>{const C=ue(E)(v),R=(()=>{if(C.tag==="Nothing")return N(0,0);if(C.tag==="Just")return C._1;g()})(),H=N(R._1*240,R._2*240);return $(H)}));return et(On([or()("20.0"),ur()((m,$)=>A(m,E=>{const C=An(E._1);return $(C)})),ir()((m,$)=>A(m,E=>{const C=An(E._2);return $(C)})),Le()((()=>v===0?"red":Qn(v)(2)===0?"blue":"gray")())]))([])})(Un(Me)())),pe(On([de()("240.0"),ge()("20.0"),ot()("display:block")]))(Sn(v=>k=>{const A=Or((m,$)=>O(m,E=>{const C=ue(E)(v),R=(()=>{if(C.tag==="Nothing")return N(0,0);if(C.tag==="Just")return C._1;g()})(),H=N(R._1*240,R._2*240);return $(H)}));return et(On([or()("20.0"),ur()((m,$)=>A(m,E=>{const C=An(E._1);return $(C)})),ir()((m,$)=>A(m,E=>{const C=An(E._2);return $(C)})),Le()((()=>v===0?"red":Qn(v)(2)===0?"blue":"gray")())]))([])})(Un(Me)())),rc(wn.empty)([Ee((()=>{const v=Ar((k,A)=>l(k,m=>{const $=Cf(m);return A($)}));return(k,A)=>{A("...");const m=v(k,A);return()=>m()}})())]),Ze(wn.empty)([]),Ze(wn.empty)([]),Ze(wn.empty)([]),pe(On([de()("210.0"),ge()("210.0"),cr()((()=>{const v=sr(" ")(An),k=[-55,-55,110,110];return k.length>0?v(k):""})()),ar((()=>{const v=Be.apply((k,A)=>vn._2(k,m=>{const $=se(m);return A($)}))(_n);return(k,A)=>v(k,m=>{const $=m._1,E=m._2;return A(()=>{const C=E();fn._1(()=>C)();const R=Qa(C)(),H=(Rn,Mn,w)=>{const z=R-Rn;return z>34?Mn(z):w(z)},on=(()=>{if($.tag==="Nothing")return S("Just",0);if($.tag==="Just"){if($._1.tag==="Right")return S("Just",$._1._1);if($._1.tag==="Left")return H($._1._1,Rn=>S("Just",0),Rn=>M);g()}g()})();return vn._1(S("Just",(()=>{if($.tag==="Nothing")return En("Left",R);if($.tag==="Just"){if($._1.tag==="Right")return En("Left",R-$._1._1);if($._1.tag==="Left")return H($._1._1,Rn=>En("Left",R),xr);g()}g()})()))(),Zt(on)(x.push)(),y.push((()=>{if(on.tag==="Nothing")return!1;if(on.tag==="Just")return!0;g()})())()})})})())]))([Mt(On([fr()("#bfe6ff"),lr()("butt"),_r()("miter"),pr()("1")]))(oe([[Dt(On([yf()(Ar((v,k)=>{const A=$=>{const E=Tr(i(Sf((()=>{const C=bf(6)(9)(sn(R=>R._2/(32-R._1*24))($));return N(C,C)})())));return k(E)};A([N(0,0)]);const m=_(v,A);return()=>m()})),dr()(".91"),gr()("none"),mr()("0.6"),hr()("none")]))([])]])(je))]),pe(On([de()("110.0"),ge()("110.0"),cr()((()=>{const v=sr(" ")(An),k=[-55,-55,110,110];return k.length>0?v(k):""})()),ar((v,k)=>_n(v,A=>k(()=>{const m=A();return fn._1(()=>m)(),q.push()()})))]))([ec(wn.empty)([uc(On([$f()("linearGradientArm"),Tf()("userSpaceOnUse"),(v,k)=>{let A=()=>{};const m=ut(0)(N(0,50)),$=ut(0)(N(0,-50));return A(),A=On([cf()(An(m._1)),sf()(An($._1)),af()(An(m._2)),ff()(An($._2))])(v,k),()=>{A()}}]))([Wt(On([vr()("0"),yr()("#6b91ab"),$r()("0.9")]))([]),Wt(On([vr()("1"),yr()("#f3feff"),$r()("0.95")]))([])])]),Mt(On([fr()("#bfe6ff"),lr()("butt"),_r()("miter"),pr()("1"),(v,k)=>u(v,A=>{const m={key:"transform",value:W("Prop'","rotate("+$t(re(Pe(Ue(A.time/1e3*120+30)(60)-30)))+")")};return k(m)})]))((()=>{const v=[1,3,3,6,4,4,5,3,1];return oe([[Dt(On([wf()(Tr(i([N(v,v),N(v,v),N(v,v),N(v,v),N(v,v),N(v,v)]))),dr()(".91"),gr()("none"),mr()("0.6"),hr()("none")]))([])]])(je)})())])]))(je)))}));return()=>{un()}})()))))))))))))})}))})))));return()=>{e().run()}})();Gf();
