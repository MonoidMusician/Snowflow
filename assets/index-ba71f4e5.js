(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function po(e){let n=0,t;return()=>{if(n===2)return t;if(n===1)throw new Error("Binding demanded before initialized");return n=1,t=e(),n=2,t}}function*br(e,n){for(let t=e;t<n;t++)yield t}function v(){throw new Error("Failed pattern match")}const ku=function(e){return function(n){return{}.hasOwnProperty.call(n,e)}},Se=function(e){return function(n){return n[e]}},Ce=function(e){return function(n){return function(t){var r={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r[e]=n,r}}},Ou=()=>({tag:"Proxy"}),cn=Ou();var rr=function(e){return function(n){return e===n}};const Au=rr,Cu=rr,Eu=rr,go=function(e){return function(n){return function(t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(!e(n[r])(t[r]))return!1;return!0}}},Nu={eq:Eu},mo={eq:Cu},Lu={eq:Au},or=e=>({tag:e}),ho=or("LT"),vo=or("GT"),yo=or("EQ");var $o=function(e){return function(n){return function(t){return function(r){return function(o){return r<o?e:r===o?n:t}}}}};const Su=$o,Ru=$o,ye={compare:Ru(ho)(yo)(vo),Eq0:()=>mo},ur={compare:Su(ho)(yo)(vo),Eq0:()=>Lu},To=e=>n=>e,it=e=>n=>n(e),ln=function(e){return function(n){for(var t=n.length,r=new Array(t),o=0;o<t;o++)r[o]=e(n[o]);return r}},ir={map:ln},Pu=e=>e,se=function(e){return function(n){for(var t=[],r=0,o=e.length;r<o;r++)Array.prototype.push.apply(t,n(e[r]));return t}},xe=e=>e,Fu=e=>(t=>{let r;return r})(),bo=function(e){return e.toString()},rn=function(e){var n=e.toString();return isNaN(n+".0")?n:n+".0"},L=(e,n)=>({tag:e,_1:n}),D=L("Nothing"),Hn=e=>L("Just",e),an=e=>n=>t=>{if(t.tag==="Nothing")return e;if(t.tag==="Just")return n(t._1);v()},wo=e=>{if(e.tag==="Nothing")return!0;if(e.tag==="Just")return!1;v()},En=(e,n)=>({tag:e,_1:n}),Iu=e=>En("Left",e),zt=e=>En("Right",e),ko={map:e=>n=>{if(n.tag==="Left")return En("Left",n._1);if(n.tag==="Right")return En("Right",e(n._1));v()}},Bu=e=>e,Oo={map:e=>n=>e(n)},Ao={apply:e=>n=>e(n),Functor0:()=>Oo},Ju={bind:e=>n=>n(e),Apply0:()=>Ao},xu={pure:Bu,Apply0:()=>Ao},_e={Applicative0:()=>xu,Bind1:()=>Ju},qu=function(e){return function(){return e}},Mu=function(e){return function(n){return function(){return n(e())()}}},Wu={Applicative0:()=>Fe,Bind1:()=>Du},Du={bind:Mu,Apply0:()=>Co},Co={apply:e=>n=>()=>{const t=e(),r=n();return Fe.pure(t(r))()},Functor0:()=>zu},Fe={pure:qu,Apply0:()=>Co},zu={map:e=>n=>()=>{const t=n();return e(t)}},Gu=function(e){return function(n){return function(){return e(n())}}},Uu=function(e){return function(){return e}},Qu={map:Gu},Hu={apply:e=>n=>()=>{const t=e(),r=n();return Ie.pure(t(r))()},Functor0:()=>Qu},Ie={pure:Uu,Apply0:()=>Hu},Vu=function(e){return function(n){return function(t){return function(r){return function(){return t>=0&&t<r.length?e(r[t]):n}}}}},ju=function(e){return function(n){return function(t){return function(){var r=e>=0&&e<t.length;return r&&(t[e]=n),r}}}},wr=function(e){return function(n){return function(t){return function(r){return function(){return r.splice.apply(r,[e,n].concat(t))}}}}},Ku=function(e){return function(){return e}};function Eo(e){return function(){return e.slice()}}const kr=Eo,Yu=Eo,Xu=Vu(Hn)(D),Zu=e=>n=>t=>{const r=Xu(e)(t);return()=>{const o=r();if(o.tag==="Just")return ju(e)(n(o._1))(t)();if(o.tag==="Nothing")return!1;v()}},$e=function(e){return function(n){return function(t){for(var r=n,o=t.length,i=o-1;i>=0;i--)r=e(t[i])(r);return r}}},Te=function(e){return function(n){return function(t){for(var r=n,o=t.length,i=0;i<o;i++)r=e(r)(t[i]);return r}}},ni=e=>e,No=e=>{const n=e.Apply0(),t=n.Functor0().map;return r=>o=>r.foldr(i=>{const s=o(i);return a=>n.apply(t(f=>Pu)(s))(a)})(e.pure())},Be=e=>{const n=No(e);return t=>{const r=n(t);return o=>i=>r(i)(o)}},Lo=e=>n=>e.foldl(t=>r=>{if(t.tag==="Nothing")return L("Just",r);if(t.tag==="Just")return L("Just",n(t._1)(r).tag==="GT"?t._1:r);v()})(D),ct={foldr:e=>n=>t=>{if(t.tag==="Nothing")return n;if(t.tag==="Just")return e(t._1)(n);v()},foldl:e=>n=>t=>{if(t.tag==="Nothing")return n;if(t.tag==="Just")return e(n)(t._1);v()},foldMap:e=>{const n=e.mempty;return t=>r=>{if(r.tag==="Nothing")return n;if(r.tag==="Just")return t(r._1);v()}}},Vn={foldr:$e,foldl:Te,foldMap:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>Vn.foldr(o=>i=>n(r(o))(i))(t)}},ei=function(e){return function(n){return e+n}},Qn=function(e){return function(n){return e.length===0?n:n.length===0?e:e.concat(n)}},ti={append:ei},ri={append:Qn},$=(e,n)=>({tag:"Tuple",_1:e,_2:n}),jn=e=>n=>$(e,n),cr=e=>e._2,oi=e=>{const n=e.one,t=e.zero;return r=>({add:o=>i=>$(e.add(o._1)(i._1),r.add(o._2)(i._2)),one:$(n,r.one),mul:o=>i=>$(e.mul(o._1)(i._1),r.mul(o._2)(i._2)),zero:$(t,r.zero)})},ui={map:e=>n=>$(n._1,e(n._2))},So=e=>e._1,ii=e=>e,ci={bimap:e=>n=>t=>$(e(t._1),n(t._2))},si={map:e=>n=>t=>{const r=n(t);return{accum:r.accum,value:e(r.value)}}},ai={apply:e=>n=>t=>{const r=e(t),o=n(r.accum);return{accum:o.accum,value:r.value(o.value)}},Functor0:()=>si},fi={pure:e=>n=>({accum:n,value:e}),Apply0:()=>ai},li=function(){function e(o){return[o]}function n(o){return function(i){return[o,i]}}function t(o){return function(i){return function(s){return[o,i,s]}}}function r(o){return function(i){return o.concat(i)}}return function(o){return function(i){return function(s){return function(a){return function(f){function p(l,_){switch(_-l){case 0:return s([]);case 1:return i(e)(a(f[l]));case 2:return o(i(n)(a(f[l])))(a(f[l+1]));case 3:return o(o(i(t)(a(f[l])))(a(f[l+1])))(a(f[l+2]));default:var u=l+Math.floor((_-l)/4)*2;return o(i(r)(p(l,u)))(p(u,_))}}return p(0,f.length)}}}}}}(),_i=e=>e,sr={traverse:e=>{const n=e.Apply0();return li(n.apply)(n.Functor0().map)(e.pure)},sequence:e=>sr.traverse(e)(_i),Functor0:()=>ir,Foldable1:()=>Vn},Jn=function(e){return function(n){for(var t=e>n?-1:1,r=new Array(t*(n-e)+1),o=e,i=0;o!==n;)r[i++]=o,o+=t;return r[i]=o,r}};var pi=function(e){return function(n){if(e<1)return[];var t=new Array(e);return t.fill(n)}},di=function(e){return function(n){for(var t=[],r=0,o=0;o<e;o++)t[r++]=n;return t}};const te=typeof Array.prototype.fill=="function"?pi:di,gi=function(e){return function(n){return function(t){return function(r){return r<0||r>=t.length?n:e(t[r])}}}},mi=function(e){return function(n){return function(t){return function(r){for(var o=0,i=r.length;o<i;o++)if(t(r[o]))return e(o);return n}}}},hi=function(e){return function(n){return function(t){return function(r){if(t<0||t>=r.length)return n;var o=r.slice();return o.splice(t,1),e(o)}}}},Un=function(e){return e.slice().reverse()},vi=function(e){return function(n){return n.filter(e)}},et=function(e){return function(n){return function(t){return t.slice(e,n)}}},Rn=function(e){return function(n){return function(t){for(var r=n.length<t.length?n.length:t.length,o=new Array(r),i=0;i<r;i++)o[i]=e(n[i])(t[i]);return o}}},yi=e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>o=>Te(i=>s=>i.init?{init:!1,acc:s}:{init:!1,acc:n(i.acc)(n(r)(s))})({init:!0,acc:t})(o).acc},ae=gi(Hn)(D),$i=mi(Hn)(D),Ti=hi(Hn)(D),bi=e=>n=>t=>{if(t.length===0)return[];const r=$i(e(n))(t);if(r.tag==="Nothing")return t;if(r.tag==="Just"){const o=Ti(r._1)(t);if(o.tag==="Just")return o._1;v()}v()},wi=e=>n=>se(n)(e),ki=e=>wi(n=>{const t=e(n);if(t.tag==="Nothing")return[];if(t.tag==="Just")return[t._1];v()}),Ro=(e,n)=>({tag:"NonEmpty",_1:e,_2:n}),on=(e,n,t)=>({tag:e,_1:n,_2:t}),le=on("Nil"),Oi=e=>n=>on("Cons",e,n),Re={foldr:e=>n=>{const t=Re.foldl(o=>i=>e(i)(o))(n),r=(()=>(i=>s=>{let a=i,f=s,p=!0,l;for(;p;){const _=a,u=f;if(u.tag==="Nil"){p=!1,l=_;continue}if(u.tag==="Cons"){a=on("Cons",u._1,_),f=u._2;continue}v()}return l})(le))();return o=>t(r(o))},foldl:e=>t=>r=>{let o=t,i=r,s=!0,a;for(;s;){const f=o,p=i;if(p.tag==="Nil"){s=!1,a=f;continue}if(p.tag==="Cons"){o=e(f)(p._1),i=p._2;continue}v()}return a},foldMap:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>Re.foldl(o=>{const i=n(o);return s=>i(r(s))})(t)}},Ai={append:e=>n=>Ro(e._1,Re.foldr(Oi)(on("Cons",n._1,n._2))(e._2))},Ci=function(e){return function(n){return function(t){return function(r){return function(o){return function(i){for(var s=[],a=i;;){var f=o(a);s.push(t(f));var p=r(f);if(e(p))return s;a=n(p)}}}}}}},Ei=e=>{if(e.tag==="Just")return e._1;v()},Ni={unfoldr1:Ci(wo)(Ei)(So)(cr)},Li=function(e){return function(n){return function(t){return function(r){return function(o){return function(i){for(var s=[],a=i;;){var f=o(a);if(e(f))return s;var p=n(f);s.push(t(p)),a=r(p)}}}}}}},Si=e=>{if(e.tag==="Just")return e._1;v()},Ri={unfoldr:Li(wo)(Si)(So)(cr),Unfoldable10:()=>Ni},kn=function(e){throw new Error(e)},qe=(e,n,t,r)=>({tag:"KickUp",_1:e,_2:n,_3:t,_4:r}),R=(e,n,t,r,o,i,s,a)=>({tag:e,_1:n,_2:t,_3:r,_4:o,_5:i,_6:s,_7:a}),$n=(e,n,t,r,o,i,s)=>({tag:e,_1:n,_2:t,_3:r,_4:o,_5:i,_6:s}),pn=R("Leaf"),Po=e=>n=>r=>{let o=r,i=!0,s;for(;i;){const a=o;if(a.tag==="Leaf"){i=!1,s=D;continue}if(a.tag==="Two"){const f=e.compare(n)(a._2);if(f.tag==="EQ"){i=!1,s=L("Just",a._3);continue}if(f.tag==="LT"){o=a._1;continue}o=a._4;continue}if(a.tag==="Three"){const f=e.compare(n)(a._2);if(f.tag==="EQ"){i=!1,s=L("Just",a._3);continue}const p=e.compare(n)(a._5);if(p.tag==="EQ"){i=!1,s=L("Just",a._6);continue}if(f.tag==="LT"){o=a._1;continue}if(p.tag==="GT"){o=a._7;continue}o=a._4;continue}v()}return s},Cn=e=>n=>t=>{let r=n,o=t,i=!0,s;for(;i;){const a=r,f=o;if(a.tag==="Nil"){i=!1,s=f;continue}if(a.tag==="Cons"){if(a._1.tag==="TwoLeft"){r=a._2,o=R("Two",f,a._1._1,a._1._2,a._1._3);continue}if(a._1.tag==="TwoRight"){r=a._2,o=R("Two",a._1._1,a._1._2,a._1._3,f);continue}if(a._1.tag==="ThreeLeft"){r=a._2,o=R("Three",f,a._1._1,a._1._2,a._1._3,a._1._4,a._1._5,a._1._6);continue}if(a._1.tag==="ThreeMiddle"){r=a._2,o=R("Three",a._1._1,a._1._2,a._1._3,f,a._1._4,a._1._5,a._1._6);continue}if(a._1.tag==="ThreeRight"){r=a._2,o=R("Three",a._1._1,a._1._2,a._1._3,a._1._4,a._1._5,a._1._6,f);continue}v()}v()}return s},Pi=e=>n=>t=>{const r=i=>s=>{let a=i,f=s,p=!0,l;for(;p;){const _=a,u=f;if(_.tag==="Nil"){p=!1,l=R("Two",u._1,u._2,u._3,u._4);continue}if(_.tag==="Cons"){if(_._1.tag==="TwoLeft"){p=!1,l=Cn()(_._2)(R("Three",u._1,u._2,u._3,u._4,_._1._1,_._1._2,_._1._3));continue}if(_._1.tag==="TwoRight"){p=!1,l=Cn()(_._2)(R("Three",_._1._1,_._1._2,_._1._3,u._1,u._2,u._3,u._4));continue}if(_._1.tag==="ThreeLeft"){a=_._2,f=qe(R("Two",u._1,u._2,u._3,u._4),_._1._1,_._1._2,R("Two",_._1._3,_._1._4,_._1._5,_._1._6));continue}if(_._1.tag==="ThreeMiddle"){a=_._2,f=qe(R("Two",_._1._1,_._1._2,_._1._3,u._1),u._2,u._3,R("Two",u._4,_._1._4,_._1._5,_._1._6));continue}if(_._1.tag==="ThreeRight"){a=_._2,f=qe(R("Two",_._1._1,_._1._2,_._1._3,_._1._4),_._1._5,_._1._6,R("Two",u._1,u._2,u._3,u._4));continue}v()}v()}return l};return(i=>s=>{let a=i,f=s,p=!0,l;for(;p;){const _=a,u=f;if(u.tag==="Leaf"){p=!1,l=r(_)(qe(pn,n,t,pn));continue}if(u.tag==="Two"){const c=e.compare(n)(u._2);if(c.tag==="EQ"){p=!1,l=Cn()(_)(R("Two",u._1,n,t,u._4));continue}if(c.tag==="LT"){a=on("Cons",$n("TwoLeft",u._2,u._3,u._4),_),f=u._1;continue}a=on("Cons",$n("TwoRight",u._1,u._2,u._3),_),f=u._4;continue}if(u.tag==="Three"){const c=e.compare(n)(u._2);if(c.tag==="EQ"){p=!1,l=Cn()(_)(R("Three",u._1,n,t,u._4,u._5,u._6,u._7));continue}const m=e.compare(n)(u._5);if(m.tag==="EQ"){p=!1,l=Cn()(_)(R("Three",u._1,u._2,u._3,u._4,n,t,u._7));continue}if(c.tag==="LT"){a=on("Cons",$n("ThreeLeft",u._2,u._3,u._4,u._5,u._6,u._7),_),f=u._1;continue}if(c.tag==="GT"){if(m.tag==="LT"){a=on("Cons",$n("ThreeMiddle",u._1,u._2,u._3,u._5,u._6,u._7),_),f=u._4;continue}a=on("Cons",$n("ThreeRight",u._1,u._2,u._3,u._4,u._5,u._6),_),f=u._7;continue}a=on("Cons",$n("ThreeRight",u._1,u._2,u._3,u._4,u._5,u._6),_),f=u._7;continue}v()}return l})(le)},Fi=e=>n=>{const t=s=>a=>{let f=s,p=a,l=!0,_;for(;l;){const u=f,c=p;if(u.tag==="Nil"){l=!1,_=c;continue}if(u.tag==="Cons"){const m=u._2,b=(z,X,tn,q,K,U,H,M,g,y)=>Cn()(m)(R("Two",R("Two",z,K,M,X),U,g,R("Two",tn,H,y,q))),A=(z,X,tn,q,K,U,H,M,g,y)=>Cn()(m)(R("Two",R("Two",z,K,M,X),U,g,R("Two",tn,H,y,q))),E=(z,X,tn,q,K,U,H,M,g,y)=>Cn()(m)(R("Two",R("Three",z,K,M,X,U,g,tn),H,y,q)),x=(z,X,tn,q,K,U,H,M,g,y)=>Cn()(m)(R("Two",R("Three",z,K,M,X,U,g,tn),H,y,q)),T=(z,X,tn,q,K,U,H,M,g,y)=>Cn()(m)(R("Two",z,K,M,R("Three",X,U,g,tn,H,y,q))),I=(z,X,tn,q,K,U,H,M,g,y)=>Cn()(m)(R("Two",z,K,M,R("Three",X,U,g,tn,H,y,q))),nn=(z,X,tn,q,K,U,H,M,g,y,O,h,d)=>Cn()(m)(R("Three",R("Two",z,U,y,X),H,O,R("Two",tn,M,h,q),g,d,K)),en=(z,X,tn,q,K,U,H,M,g,y,O,h,d)=>Cn()(m)(R("Three",R("Two",z,U,y,X),H,O,R("Two",tn,M,h,q),g,d,K)),Y=(z,X,tn,q,K,U,H,M,g,y,O,h,d)=>Cn()(m)(R("Three",z,U,y,R("Two",X,H,O,tn),M,h,R("Two",q,g,d,K))),hn=(z,X,tn,q,K,U,H,M,g,y,O,h,d)=>Cn()(m)(R("Three",z,U,y,R("Two",X,H,O,tn),M,h,R("Two",q,g,d,K)));if(c.tag==="Leaf"){if(u._1.tag==="TwoLeft"){if(u._1._3.tag==="Leaf"){l=!1,_=Cn()(m)(R("Two",pn,u._1._1,u._1._2,pn));continue}if(u._1._3.tag==="Two"){f=m,p=R("Three",c,u._1._1,u._1._2,u._1._3._1,u._1._3._2,u._1._3._3,u._1._3._4);continue}if(u._1._3.tag==="Three"){l=!1,_=b(c,u._1._3._1,u._1._3._4,u._1._3._7,u._1._1,u._1._3._2,u._1._3._5,u._1._2,u._1._3._3,u._1._3._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="TwoRight"){if(u._1._1.tag==="Leaf"){l=!1,_=Cn()(m)(R("Two",pn,u._1._2,u._1._3,pn));continue}if(u._1._1.tag==="Two"){f=m,p=R("Three",u._1._1._1,u._1._1._2,u._1._1._3,u._1._1._4,u._1._2,u._1._3,c);continue}if(u._1._1.tag==="Three"){l=!1,_=A(u._1._1._1,u._1._1._4,u._1._1._7,c,u._1._1._2,u._1._1._5,u._1._2,u._1._1._3,u._1._1._6,u._1._3);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeLeft"){if(u._1._6.tag==="Leaf"){if(u._1._3.tag==="Leaf"){l=!1,_=Cn()(m)(R("Three",pn,u._1._1,u._1._2,pn,u._1._4,u._1._5,pn));continue}if(u._1._3.tag==="Two"){l=!1,_=E(c,u._1._3._1,u._1._3._4,u._1._6,u._1._1,u._1._3._2,u._1._4,u._1._2,u._1._3._3,u._1._5);continue}if(u._1._3.tag==="Three"){l=!1,_=nn(c,u._1._3._1,u._1._3._4,u._1._3._7,u._1._6,u._1._1,u._1._3._2,u._1._3._5,u._1._4,u._1._2,u._1._3._3,u._1._3._6,u._1._5);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1._3.tag==="Two"){l=!1,_=E(c,u._1._3._1,u._1._3._4,u._1._6,u._1._1,u._1._3._2,u._1._4,u._1._2,u._1._3._3,u._1._5);continue}if(u._1._3.tag==="Three"){l=!1,_=nn(c,u._1._3._1,u._1._3._4,u._1._3._7,u._1._6,u._1._1,u._1._3._2,u._1._3._5,u._1._4,u._1._2,u._1._3._3,u._1._3._6,u._1._5);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeMiddle"){if(u._1._1.tag==="Leaf"){if(u._1._6.tag==="Leaf"){l=!1,_=Cn()(m)(R("Three",pn,u._1._2,u._1._3,pn,u._1._4,u._1._5,pn));continue}if(u._1._6.tag==="Two"){l=!1,_=T(u._1._1,c,u._1._6._1,u._1._6._4,u._1._2,u._1._4,u._1._6._2,u._1._3,u._1._5,u._1._6._3);continue}if(u._1._6.tag==="Three"){l=!1,_=Y(u._1._1,c,u._1._6._1,u._1._6._4,u._1._6._7,u._1._2,u._1._4,u._1._6._2,u._1._6._5,u._1._3,u._1._5,u._1._6._3,u._1._6._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1._1.tag==="Two"){l=!1,_=x(u._1._1._1,u._1._1._4,c,u._1._6,u._1._1._2,u._1._2,u._1._4,u._1._1._3,u._1._3,u._1._5);continue}if(u._1._6.tag==="Two"){l=!1,_=T(u._1._1,c,u._1._6._1,u._1._6._4,u._1._2,u._1._4,u._1._6._2,u._1._3,u._1._5,u._1._6._3);continue}if(u._1._1.tag==="Three"){l=!1,_=en(u._1._1._1,u._1._1._4,u._1._1._7,c,u._1._6,u._1._1._2,u._1._1._5,u._1._2,u._1._4,u._1._1._3,u._1._1._6,u._1._3,u._1._5);continue}if(u._1._6.tag==="Three"){l=!1,_=Y(u._1._1,c,u._1._6._1,u._1._6._4,u._1._6._7,u._1._2,u._1._4,u._1._6._2,u._1._6._5,u._1._3,u._1._5,u._1._6._3,u._1._6._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeRight"){if(u._1._1.tag==="Leaf"){if(u._1._4.tag==="Leaf"){l=!1,_=Cn()(m)(R("Three",pn,u._1._2,u._1._3,pn,u._1._5,u._1._6,pn));continue}if(u._1._4.tag==="Two"){l=!1,_=I(u._1._1,u._1._4._1,u._1._4._4,c,u._1._2,u._1._4._2,u._1._5,u._1._3,u._1._4._3,u._1._6);continue}if(u._1._4.tag==="Three"){l=!1,_=hn(u._1._1,u._1._4._1,u._1._4._4,u._1._4._7,c,u._1._2,u._1._4._2,u._1._4._5,u._1._5,u._1._3,u._1._4._3,u._1._4._6,u._1._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1._4.tag==="Two"){l=!1,_=I(u._1._1,u._1._4._1,u._1._4._4,c,u._1._2,u._1._4._2,u._1._5,u._1._3,u._1._4._3,u._1._6);continue}if(u._1._4.tag==="Three"){l=!1,_=hn(u._1._1,u._1._4._1,u._1._4._4,u._1._4._7,c,u._1._2,u._1._4._2,u._1._4._5,u._1._5,u._1._3,u._1._4._3,u._1._4._6,u._1._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="TwoLeft"){if(u._1._3.tag==="Two"){f=m,p=R("Three",c,u._1._1,u._1._2,u._1._3._1,u._1._3._2,u._1._3._3,u._1._3._4);continue}if(u._1._3.tag==="Three"){l=!1,_=b(c,u._1._3._1,u._1._3._4,u._1._3._7,u._1._1,u._1._3._2,u._1._3._5,u._1._2,u._1._3._3,u._1._3._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="TwoRight"){if(u._1._1.tag==="Two"){f=m,p=R("Three",u._1._1._1,u._1._1._2,u._1._1._3,u._1._1._4,u._1._2,u._1._3,c);continue}if(u._1._1.tag==="Three"){l=!1,_=A(u._1._1._1,u._1._1._4,u._1._1._7,c,u._1._1._2,u._1._1._5,u._1._2,u._1._1._3,u._1._1._6,u._1._3);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeLeft"){if(u._1._3.tag==="Two"){l=!1,_=E(c,u._1._3._1,u._1._3._4,u._1._6,u._1._1,u._1._3._2,u._1._4,u._1._2,u._1._3._3,u._1._5);continue}if(u._1._3.tag==="Three"){l=!1,_=nn(c,u._1._3._1,u._1._3._4,u._1._3._7,u._1._6,u._1._1,u._1._3._2,u._1._3._5,u._1._4,u._1._2,u._1._3._3,u._1._3._6,u._1._5);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeMiddle"){if(u._1._1.tag==="Two"){l=!1,_=x(u._1._1._1,u._1._1._4,c,u._1._6,u._1._1._2,u._1._2,u._1._4,u._1._1._3,u._1._3,u._1._5);continue}if(u._1._6.tag==="Two"){l=!1,_=T(u._1._1,c,u._1._6._1,u._1._6._4,u._1._2,u._1._4,u._1._6._2,u._1._3,u._1._5,u._1._6._3);continue}if(u._1._1.tag==="Three"){l=!1,_=en(u._1._1._1,u._1._1._4,u._1._1._7,c,u._1._6,u._1._1._2,u._1._1._5,u._1._2,u._1._4,u._1._1._3,u._1._1._6,u._1._3,u._1._5);continue}if(u._1._6.tag==="Three"){l=!1,_=Y(u._1._1,c,u._1._6._1,u._1._6._4,u._1._6._7,u._1._2,u._1._4,u._1._6._2,u._1._6._5,u._1._3,u._1._5,u._1._6._3,u._1._6._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}if(u._1.tag==="ThreeRight"){if(u._1._4.tag==="Two"){l=!1,_=I(u._1._1,u._1._4._1,u._1._4._4,c,u._1._2,u._1._4._2,u._1._5,u._1._3,u._1._4._3,u._1._6);continue}if(u._1._4.tag==="Three"){l=!1,_=hn(u._1._1,u._1._4._1,u._1._4._4,u._1._4._7,c,u._1._2,u._1._4._2,u._1._4._5,u._1._5,u._1._3,u._1._4._3,u._1._4._6,u._1._6);continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}l=!1,_=kn("The impossible happened in partial function `up`.");continue}v()}return _},r=s=>a=>{let f=s,p=a,l=!0,_;for(;l;){const u=f,c=p;if(c.tag==="Two"){if(c._1.tag==="Leaf"){if(c._4.tag==="Leaf"){l=!1,_=t(u)(pn);continue}f=on("Cons",$n("TwoRight",c._1,c._2,c._3),u),p=c._4;continue}f=on("Cons",$n("TwoRight",c._1,c._2,c._3),u),p=c._4;continue}if(c.tag==="Three"){if(c._1.tag==="Leaf"){if(c._4.tag==="Leaf"){if(c._7.tag==="Leaf"){l=!1,_=t(on("Cons",$n("TwoRight",pn,c._2,c._3),u))(pn);continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}l=!1,_=kn("The impossible happened in partial function `removeMaxNode`.")}return _},o=s=>{let a=s,f=!0,p;for(;f;){const l=a;if(l.tag==="Two"){if(l._4.tag==="Leaf"){f=!1,p={key:l._2,value:l._3};continue}a=l._4;continue}if(l.tag==="Three"){if(l._7.tag==="Leaf"){f=!1,p={key:l._5,value:l._6};continue}a=l._7;continue}f=!1,p=kn("The impossible happened in partial function `maxNode`.")}return p};return(s=>a=>{let f=s,p=a,l=!0,_;for(;l;){const u=f,c=p;if(c.tag==="Leaf"){l=!1,_=D;continue}if(c.tag==="Two"){const m=e.compare(n)(c._2);if(m.tag==="EQ"){if(c._4.tag==="Leaf"){l=!1,_=L("Just",$(c._3,t(u)(pn)));continue}const b=o(c._1);l=!1,_=L("Just",$(c._3,r(on("Cons",$n("TwoLeft",b.key,b.value,c._4),u))(c._1)));continue}if(m.tag==="LT"){f=on("Cons",$n("TwoLeft",c._2,c._3,c._4),u),p=c._1;continue}f=on("Cons",$n("TwoRight",c._1,c._2,c._3),u),p=c._4;continue}if(c.tag==="Three"){const m=e.compare(n)(c._5),b=e.compare(n)(c._2);if((()=>c._1.tag==="Leaf"&&c._4.tag==="Leaf"?c._7.tag==="Leaf":!1)()){if(b.tag==="EQ"){l=!1,_=L("Just",$(c._3,Cn()(u)(R("Two",pn,c._5,c._6,pn))));continue}if(m.tag==="EQ"){l=!1,_=L("Just",$(c._6,Cn()(u)(R("Two",pn,c._2,c._3,pn))));continue}if(b.tag==="LT"){f=on("Cons",$n("ThreeLeft",c._2,c._3,c._4,c._5,c._6,c._7),u),p=c._1;continue}if(b.tag==="GT"){if(m.tag==="LT"){f=on("Cons",$n("ThreeMiddle",c._1,c._2,c._3,c._5,c._6,c._7),u),p=c._4;continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}if(b.tag==="EQ"){const A=o(c._1);l=!1,_=L("Just",$(c._3,r(on("Cons",$n("ThreeLeft",A.key,A.value,c._4,c._5,c._6,c._7),u))(c._1)));continue}if(m.tag==="EQ"){const A=o(c._4);l=!1,_=L("Just",$(c._6,r(on("Cons",$n("ThreeMiddle",c._1,c._2,c._3,A.key,A.value,c._7),u))(c._4)));continue}if(b.tag==="LT"){f=on("Cons",$n("ThreeLeft",c._2,c._3,c._4,c._5,c._6,c._7),u),p=c._1;continue}if(b.tag==="GT"){if(m.tag==="LT"){f=on("Cons",$n("ThreeMiddle",c._1,c._2,c._3,c._5,c._6,c._7),u),p=c._4;continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}f=on("Cons",$n("ThreeRight",c._1,c._2,c._3,c._4,c._5,c._6),u),p=c._7;continue}v()}return _})(le)},Sn={foldr:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return Sn.foldr(e)(e(t._3)(Sn.foldr(e)(n)(t._4)))(t._1);if(t.tag==="Three")return Sn.foldr(e)(e(t._3)(Sn.foldr(e)(e(t._6)(Sn.foldr(e)(n)(t._7)))(t._4)))(t._1);v()},foldl:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return Sn.foldl(e)(e(Sn.foldl(e)(n)(t._1))(t._3))(t._4);if(t.tag==="Three")return Sn.foldl(e)(e(Sn.foldl(e)(e(Sn.foldl(e)(n)(t._1))(t._3))(t._4))(t._6))(t._7);v()},foldMap:e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>o=>{if(o.tag==="Leaf")return n;if(o.tag==="Two")return t(Sn.foldMap(e)(r)(o._1))(t(r(o._3))(Sn.foldMap(e)(r)(o._4)));if(o.tag==="Three")return t(Sn.foldMap(e)(r)(o._1))(t(r(o._3))(t(Sn.foldMap(e)(r)(o._4))(t(r(o._6))(Sn.foldMap(e)(r)(o._7)))));v()}}},Nn={foldrWithIndex:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return Nn.foldrWithIndex(e)(e(t._2)(t._3)(Nn.foldrWithIndex(e)(n)(t._4)))(t._1);if(t.tag==="Three")return Nn.foldrWithIndex(e)(e(t._2)(t._3)(Nn.foldrWithIndex(e)(e(t._5)(t._6)(Nn.foldrWithIndex(e)(n)(t._7)))(t._4)))(t._1);v()},foldlWithIndex:e=>n=>t=>{if(t.tag==="Leaf")return n;if(t.tag==="Two")return Nn.foldlWithIndex(e)(e(t._2)(Nn.foldlWithIndex(e)(n)(t._1))(t._3))(t._4);if(t.tag==="Three")return Nn.foldlWithIndex(e)(e(t._5)(Nn.foldlWithIndex(e)(e(t._2)(Nn.foldlWithIndex(e)(n)(t._1))(t._3))(t._4))(t._6))(t._7);v()},foldMapWithIndex:e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>o=>{if(o.tag==="Leaf")return n;if(o.tag==="Two")return t(Nn.foldMapWithIndex(e)(r)(o._1))(t(r(o._2)(o._3))(Nn.foldMapWithIndex(e)(r)(o._4)));if(o.tag==="Three")return t(Nn.foldMapWithIndex(e)(r)(o._1))(t(r(o._2)(o._3))(t(Nn.foldMapWithIndex(e)(r)(o._4))(t(r(o._5)(o._6))(Nn.foldMapWithIndex(e)(r)(o._7)))));v()}},Foldable0:()=>Sn},Fo=e=>n=>t=>{const r=Fi(e)(n)(t);if(r.tag==="Nothing")return t;if(r.tag==="Just")return r._1._2;v()},Gt=e=>n=>t=>r=>{const o=n(Po(e)(t)(r));if(o.tag==="Nothing")return Fo(e)(t)(r);if(o.tag==="Just")return Pi(e)(t)(o._1)(r);v()},Ii=e=>n=>t=>r=>Nn.foldlWithIndex(o=>i=>s=>Gt(e)((()=>{const a=n(s);return f=>L("Just",(()=>{if(f.tag==="Nothing")return s;if(f.tag==="Just")return a(f._1);v()})())})())(o)(i))(r)(t),Bi={foldMap:e=>{const n=Re.foldMap(e);return t=>{const r=n(t);return o=>r(Nn.foldrWithIndex(i=>s=>a=>on("Cons",i,a))(le)(o))}},foldl:e=>n=>{const t=(()=>(o=>i=>{let s=o,a=i,f=!0,p;for(;f;){const l=s,_=a;if(_.tag==="Nil"){f=!1,p=l;continue}if(_.tag==="Cons"){s=e(l)(_._1),a=_._2;continue}v()}return p})(n))();return r=>t(Nn.foldrWithIndex(o=>i=>s=>on("Cons",o,s))(le)(r))},foldr:e=>n=>{const t=Re.foldr(e)(n);return r=>t(Nn.foldrWithIndex(o=>i=>s=>on("Cons",o,s))(le)(r))}};function Ji(e){return function(n){return function(){return setTimeout(n,e)}}}function xi(e){return function(){clearTimeout(e)}}const qi={eq:e=>n=>e===n},Or={compare:e=>n=>ur.compare(e)(n),Eq0:()=>qi};function Mi(e){return function(n){return e===n}}const Ut=(e,n)=>{for(var t=0,r=e.length;t<r;t++)n(e[t])},Io=(e,n)=>{for(const t in e)n(e[t])},Bo=()=>({}),Jo=(e,n,t)=>{t[e]=n},xo=(e,n)=>{delete n[e]},qo=Be(Fe),tt=qo(ct),Mo=e=>{},Wi=qo(Bi),Wo=e=>n=>(t,r)=>{let o=D;const i=e(t,a=>o=L("Just",a)),s=n(t,a=>tt(o)(p=>{const l=a(p);return()=>r(l)})());return()=>(i(),s())},Di=e=>n=>(t,r)=>{let o=D;const i=e(t,a=>tt(o)(p=>{const l=p(a);return()=>r(l)})()),s=n(t,a=>o=L("Just",a));return()=>(i(),s())},zi=e=>(n,t)=>{let r=()=>{};const o=e(n,i=>(r(),r=i(n,t)));return()=>(r(),o())},st={map:e=>n=>(t,r)=>n(t,o=>{const i=e(o);return r(i)})},Gi=e=>n=>(t,r)=>n(t,o=>{const i=e(o);if(i.tag==="Just"){const s=i._1;return r(s)}i.tag!=="Nothing"&&v()}),Ui=e=>n=>(t,r)=>n(t,o=>{if(e(o))return r(o)}),Ye=()=>{const e=Bo();let n=0;return{event:(t,r)=>{const o={value:r},i=n;return Jo(i,o,e),n=n+1|0,()=>{o.value=Mo,xo(i,e)}},push:t=>Io(e,r=>{const o=r.value;return o(t)})}},Qi=e=>(n,t)=>{const r=Ye(),o=r.event(n,t),i=e(r.event)(n,r.push);return()=>(i(),o())},Hi={compact:e=>(n,t)=>e(n,r=>{if(r.tag==="Just"){const o=r._1;return t(o)}r.tag!=="Nothing"&&v()}),separate:e=>({left:(n,t)=>e(n,r=>{if(r.tag==="Left"){const o=r._1;return t(o)}r.tag!=="Right"&&v()}),right:(n,t)=>e(n,r=>{if(r.tag==="Right"){const o=r._1;return t(o)}r.tag!=="Left"&&v()})})},Qt={filter:Ui,filterMap:Gi,partition:e=>n=>({yes:(t,r)=>n(t,o=>{if(e(o))return r(o)}),no:(t,r)=>n(t,o=>{if(!e(o))return r(o)})}),partitionMap:e=>n=>({left:Qt.filterMap(t=>{const r=e(t);if(r.tag==="Left")return L("Just",r._1);if(r.tag==="Right")return D;v()})(n),right:Qt.filterMap(t=>{const r=e(t);if(r.tag==="Left")return D;if(r.tag==="Right")return L("Just",r._1);v()})(n)}),Compactable0:()=>Hi,Functor1:()=>st},Vi=e=>n=>(t,r)=>{let o=D;const i=[];let s=D;const a=[];let f=!0;const p=e(t,c=>{if(f){i.push(c);return}return o=L("Just",c),tt(s)(A=>{const E=A(c);return()=>r(E)})()}),l=n(t,c=>{if(f){a.push(c);return}return s=L("Just",c),tt(o)(A=>{const E=c(A);return()=>r(E)})()});f=!1;const _=kr(i)(),u=kr(a)();return _.length===0?s=ae(u)(u.length-1|0):Ut(_,c=>(o=L("Just",c),Ut(u,m=>(s=L("Just",m),r(m(c)))))),wr(0)(_.length)([])(i)(),wr(0)(u.length)([])(a)(),()=>(p(),l())},Xe=po(()=>{const e=()=>{const n=Bo();let t=0;return{event:(r,o)=>{const i={value:o},s=t;return Jo(s,i,n),t=t+1|0,()=>{i.value=Mo,xo(s,n)}},push:r=>()=>Io(n,o=>{const i=o.value;return i(r)})}};return{createO:Ye,makeEvent:n=>(t,r)=>t?()=>{}:n(o=>()=>r(o))(),makeEventO:n=>(t,r)=>t?()=>{}:n(r),makePureEvent:n=>(t,r)=>n(o=>()=>r(o))(),makeLemmingEvent:n=>(t,r)=>n(o=>i=>()=>o(t,s=>i(s)()))(o=>()=>r(o))(),makeLemmingEventO:n=>(t,r)=>n((o,i)=>o(t,i),r),create:e,createPure:e,createPureO:Ye,subscribe:n=>t=>()=>n(!1,r=>t(r)()),subscribeO:(n,t)=>n(!1,t),subscribePureO:(n,t)=>n(!0,t),subscribePure:n=>t=>()=>n(!0,r=>t(r)()),bus:n=>(t,r)=>{const o=Xe().create();return r(n(o.push)(o.event)),()=>{}},memoize:n=>t=>(r,o)=>{const i=Ye();return o(t(i.event)),n(r,i.push)},hot:n=>()=>{const t=Xe().create(),r=Xe().subscribe(n)(t.push)();return{event:t.event,unsubscribe:r}},mailboxed:n=>t=>r=>(o,i)=>{let s=pn;i(r(f=>(p,l)=>{s=Gt(n)(m=>{if(m.tag==="Nothing")return L("Just",[l]);if(m.tag==="Just")return L("Just",Qn(m._1)([l]));v()})(f)(s);const c=Gt(n)(m=>{if(m.tag==="Nothing")return D;if(m.tag==="Just")return L("Just",bi(Mi)(l)(m._1));v()})(f);return()=>{s=c(s)}}));const a=t(o,f=>{const p=f.address,l=f.payload,_=s,u=Po(n)(p)(_);if(u.tag!=="Nothing"){if(u.tag==="Just")return Ut(u._1,c=>c(l));v()}});return()=>(s=pn,a())},delay:n=>t=>(r,o)=>{let i=pn;const s=t(r,a=>{let f=D;const p=Ji(n)(()=>{o(a);const _=f;if(_.tag!=="Nothing"){if(_.tag==="Just"){const u=i;i=Fo(Or)(_._1)(u);return}v()}})();f=L("Just",p);const l=i;i=Ii(Or)(To)(R("Two",pn,p,void 0,pn))(l)});return()=>(Wi(i)(xi)(),s())}}}),Tn=Xe(),me={apply:e=>n=>Vi(e)((t,r)=>n(t,o=>r(it(o)))),Functor0:()=>st},ji={pure:e=>(n,t)=>(t(e),()=>{}),Apply0:()=>me},at={alt:e=>n=>(t,r)=>{const o=e(t,r),i=n(t,r);return()=>(o(),i())},Functor0:()=>st},On={empty:(e,n)=>()=>{},Alt0:()=>at},Ki={Applicative0:()=>ji,Plus1:()=>On},ft={keepLatest:zi,sampleOnRight:Wo,sampleOnLeft:Di,fix:Qi,Alternative0:()=>Ki,Filterable1:()=>Qt},Ht=(e,n)=>({tag:e,_1:n}),V=(e,n)=>({tag:e,_1:n}),rt=(e,n)=>({tag:e,_1:n}),Yi=Ht("Remove"),Xi={eq:e=>n=>e.tag==="Local"?n.tag==="Local"?e._1===n._1:!1:e.tag==="Global"?n.tag==="Global":!1},Do=e=>({map:n=>t=>r=>e.map(o=>$(n(o._1),o._2))(t(r))}),ar=e=>{const n=e.Bind1().bind;return{bind:t=>r=>o=>n(t(o))(i=>r(i._1)(i._2)),Apply0:()=>fr(e)}},fr=e=>{const n=Do(e.Bind1().Apply0().Functor0());return{apply:(()=>{const t=ar(e).bind,r=zo(e).pure;return o=>i=>t(o)(s=>t(i)(a=>r(s(a))))})(),Functor0:()=>n}},zo=e=>{const n=e.Applicative0().pure;return{pure:t=>r=>n($(t,r)),Apply0:()=>fr(e)}},Go=e=>{const n=e.Applicative0().pure,t={Applicative0:()=>zo(e),Bind1:()=>ar(e)};return{state:r=>o=>n(r(o)),Monad0:()=>t}};function lr(e,n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);for(var o in e)({}).hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}function Zi(e){return function(n){return function(t){return t[e]=n,t}}}const nc=()=>()=>e=>n=>t=>r=>Zi(e.reflectSymbol(n))(t)(r),ec=e=>e,_r={convertRecordOptions:e=>n=>t=>ec},he=e=>n=>()=>()=>()=>t=>({convertRecordOptions:r=>o=>i=>{const s=nc()()(t)(cn)(n.convertOption(r)(cn)(Se(t.reflectSymbol(cn))(i))),a=e.convertRecordOptions(r)(cn)(i);return f=>s(a(f))}}),mt=(e,n,t)=>({tag:e,_1:n,_2:t}),pr={align:e=>n=>t=>t.length===0?ln(r=>e(mt("This",r)))(n):n.length===0?ln(r=>e(mt("That",r)))(t):Qn(Rn(r=>o=>e(mt("Both",r,o)))(n)(t))(pr.align(e)((()=>{const r=t.length;return r<1?n:et(r)(n.length)(n)})())((()=>{const r=n.length;return r<1?t:et(r)(t.length)(t)})())),Functor0:()=>ir},Fn=function(e){return function(n){for(var t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e(o)(n[o]);return r}},tc={mapWithIndex:Fn,Functor0:()=>ir},lt={foldrWithIndex:e=>n=>{const t=$e(o=>{const i=o._1,s=o._2;return a=>e(i)(s)(a)})(n),r=Fn(jn);return o=>t(r(o))},foldlWithIndex:e=>n=>{const t=Te(o=>i=>e(i._1)(o)(i._2))(n),r=Fn(jn);return o=>t(r(o))},foldMapWithIndex:e=>{const n=e.Semigroup0().append,t=e.mempty;return r=>lt.foldrWithIndex(o=>i=>s=>n(r(o)(i))(s))(t)},Foldable0:()=>Vn},Vt={traverseWithIndex:e=>{const n=Vt.FunctorWithIndex0().mapWithIndex,t=Vt.Traversable2().sequence(e);return r=>{const o=n(r);return i=>t(o(i))}},FunctorWithIndex0:()=>tc,FoldableWithIndex1:()=>lt,Traversable2:()=>sr},rc=e=>{const n=e.traverseWithIndex(fi);return t=>r=>o=>n(i=>s=>a=>t(i)(a)(s))(o)(r)},oc=function(e){return function(n){for(var t=n[n.length-1],r=n.length-2;r>=0;r--)t=e(n[r])(t);return t}},uc=function(e){return function(n){for(var t=n[0],r=n.length,o=1;o<r;o++)t=e(t)(n[o]);return t}},Uo={foldMap1:e=>{const n=e.append;return t=>{const r=ln(t),o=Uo.foldl1(n);return i=>o(r(i))}},foldr1:oc,foldl1:uc,Foldable0:()=>Vn};function Qo(e,n,t){return e==null?n:t(e)}function ic(e){for(var n=e.length,t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t}const _t=function(e){return function(n){return e+n}},Ho=function(e){return function(n){return e*n}},cc={addRecord:e=>n=>t=>({}),mulRecord:e=>n=>t=>({}),oneRecord:e=>n=>({}),zeroRecord:e=>n=>({})},Ee={add:_t,zero:0,mul:Ho,one:1},sc=()=>e=>({add:e.addRecord(cn),mul:e.mulRecord(cn),one:e.oneRecord(cn)(cn),zero:e.zeroRecord(cn)(cn)}),ht=e=>()=>n=>t=>{const r=t.one,o=t.zero;return{addRecord:i=>s=>a=>{const f=e.reflectSymbol(cn),p=Se(f);return Ce(f)(t.add(p(s))(p(a)))(n.addRecord(cn)(s)(a))},mulRecord:i=>s=>a=>{const f=e.reflectSymbol(cn),p=Se(f);return Ce(f)(t.mul(p(s))(p(a)))(n.mulRecord(cn)(s)(a))},oneRecord:i=>s=>Ce(e.reflectSymbol(cn))(r)(n.oneRecord(cn)(cn)),zeroRecord:i=>s=>Ce(e.reflectSymbol(cn))(o)(n.zeroRecord(cn)(cn))}},ac=function(e){return function(n){return e-n}},jt=function(e){return function(n){return n===0?0:n>0?Math.floor(e/n):-Math.floor(e/-n)}},Kn=function(e){return function(n){if(n===0)return 0;var t=Math.abs(n);return(e%t+t)%t}},fc=function(e){return!e},lc=isFinite,Ar=Math.abs,_c=Math.cos,Je=Math.floor,ot=Math.log,Ze=function(e){return function(n){return Math.pow(e,n)}},Pe=function(e){return function(n){return e%n}},Kt=Math.round,pc=Math.sin,ne=Math.sqrt,dc=function(e){return function(n){return function(t){return(t|0)===t?e(t):n}}},un=function(e){return e},gc=function(e){return function(n){return n.toString(e)}},Vo=function(e){return function(n){return Math.pow(e,n)|0}},jo=dc(Hn)(D),be=e=>{if(!lc(e))return 0;if(e>=un(2147483647))return 2147483647;if(e<=un(-2147483648))return-2147483648;const n=jo(e);if(n.tag==="Nothing")return 0;if(n.tag==="Just")return n._1;v()},mc=e=>n=>t=>{const r=t.Profunctor0().dimap;return o=>r(i=>$(e(i),s=>n(i)(s)))(i=>i._2(i._1))(t.first(o))},hc=e=>()=>n=>t=>Se(e.reflectSymbol(n))(t),ue=e=>()=>()=>n=>t=>mc(hc(e)()(n))(r=>o=>Ce(e.reflectSymbol(n))(o)(r))(t),vc=e=>{const n=e.Monad0().Bind1().Apply0().Functor0().map(t=>{});return t=>r=>n((()=>{const o=t(r);return e.state(i=>{const s=o(i);return $(s,s)})})())},yc=e=>{const n=e.Monad0().Bind1().Apply0().Functor0().map(t=>{});return t=>r=>n((()=>{const o=t(i=>r);return e.state(i=>{const s=o(i);return $(s,s)})})())},dr={mempty:"",Semigroup0:()=>ti},Ko={mempty:[],Semigroup0:()=>ri},$c=e=>{const n=e.mempty,t=e.Semigroup0().append;return r=>{const o=i=>{if(i<=0)return n;if(i===1)return r;if(Kn(i)(2)===0){const a=o(jt(i)(2));return t(a)(a)}const s=o(jt(i)(2));return t(s)(t(s)(r))};return o}},Tc={dimap:e=>n=>t=>r=>n(t(e(r)))},ie=(()=>({first:e=>n=>$(e(n._1),n._2),second:ui.map,Profunctor0:()=>Tc}))();function Ne(e){return e.charCodeAt(0)}const Le=function(e){return function(n){if(e>=0&&e<n.length)return n.charAt(e);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},Yo=function(e){return e.length},Cr=function(e){return function(n){return n.substring(e)}};var bc=typeof Array.from=="function",wc=typeof String.prototype.codePointAt=="function";const kc=function(e){return wc?function(n){return n.codePointAt(0)}:e},Oc=function(e){return function(n){return bc?function(t){return Array.from(t,n)}:e}},Ac=e=>{const n=Yo(e);if(n===0)return D;if(n===1)return L("Just",{head:Ne(Le(0)(e)),tail:""});const t=Ne(Le(1)(e)),r=Ne(Le(0)(e));return 55296<=r&&r<=56319&&56320<=t&&t<=57343?L("Just",{head:(((r-55296|0)*1024|0)+(t-56320|0)|0)+65536|0,tail:Cr(2)(e)}):L("Just",{head:r,tail:Cr(1)(e)})},Cc=e=>{const n=Ac(e);return n.tag==="Just"?L("Just",$(n._1.head,n._1.tail)):D},Ec=e=>Ri.unfoldr(Cc)(e),Nc=e=>{const n=Ne(Le(0)(e));if(55296<=n&&n<=56319&&Yo(e)>1){const t=Ne(Le(1)(e));return 56320<=t&&t<=57343?(((n-55296|0)*1024|0)+(t-56320|0)|0)+65536|0:n}return n},Lc=kc(Nc),Sc=Oc(Ec)(Lc);function Rc(e){return e}function Pc(e){return function(n){return e==n}}const ut=typeof module>"u"?void 0:module.require,Er=function(){try{return ut===void 0?void 0:ut("util")}catch{return}}();function Fc(e,n){return Er!==void 0?console.log(e+":",Er.inspect(n,{depth:null,colors:!0})):console.log(e+":",n),n}(function(){var e;if(typeof performance<"u")e=performance;else if(ut)try{e=ut("perf_hooks").performance}catch{}return function(){return(e||Date).now()}})();const J=(e,n)=>({tag:e,_1:n}),Xo=e=>e,Ic=e=>{const n=e.Filterable1().Functor1().map;return t=>r=>e.sampleOnRight(t)(n(it)(r))},Bc=e=>{const n=e.Filterable1().Functor1().map;return t=>r=>e.sampleOnRight(t)(n(o=>Xo)(r))},Zo=e=>{const n=e.Alternative0(),t=n.Plus1().Alt0().alt,r=n.Applicative0().pure,o=e.Filterable1().Functor1().map;return i=>s=>a=>e.fix(f=>e.sampleOnRight(t(f)(r(s)))(o(p=>l=>i(l)(p))(a)))},Jc=e=>{const n=e.Filterable1().filterMap,t=Zo(e);return r=>n(Xo)(t(o=>i=>{if(o.tag==="Nothing")return L("Just",{now:i,last:D});if(o.tag==="Just")return L("Just",{now:i,last:L("Just",o._1.now)});v()})(D)(r))},xc={};function qc(e){return function(n){return function(t){return function(r){var o=t;function i(a){return function(f){return n(f)(a)(r[a])}}for(var s in r)hasOwnProperty.call(r,s)&&(o=e(o)(i(s)));return o}}}}const Me=e=>n=>{const t={...n};return e(t)(),t},Mc=qc(it),gr=e=>({tag:e}),nu=Be(Ie),Wc=nu(ct),Dc=nu(Vn),zc=e=>$e(n=>{const t=e(n);return r=>(o,i)=>{const s=t(o,i),a=r(o,i);return()=>(s(),a())}})(On.empty),Gc=No(Ie)(Vn),Uc=gr("Begin"),Qc=gr("Middle"),Hc=gr("End"),ve=e=>n=>t=>r=>{if(r.tag==="FixedChildren'")return zc(ve(e)(n)(t))(r._1);if(r.tag==="EventfulElement'"){const o=ve(e)(n)(t);return(i,s)=>{let a=()=>{};const f=r._1(i,p=>{const l=o(p);return a(),a=l(i,s)});return()=>(a(),f())}}if(r.tag==="Element'")return e.toElt(r._1)(n)(t);if(r.tag==="DynamicChildren'"){const o=r._1;return Tn.makeLemmingEventO((i,s)=>{let a=xc;const f=i(o,l=>{const _=e.ids(t)();let u=()=>{};const c=e.ids(t)();let m=()=>{},b=[],A=()=>{};const E=e.ids(t)();let x=Uc;const T=i(l,en=>{const Y=x;if(Y.tag==="Middle"){if(en.tag==="Logic"){const hn=en._1,z=b;return Gc(X=>{const tn=e.doLogic(hn)(t)(X);return()=>s(tn)})(z)()}if(en.tag==="Remove"){x=Hc;const hn=()=>{Dc(b)(U=>Wc(n.parent)(H=>{const M=e.disconnectElement(t)({id:U,parent:H,scope:rt("Local",E)});return()=>s(M)}))(),u(),m();const q=a;a=Me(U=>()=>(delete U[_],U))(q);const K=a;a=Me(U=>()=>(delete U[c],U))(K)};return A=hn,hn()}return}if(en.tag==="Insert"){if(Y.tag==="Begin"){x=Qc;const hn=i(ve(e)({...n,scope:rt("Local",E),raiseId:X=>{const tn=Qn([X]);return()=>{b=tn(b)}}})(t)(en._1),s),z=a;a=Me(X=>()=>(X[c]=hn,X))(z),m=hn;return}return}});u=T;const I=a;return a=Me(en=>()=>(en[_]=T,en))(I),A()}),p=Mc(l=>_=>u=>()=>(l(),u()))(()=>{});return()=>(p(a)(),f())})}v()},Vc=e=>n=>{const t=r=>r.tag==="Element'"?V("Element'",o=>r._1({pos:e,dynFamily:o.dynFamily,ez:o.ez,parent:o.parent,raiseId:o.raiseId,scope:o.scope})):r.tag==="EventfulElement'"?V("EventfulElement'",(o,i)=>r._1(o,s=>{const a=t(s);return i(a)})):n;return t(n)},xn=e=>Vc(L("Just",e)),eu=(()=>$e(at.alt)(On.empty))(),We=e=>V("Element'",n=>t=>{const r=n.dynFamily,o=n.ez,i=t.ids,s=n.parent,a=n.pos,f=n.scope;return Tn.makeLemmingEventO((p,l)=>{const _=i();n.raiseId(_)();const u=p(eu([(()=>{const m=t.makeText({id:_,parent:s,pos:a,scope:f,dynFamily:r});return(b,A)=>(A(m),()=>{})})(),(m,b)=>e(m,A=>{const E=t.setText({id:_,text:A});return b(E)}),(()=>{if(s.tag==="Nothing")return On.empty;if(s.tag==="Just"){const m=t.attributeParent({id:_,parent:s._1,pos:a,dynFamily:r,ez:o});return(b,A)=>(A(m),()=>{})}v()})()]),l),c=t.deleteFromCache({id:_});return()=>(l(c),u())})}),jc=()=>({doLogic:e=>n=>t=>n.sendToPos({id:t,pos:e}),ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectElement({id:n.id,scope:n.scope,parent:n.parent,scopeEq:Xi.eq}),toElt:e=>e}),tu=jc(),Kc=e=>n=>t=>Tn.makeLemmingEventO((r,o)=>{const i=t.makeRoot({id:"deku-root",root:e}),s=ve(tu)({parent:L("Just","deku-root"),scope:rt("Local","rootScope"),raiseId:a=>()=>{},ez:!0,pos:D,dynFamily:D})(t)(n);return r((a,f)=>{f(i);const p=s(a,f);return()=>p()},o)}),qn=e=>n=>t=>r=>o=>{const i=r.dynFamily,s=r.ez,a=o.ids,f=r.parent,p=r.pos,l=r.scope;return Tn.makeLemmingEventO((_,u)=>{const c=a();r.raiseId(c)();const m=eu(Qn([(()=>{const x=o.makeElement({id:c,parent:f,scope:l,tag:e,pos:p,dynFamily:i});return(T,I)=>(I(x),()=>{})})(),(x,T)=>n(x,I=>{const nn=(()=>{if(I.value.tag==="Prop'")return o.setProp({id:c,key:I.key,value:I.value._1});if(I.value.tag==="Cb'")return o.setCb({id:c,key:I.key,value:I.value._1});v()})();return T(nn)})])((()=>{if(f.tag==="Nothing")return[];if(f.tag==="Just")return[(()=>{const x=o.attributeParent({id:c,parent:f._1,pos:p,dynFamily:i,ez:s});return(T,I)=>(I(x),()=>{})})()];v()})())),b=ve(tu)({parent:L("Just",c),scope:l,ez:!0,raiseId:x=>()=>{},pos:D,dynFamily:D})(o)(t),A=_((x,T)=>{const I=m(x,T),nn=b(x,T);return()=>(I(),nn())},u),E=o.deleteFromCache({id:c});return()=>(u(E),A())})},Yc=()=>({tag:"OnClick"}),Xc=Yc(),Zc={attr:e=>n=>({key:"click",value:J("Cb'",t=>()=>(n(),!0))})},vt=e=>n=>V("Element'",qn("br")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),Nr=e=>n=>V("Element'",qn("defs")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),De=e=>n=>V("Element'",qn("div")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),yt=e=>n=>V("Element'",qn("g")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),ns=e=>n=>V("Element'",qn("h1")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),es=e=>n=>V("Element'",qn("hr")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),Lr=e=>n=>V("Element'",qn("input")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),Sr=e=>n=>V("Element'",qn("linearGradient")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),$t=e=>n=>V("Element'",qn("p")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),Tt=e=>n=>V("Element'",qn("path")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),ze=e=>n=>V("Element'",qn("rect")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),Ge=e=>n=>V("Element'",qn("stop")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),pe=e=>n=>V("Element'",qn("svg")(e)(V("FixedChildren'",Rn(xn)(Jn(0)(n.length-1|0))(n)))),Rr=e=>n=>V("EventfulElement'",Tn.bus(t=>r=>V("EventfulElement'",Tn.memoize((o,i)=>{const s=r(o,i);return i(e),()=>{s()}})(o=>n($(t,o))))));function Pr(e){return new Error(e)}var Gn=function(){var e={},n="Pure",t="Throw",r="Catch",o="Sync",i="Async",s="Bind",a="Bracket",f="Fork",p="Sequential",l="Map",_="Apply",u="Alt",c="Cons",m="Resume",b="Release",A="Finalizer",E="Finalized",x="Forked";function T(d,w,C,S){this.tag=d,this._1=w,this._2=C,this._3=S}function I(d){var w=function(C,S,N){return new T(d,C,S,N)};return w.tag=d,w}function nn(d){return new T(n,void 0)}function en(d){try{d()}catch(w){setTimeout(function(){throw w},0)}}function Y(d,w,C){try{return w(C())}catch(S){return d(S)}}function hn(d,w,C){try{return w(C)()}catch(S){return C(d(S))(),nn}}var z=function(){var d=1024,w=0,C=0,S=new Array(d),N=!1;function k(){var G;for(N=!0;w!==0;)w--,G=S[C],S[C]=void 0,C=(C+1)%d,G();N=!1}return{isDraining:function(){return N},enqueue:function(G){var W;w===d&&(W=N,k(),N=W),S[(C+w)%d]=G,w++,N||k()}}}();function X(d){var w={},C=0,S=0;return{register:function(N){var k=C++;N.onComplete({rethrow:!0,handler:function(G){return function(){S--,delete w[k]}}})(),w[k]=N,S++},isEmpty:function(){return S===0},killAll:function(N,k){return function(){if(S===0)return k();var G=0,W={};function yn(sn){W[sn]=w[sn].kill(N,function(An){return function(){delete W[sn],G--,d.isLeft(An)&&d.fromLeft(An)&&setTimeout(function(){throw d.fromLeft(An)},0),G===0&&k()}})()}for(var vn in w)w.hasOwnProperty(vn)&&(G++,yn(vn));return w={},C=0,S=0,function(sn){return new T(o,function(){for(var An in W)W.hasOwnProperty(An)&&W[An]()})}}}}}var tn=0,q=1,K=2,U=3,H=4,M=5,g=6;function y(d,w,C){var S=0,N=tn,k=C,G=null,W=null,yn=null,vn=null,sn=null,An=0,oe=0,Mn=null,Yn=!0;function Xn(P){for(var F,j,Z;;)switch(F=null,j=null,Z=null,N){case K:N=q;try{k=yn(k),vn===null?yn=null:(yn=vn._1,vn=vn._2)}catch(Ln){N=M,G=d.left(Ln),k=null}break;case U:d.isLeft(k)?(N=M,G=k,k=null):yn===null?N=M:(N=K,k=d.fromRight(k));break;case q:switch(k.tag){case s:yn&&(vn=new T(c,yn,vn)),yn=k._2,N=q,k=k._1;break;case n:yn===null?(N=M,k=d.right(k._1)):(N=K,k=k._1);break;case o:N=U,k=Y(d.left,d.right,k._1);break;case i:N=H,k=hn(d.left,k._1,function(Ln){return function(){S===P&&(S++,z.enqueue(function(){S===P+1&&(N=U,k=Ln,Xn(S))}))}});return;case t:N=M,G=d.left(k._1),k=null;break;case r:yn===null?sn=new T(c,k,sn,W):sn=new T(c,k,new T(c,new T(m,yn,vn),sn,W),W),yn=null,vn=null,N=q,k=k._1;break;case a:An++,yn===null?sn=new T(c,k,sn,W):sn=new T(c,k,new T(c,new T(m,yn,vn),sn,W),W),yn=null,vn=null,N=q,k=k._1;break;case f:N=U,F=y(d,w,k._2),w&&w.register(F),k._1&&F.run(),k=d.right(F);break;case p:N=q,k=h(d,w,k._1);break}break;case M:if(yn=null,vn=null,sn===null)N=g,k=W||G||k;else switch(F=sn._3,Z=sn._1,sn=sn._2,Z.tag){case r:W&&W!==F&&An===0?N=M:G&&(N=q,k=Z._2(d.fromLeft(G)),G=null);break;case m:W&&W!==F&&An===0||G?N=M:(yn=Z._1,vn=Z._2,N=K,k=d.fromRight(k));break;case a:An--,G===null&&(j=d.fromRight(k),sn=new T(c,new T(b,Z._2,j),sn,F),(W===F||An>0)&&(N=q,k=Z._3(j)));break;case b:sn=new T(c,new T(E,k,G),sn,W),N=q,W&&W!==F&&An===0?k=Z._1.killed(d.fromLeft(W))(Z._2):G?k=Z._1.failed(d.fromLeft(G))(Z._2):k=Z._1.completed(d.fromRight(k))(Z._2),G=null,An++;break;case A:An++,sn=new T(c,new T(E,k,G),sn,W),N=q,k=Z._1;break;case E:An--,N=M,k=Z._1,G=Z._2;break}break;case g:for(var wn in Mn)Mn.hasOwnProperty(wn)&&(Yn=Yn&&Mn[wn].rethrow,en(Mn[wn].handler(k)));Mn=null,W&&G?setTimeout(function(){throw d.fromLeft(G)},0):d.isLeft(k)&&Yn&&setTimeout(function(){if(Yn)throw d.fromLeft(k)},0);return;case tn:N=q;break;case H:return}}function bn(P){return function(){if(N===g)return Yn=Yn&&P.rethrow,P.handler(k)(),function(){};var F=oe++;return Mn=Mn||{},Mn[F]=P,function(){Mn!==null&&delete Mn[F]}}}function B(P,F){return function(){if(N===g)return F(d.right(void 0))(),function(){};var j=bn({rethrow:!1,handler:function(){return F(d.right(void 0))}})();switch(N){case tn:W=d.left(P),N=g,k=W,Xn(S);break;case H:W===null&&(W=d.left(P)),An===0&&(N===H&&(sn=new T(c,new T(A,k(P)),sn,W)),N=M,k=null,G=null,Xn(++S));break;default:W===null&&(W=d.left(P)),An===0&&(N=M,k=null,G=null)}return j}}function Q(P){return function(){var F=bn({rethrow:!1,handler:P})();return N===tn&&Xn(S),F}}return{kill:B,join:Q,onComplete:bn,isSuspended:function(){return N===tn},run:function(){N===tn&&(z.isDraining()?Xn(S):z.enqueue(function(){Xn(S)}))}}}function O(d,w,C,S){var N=0,k={},G=0,W={},yn=new Error("[ParAff] Early exit"),vn=null,sn=e;function An(bn,B,Q){var P=B,F=null,j=null,Z=0,wn={},Ln,ke;n:for(;;)switch(Ln=null,P.tag){case x:if(P._3===e&&(Ln=k[P._1],wn[Z++]=Ln.kill(bn,function(wu){return function(){Z--,Z===0&&Q(wu)()}})),F===null)break n;P=F._2,j===null?F=null:(F=j._1,j=j._2);break;case l:P=P._2;break;case _:case u:F&&(j=new T(c,F,j)),F=P,P=P._1;break}if(Z===0)Q(d.right(void 0))();else for(ke=0,Ln=Z;ke<Ln;ke++)wn[ke]=wn[ke]();return wn}function oe(bn,B,Q){var P,F,j,Z,wn,Ln;for(d.isLeft(bn)?(P=bn,F=null):(F=bn,P=null);;){if(j=null,Z=null,wn=null,Ln=null,vn!==null)return;if(B===null){S(P||F)();return}if(B._3!==e)return;switch(B.tag){case l:P===null?(B._3=d.right(B._1(d.fromRight(F))),F=B._3):B._3=P;break;case _:if(j=B._1._3,Z=B._2._3,P){if(B._3=P,wn=!0,Ln=G++,W[Ln]=An(yn,P===j?B._2:B._1,function(){return function(){delete W[Ln],wn?wn=!1:Q===null?oe(P,null,null):oe(P,Q._1,Q._2)}}),wn){wn=!1;return}}else{if(j===e||Z===e)return;F=d.right(d.fromRight(j)(d.fromRight(Z))),B._3=F}break;case u:if(j=B._1._3,Z=B._2._3,j===e&&d.isLeft(Z)||Z===e&&d.isLeft(j))return;if(j!==e&&d.isLeft(j)&&Z!==e&&d.isLeft(Z))P=F===j?Z:j,F=null,B._3=P;else if(B._3=F,wn=!0,Ln=G++,W[Ln]=An(yn,F===j?B._2:B._1,function(){return function(){delete W[Ln],wn?wn=!1:Q===null?oe(F,null,null):oe(F,Q._1,Q._2)}}),wn){wn=!1;return}break}Q===null?B=null:(B=Q._1,Q=Q._2)}}function Mn(bn){return function(B){return function(){delete k[bn._1],bn._3=B,oe(B,bn._2._1,bn._2._2)}}}function Yn(){var bn=q,B=C,Q=null,P=null,F,j;n:for(;;)switch(F=null,j=null,bn){case q:switch(B.tag){case l:Q&&(P=new T(c,Q,P)),Q=new T(l,B._1,e,e),B=B._2;break;case _:Q&&(P=new T(c,Q,P)),Q=new T(_,e,B._2,e),B=B._1;break;case u:Q&&(P=new T(c,Q,P)),Q=new T(u,e,B._2,e),B=B._1;break;default:j=N++,bn=M,F=B,B=new T(x,j,new T(c,Q,P),e),F=y(d,w,F),F.onComplete({rethrow:!1,handler:Mn(B)})(),k[j]=F,w&&w.register(F)}break;case M:if(Q===null)break n;Q._1===e?(Q._1=B,bn=q,B=Q._2,Q._2=e):(Q._2=B,B=Q,P===null?Q=null:(Q=P._1,P=P._2))}for(sn=B,j=0;j<N;j++)k[j].run()}function Xn(bn,B){vn=d.left(bn);var Q;for(var P in W)if(W.hasOwnProperty(P)){Q=W[P];for(P in Q)Q.hasOwnProperty(P)&&Q[P]()}W=null;var F=An(bn,sn,B);return function(j){return new T(i,function(Z){return function(){for(var wn in F)F.hasOwnProperty(wn)&&F[wn]();return nn}})}}return Yn(),function(bn){return new T(i,function(B){return function(){return Xn(bn,B)}})}}function h(d,w,C){return new T(i,function(S){return function(){return O(d,w,C,S)}})}return T.EMPTY=e,T.Pure=I(n),T.Throw=I(t),T.Catch=I(r),T.Sync=I(o),T.Async=I(i),T.Bind=I(s),T.Bracket=I(a),T.Fork=I(f),T.Seq=I(p),T.ParMap=I(l),T.ParApply=I(_),T.ParAlt=I(u),T.Fiber=y,T.Supervisor=X,T.Scheduler=z,T.nonCanceler=nn,T}();const mr=Gn.Pure;Gn.Throw;function ts(e){return function(n){return n.tag===Gn.Pure.tag?Gn.Pure(e(n._1)):Gn.Bind(n,function(t){return Gn.Pure(e(t))})}}function fn(e){return function(n){return Gn.Bind(e,n)}}const zn=Gn.Sync,rs=Gn.Async;function os(e,n){return function(){return Gn.Fiber(e,null,n)}}Gn.Seq;const us={map:ts},is={isLeft:e=>{if(e.tag==="Left")return!0;if(e.tag==="Right")return!1;v()},fromLeft:e=>{if(e.tag==="Left")return e._1;if(e.tag==="Right")return kn("unsafeFromLeft: Right");v()},fromRight:e=>{if(e.tag==="Right")return e._1;if(e.tag==="Left")return kn("unsafeFromRight: Left");v()},left:Iu,right:zt},cs={Applicative0:()=>ou,Bind1:()=>ss},ss={bind:fn,Apply0:()=>ru},ru={apply:e=>n=>fn(e)(t=>fn(n)(r=>ou.pure(t(r)))),Functor0:()=>us},ou={pure:mr,Apply0:()=>ru},In={liftEffect:zn,Monad0:()=>cs},as=(()=>{const e=mr();return n=>e})();function fs(e){return e.target}function ls(e,n,t,r){if(typeof window<"u"){var o=window[t];if(o!=null&&r instanceof o)return n(r)}for(var i=r;i!=null;){var s=Object.getPrototypeOf(i),a=s.constructor.name;if(a===t)return n(r);if(a==="Object")return e;i=s}return e}function _s(e){return function(){return e.valueAsNumber}}const ps=Be(Fe)(ct),ds=e=>(n,t)=>{t({key:"type",value:J("Prop'","range")});const r=e(n,o=>{const i={key:"input",value:J("Cb'",s=>{const a=ps((()=>{const f=Qo(fs(s),D,Hn);if(f.tag==="Just")return ls(D,Hn,"HTMLInputElement",f._1);if(f.tag==="Nothing")return D;v()})())(f=>{const p=_s(f);return()=>{const l=p();return o(l)()}});return()=>(a(),!0)})};return t(i)});return()=>r()},gs=e=>ds((n,t)=>(t(e),()=>{})),ms=e=>{const n=e.attr(Xc);return t=>(r,o)=>t(r,i=>{const s=n(i);return o(s)})},hs=e=>n=>{const t=jo(Pe(un(48271)*un(n)+un(e))(un(2147483647)));if(t.tag==="Just")return t._1;v()},vs=Go(_e),Ue=Do(Oo),ys=(()=>vs.state(e=>$(e.newSeed,{...e,newSeed:hs(0)(e.newSeed)})))(),$s=fr(_e),Ts=e=>n=>{const t=un(n),r=un(e),o=Ue.map(un)(ys);return Ue.map(i=>be(Je(r+Pe(i)(t-r+1))))($s.apply(Ue.map(_t)(o))(Ue.map(i=>2*i)(o)))},uu={arbitrary:Ts(-1e6)(1e6)},bs=e=>n=>t=>()=>{if(t.units[n.id]){const r=t.units[n.parent].main;t.units[n.id].main&&t.units[n.id].main.parentNode||t.units[n.id].startBeacon&&t.units[n.id].startBeacon.parentNode||(n.ez?(()=>(t.units[n.id].main?r.appendChild(t.units[n.id].main):(r.appendChild(t.units[n.id].startBeacon),r.appendChild(t.units[n.id].endBeacon)),!0))():e(n.pos)(i=>()=>e(n.dynFamily)(s=>()=>{for(var a=0,f=0,p;f<r.childNodes.length;){if(r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue==="%-%"+s){f+=1;break}f++}const l=u=>{t.units[n.id].startBeacon?(r.insertBefore(t.units[n.id].startBeacon,r.childNodes[u]),r.insertBefore(t.units[n.id].endBeacon,r.childNodes[u])):r.insertBefore(t.units[n.id].main,r.childNodes[u])};for(;f<r.childNodes.length;){var _;if((_=r.childNodes[f].$dekuId)&&e(t.units[_].dynFamily)(c=>()=>e(t.units[_].pos)(b=>()=>s===c&&i<=b?(l(f),!0):!1)())())return!0;if(a===i||r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue==="%-%"+s+"%-%")return l(f),!0;r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue.substring(0,3)==="%-%"&&!p&&(p=r.childNodes[f].nodeValue+"%-%"),p||a++,r.childNodes[f].nodeType===8&&r.childNodes[f].nodeValue===p&&(p=void 0,a++),f++}return!1})())())||(n.parent.indexOf("@!%")!==-1?e(n.dynFamily)(s=>()=>(t.units[n.id].main?t.units[s].endBeacon.parentNode.insertBefore(t.units[n.id].main,t.units[s].endBeacon):(t.units[s].endBeacon.parentNode.insertBefore(t.units[n.id].endBeacon,t.units[s].endBeacon),t.units[s].endBeacon.parentNode.insertBefore(t.units[n.id].startBeacon,t.units[n.id].endBeacon)),!0))()||(t.units[n.id].main?r.parentNode.replaceChild(t.units[n.id].main,r):(r.parentNode.replaceChild(t.units[n.id].endBeacon,r),t.units[n.id].endBeacon.parentNode.insertBefore(t.units[n.id].startBeacon,t.units[n.id].endBeacon))):e(n.dynFamily)(s=>()=>(t.units[n.id].startBeacon?(r.insertBefore(t.units[n.id].startBeacon,t.units[s].endBeacon),r.insertBefore(t.units[n.id].endBeacon,t.units[s].endBeacon)):r.insertBefore(t.units[n.id].main,t.units[s].endBeacon),!0))()||(t.units[n.id].startBeacon?(r.appendChild(t.units[n.id].startBeacon),r.appendChild(t.units[n.id].endBeacon)):r.appendChild(t.units[n.id].main)))}},ws=e=>n=>t=>r=>()=>{var o,i,s=t.id;if(r.scopes[t.scope]||(r.scopes[t.scope]=[]),r.scopes[t.scope].push(s),!e(t.parent)(()=>()=>r.hydrating&&n&&(o=r.allBeacons[t.id])&&(i=r.allBeacons[`${t.id}%-%`])?(r.units[s]={listeners:{},parent:t.parent,scope:t.scope,pos:t.pos,dynFamily:t.dynFamily,startBeacon:o,endBeacon:i},o.$dekuId=s,i.$dekuId=s,!0):!1)()){const f=document.createComment(`%-%${t.id}`),p=document.createComment(`%-%${t.id}%-%`);r.units[s]={listeners:{},parent:t.parent,dynFamily:t.dynFamily,scope:t.scope,pos:t.pos,startBeacon:f,endBeacon:p},f.$dekuId=s,p.$dekuId=s}},ks=new Set(["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"]),Os=e=>n=>()=>n.units[e]&&n.units[e].dynFamily?n.units[e].dynFamily:(()=>{throw new Error(`No positional information for ${e}`)})(),As=e=>n=>()=>n.units[e]&&n.units[e].main&&n.units[e].main.parentNode&&n.units[e].main.parentNode.$dekuId?n.units[e].main.parentNode.$dekuId:n.units[e]&&n.units[e].startBeacon&&n.units[e].startBeacon.parentNode&&n.units[e].startBeacon.parentNode.$dekuId?n.units[e].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${e}`)})(),Cs=e=>n=>()=>n.units[e]&&n.units[e].scope?n.units[e].scope:(()=>{throw new Error(`No scope information for ${e}`)})(),Es=e=>n=>t=>r=>()=>{var o,i=t.id;if(r.scopes[t.scope]||(r.scopes[t.scope]=[]),r.scopes[t.scope].push(i),!e(t.parent)(()=>()=>r.hydrating&&n&&(o=document.documentElement.querySelector(`[data-deku-ssr="${i}"]`))?(r.units[i]={listeners:{},pos:t.pos,parent:t.parent,scope:t.scope,dynFamily:t.dynFamily,main:o},o.$dekuId=i,!0):!1)()){const a=ks.has(t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);r.units[i]={listeners:{},parent:t.parent,pos:t.pos,scope:t.scope,dynFamily:t.dynFamily,main:a},a.$dekuId=i}},Ns=e=>n=>t=>r=>o=>()=>{var i=r.id,s;if(o.scopes[r.scope]||(o.scopes[r.scope]=[]),o.scopes[r.scope].push(i),!e(r.parent)(f=>()=>{if(o.hydrating&&n&&(s=document.documentElement.querySelector(`[data-deku-ssr="${f}"]`))){for(var p=0;p<s.childNodes.length;p++){const c=i.split("@-@");if(s.childNodes[p].nodeType===8&&s.childNodes[p].nodeValue===c[0]){p=p-1;var l=p===-1,_=p>=0&&s.childNodes[p].nodeType===8;l&&s.prepend(document.createTextNode("")),_&&s.insertBefore(document.createTextNode(""),s.childNodes[p+1]);break}}const u=s.childNodes[p];return o.units[i]={main:u,pos:r.pos,parent:r.parent,scope:r.scope},u.$dekuId=i,!0}return!1})()){const f=document.createTextNode("");o.units[i]={main:f,parent:r.parent,scope:r.scope,pos:r.pos,dynFamily:r.dynFamily},f.$dekuId=i}};function Ls(){return{units:{},scopes:{},allBeacons:{}}}const Ss=e=>n=>t=>()=>{if(t.units[n.id]){var r=n.id,o=n.value;t.hydrating&&e&&!t.units[r]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${r}"]`))&&(t.units[r]={listeners:{},parent:n.parent,scope:n.scope,main:dom},t.scopes[n.scope]||(t.scopes[n.scope]=[]),t.scopes[n.scope].push(r)),t.units[r].main.tagName==="INPUT"&&n.key==="value"||t.units[r].main.tagName==="TEXTAREA"&&n.key==="value"?t.units[r].main.value=o:t.units[r].main.tagName==="INPUT"&&n.key==="checked"?t.units[r].main.checked=o==="true":n.key==="disabled"?t.units[r].main.disabled=o==="true":t.units[r].main.setAttribute(n.key,o)}},Rs=e=>n=>t=>()=>{if(t.units[n.id]){var r=n.id,o=n.value;if(t.hydrating&&e&&!t.units[r]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${r}"]`))&&(t.units[r]={listeners:{},parent:n.parent,scope:n.scope,main:dom},t.scopes[n.scope]||(t.scopes[n.scope]=[]),t.scopes[n.scope].push(r)),n.key==="@self@")o(t.units[r].main)();else{t.units[r].listeners[n.key]&&t.units[r].main.removeEventListener(n.key,t.units[r].listeners[n.key]);var i=s=>o(s)();t.units[r].main.addEventListener(n.key,i),t.units[r].listeners[n.key]=i}}},Ps=e=>n=>()=>{if(n.units[e.id]){var t=e.id;n.units[t].main.nodeValue=e.text}},Fs=e=>n=>t=>r=>o=>()=>{var i,s,a=r.id,f=r.html,p=r.verb,l=r.cache,_=r.parent,u=r.scope,c=r.pxScope;const m=e(r.parent)(()=>()=>o.hydrating&&n&&(i=document.documentElement.querySelector(`[data-deku-ssr="${a}"]`))?(o.units[a]={listeners:{},pos:r.pos,scope:u,parent:_,main:i},i.$dekuId=a,!0):!1)();if(!m){const A=Object.entries(l);for(var b=0;b<A.length;b++){const E=A[b][0];A[b][1]===!0?f=f.replace(p+E+p,'data-deku-attr-internal="'+E+'"'):f=f.replace(p+E+p,'<span style="display:contents;" data-deku-elt-internal="'+E+'"></span>')}s=document.createElement("div"),s.innerHTML=f.trim(),o.units[a]={listeners:{},pos:r.pos,scope:u,parent:_,main:s.firstChild},s.firstChild.$dekuId=a}o.scopes[u]||(o.scopes[u]=[]),o.scopes[u].push(a),s||(s=i),s.querySelectorAll("[data-deku-attr-internal]").forEach(function(A){var E=A.getAttribute("data-deku-attr-internal");const x=E+"@!%"+c;o.units[x]={listeners:{},main:A,scope:u},o.scopes[u].push(x)}),s.querySelectorAll("[data-deku-elt-internal]").forEach(function(A){var E=A.getAttribute("data-deku-elt-internal");const x=E+"@!%"+c;o.units[E+"@!%"+c]={listeners:{},main:A,scope:u},o.scopes[u].push(x)}),m||o.units[a].main.remove()},Is=e=>n=>()=>{var t=e.id;n.units[t]={main:e.root},e.root.$dekuId=t},iu=e=>n=>t=>r=>()=>{const o=(m,b,A)=>{if(r.units[m].startBeacon){var E=r.units[m].startBeacon,x=E.nextSibling;for(r.units[b].main.insertBefore(E,A),E=x;E&&E!==r.units[m].endBeacon;)x=E.nextSibling,r.units[b].main.insertBefore(E,A),E=x}else r.units[b].main.insertBefore(r.units[m].main,A)},i=[];i.push(t);for(var s=0;s<i.length;s++){const m=i[s],b=m.id,A=m.parent;r.units[b].containingScope=m.scope;var a=void 0;n(m.pos)(x=>()=>(a=x,!0))(),a===void 0&&(a=Number.MAX_VALUE);const E=r.units[A].main.childNodes;for(var f=0,p=!1,l=0;f<E.length;){var _;if(_=E[f].$dekuId){if(n(m.dynFamily)(T=>()=>p?!1:r.units[_].endBeacon===E[f]&&T===_?(r.units[b].pos=e(l),o(b,A,E[f]),!0):!1)()){p=!0;break}if(r.units[_].dynFamily!==r.units[b].dynFamily){f++;continue}if(p){f++;continue}l===a?(o(b,A,E[f]),l++,p=!0):r.units[_].endBeacon!==E[f]&&(r.units[_].pos=e(l),l++)}f++}if(p)return;if(r.units[b].main)r.units[A].main.appendChild(r.units[b].main);else{var u=r.units[b].startBeacon,c=u.nextSibling;for(r.units[A].main.appendChild(u),u=c;u&&u!==r.units[b].endBeacon;)c=u.nextSibling,r.units[A].main.appendChild(u),u=c}}},Bs=e=>n=>()=>{if(n.units[e.id]){var t=e.id;if(n.units[t].containingScope&&!e.scopeEq(n.units[t].containingScope)(e.scope))return;if(n.units[t].main)n.units[t].main.remove();else{const i=document.createElement("div");var r=n.units[t].startBeacon,o=r.nextSibling;for(i.appendChild(r),r=o;r&&r!==n.units[t].endBeacon;)o=r.nextSibling,i.appendChild(r),r=o;r===n.units[t].endBeacon&&i.appendChild(r)}}},cu=e=>n=>()=>{n.units[e.id]&&delete n.units[e.id]},Js=cu,ce=e=>n=>e.tag==="Just"?n(e._1):()=>!1,xs=e=>n=>{const t=Cs(e.id)(n);return()=>{const r=t(),o=As(e.id)(n)(),i=Os(e.id)(n)();return iu(Hn)(ce)({scope:r,parent:o,dynFamily:i,id:e.id,pos:L("Just",e.pos),ez:!1})(n)()}},qs=e=>({ids:()=>{const n=e.value,t=e.value;return e.value=1+t|0,bo(uu.arbitrary({newSeed:(()=>{const r=Kn(n)(2147483645);return r<1?r+2147483646|0:r})(),size:5})._1)},makeElement:Es(ce)(!1),makeDynBeacon:ws(ce)(!1),attributeParent:bs(ce),makeRoot:Is,makeText:Ns(ce)(!1)(n=>t=>{if(t.tag!=="Nothing"){if(t.tag==="Just")return n(t._1);v()}}),makePursx:Fs(ce)(!1)(n=>t=>{if(t.tag!=="Nothing"){if(t.tag==="Just")return n(t._1);v()}}),setProp:Ss(!1),setCb:Rs(!1),setText:Ps,sendToPos:xs,removeDynBeacon:Js,deleteFromCache:cu,giveNewParent:iu(Hn)(ce),disconnectElement:Bs}),su=function(){return window};function Ms(e){return e.body}function Ws(e){return function(){return e.document}}function Ds(e){return function(n){return function(){return n.requestAnimationFrame(e)}}}const zs=e=>n=>()=>{const t=Ls(),r={value:0};return Tn.subscribe(Kc(e)(n)(qs(r)))(o=>o(t))()},Gs=e=>()=>{const n=su(),t=Ws(n)(),r=Ms(t),o=Qo(r,D,Hn);return o.tag==="Just"?zs(o._1)(e)():()=>{}},Fr={liftEffect:e=>e,Monad0:()=>Wu},Us=function(e){return function(){console.log(e)}},bt=(()=>Tn.makeEvent(e=>()=>{const n=su();let t=!1;const r=po(()=>{const i=Ds((()=>{const s=e();return()=>{s();const a=t;if(!a)return r()();a||v()}})())(n);return()=>{i()}});return r()(),()=>t=!0}))(),Qs=e=>n=>t=>r=>t(e.map(o=>i=>o(n(i)))(e.map(it)(r)));function Hs(){return Date.now()}const Vs=e=>Tn.makeEvent(n=>Tn.subscribe(e)(t=>()=>{const r=Hs();return n({time:r,value:t})()})),pt=()=>()=>()=>e=>n=>t=>ku(t.type)(e)?Se(t.type)(e)(t.value):n(t),dt=e=>kn("Data.Variant: pattern match failure ["+e.type+"]"),au=e=>{const n=e.Bind1().bind,t=e.Applicative0().pure;return{bind:r=>o=>n(r)(i=>{if(i.tag==="Left")return t(En("Left",i._1));if(i.tag==="Right")return o(i._1);v()}),Apply0:()=>fu(e)}},fu=e=>{const n=e.Bind1().Apply0().Functor0(),t={map:r=>n.map(ko.map(r))};return{apply:(()=>{const r=au(e).bind,o=hr(e).pure;return i=>s=>r(i)(a=>r(s)(f=>o(a(f))))})(),Functor0:()=>t}},hr=e=>({pure:(()=>{const n=e.Applicative0().pure;return t=>n(En("Right",t))})(),Apply0:()=>fu(e)}),js=e=>{const n={Applicative0:()=>hr(e),Bind1:()=>au(e)};return{throwError:(()=>{const t=e.Applicative0().pure;return r=>t(En("Left",r))})(),Monad0:()=>n}},Ks=e=>n=>{const t=n.Bind1(),r=n.Applicative0().pure,o=t.Apply0().Functor0(),i={map:s=>o.map(ko.map(s))};return{alt:s=>a=>t.bind(s)(f=>{if(f.tag==="Right")return r(En("Right",f._1));if(f.tag==="Left"){const p=f._1;return t.bind(a)(l=>{if(l.tag==="Right")return r(En("Right",l._1));if(l.tag==="Left")return r(En("Left",e.append(p)(l._1)));v()})}v()}),Functor0:()=>i}};function Ir(e){return Object.prototype.toString.call(e).slice(8,-1)}const Ys=(e,n,t)=>({tag:e,_1:n,_2:t}),lu=e=>{const n=hr(e).pure,t=js(e).throwError;return r=>o=>Ir(o)===r?n(o):t(Ro(Ys("TypeMismatch",r,Ir(o)),le))},Xs=e=>({tag:e}),Zs=e=>({tag:e}),_u=e=>({tag:e}),na=_u("TTT11"),ea=_u("TTT12"),ta=Zs("Speakers"),ra=Xs("Max"),oa={type:"on",value:void 0},ua={x:oa,o:0},Br=()=>(e,n)=>(n({type:"onOff",value:ua}),()=>{}),ia=()=>({tag:"PlayBufOptions"}),pu=e=>e,ca={reflectSymbol:()=>"buffer"},du=ia(),Yt={toInitializeGain:e=>({gain:e})},gu={convertOption:e=>n=>pu},sa={convertOption:e=>n=>pu},mu={bufferOffset:0,playbackRate:1,duration:D},aa={toInitializePlayBuf:(()=>{const e=he(_r)(gu)()()()(ca);return n=>lr(e.convertRecordOptions(du)(cn)({buffer:n})({}),mu)})()},fa=()=>({tag:"AnalyserOptions"}),vr=e=>e,yr=(()=>$e(at.alt)(On.empty))(),la=fa(),_a={convertOption:e=>n=>vr},pa={convertOption:e=>n=>vr},da={convertOption:e=>n=>vr},ga={cb:e=>()=>()=>{},fftSize:na,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8,channelCount:2,channelCountMode:ra,channelInterpretation:ta},gt=ve({doLogic:Fu,ids:e=>e.ids,disconnectElement:e=>n=>e.disconnectXFromY({from:n.id,to:n.parent}),toElt:e=>e}),ma=e=>n=>t=>r=>{const o=e.toInitializeAnalyser(n);return V("Element'",i=>s=>{const a=s.ids;return Tn.makeLemmingEventO((f,p)=>{const l=a();i.raiseId(l)();const _=f(yr([(()=>{const c=s.makeAnalyser({id:l,parent:i.parent,scope:(()=>{if(i.scope.tag==="Global")return D;if(i.scope.tag==="Local")return L("Just",i.scope._1);v()})(),cb:o.cb,fftSize:Vo(2)((()=>{if(o.fftSize.tag==="TTT7")return 7;if(o.fftSize.tag==="TTT8")return 8;if(o.fftSize.tag==="TTT9")return 9;if(o.fftSize.tag==="TTT10")return 10;if(o.fftSize.tag==="TTT11")return 11;if(o.fftSize.tag==="TTT12")return 12;if(o.fftSize.tag==="TTT13")return 13;v()})()),maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant,channelCount:o.channelCount,channelCountMode:(()=>{if(o.channelCountMode.tag==="Explicit")return"explicit";if(o.channelCountMode.tag==="Max")return"max";if(o.channelCountMode.tag==="ClampedMax")return"clamped-max";v()})(),channelInterpretation:(()=>{if(o.channelInterpretation.tag==="Speakers")return"speakers";if(o.channelInterpretation.tag==="Discrete")return"discrete";v()})()});return(m,b)=>(b(c),()=>{})})(),(c,m)=>t(c,b=>{const A=pt()()()({cb:E=>s.setAnalyserNodeCb({id:l,cb:E})})(dt)(b);return m(A)}),gt({parent:L("Just",l),scope:i.scope,raiseId:c=>()=>{}})(s)(V("FixedChildren'",r))]),p),u=s.deleteFromCache({id:l});return()=>(p(u),_())})})},ha=e=>n=>ma(e)(n)(On.empty),va=e=>n=>{const t=n.ids;return Tn.makeLemmingEventO((r,o)=>{const i=t();return o(n.makeSpeaker({id:i})),r(gt({parent:L("Just",i),scope:rt("Local","toplevel"),raiseId:s=>()=>{}})(n)(V("FixedChildren'",e)),o)})},hu=e=>n=>t=>r=>pt()()()({numeric:o=>{const i=t({type:"numeric",value:o});return(s,a)=>(a(i),()=>{})},envelope:o=>{const i=t({type:"envelope",value:o});return(s,a)=>(a(i),()=>{})},cancel:o=>{const i=t({type:"cancel",value:o});return(s,a)=>(a(i),()=>{})},sudden:o=>{const i=t({type:"sudden",value:o});return(s,a)=>(a(i),()=>{})},unit:o=>{const i=ya(Yt)(1)([o.u]);return Tn.makeLemmingEventO((s,a)=>{let f=D;const p=gt({parent:D,scope:e,raiseId:_=>()=>{f=L("Just",_)}})(n)(i),l=Tn.makeLemmingEventO((_,u)=>{const c=f;return c.tag==="Nothing"||(c.tag==="Just"?u(t({type:"unit",value:{i:c._1}})):v()),()=>{}});return s((_,u)=>{const c=p(_,u),m=l(_,u);return()=>(c(),m())},a)})}})(dt)(r),ya=e=>n=>t=>Xt(e)(n)(On.empty)(t),Xt=e=>n=>t=>r=>{const o=e.toInitializeGain(n);return V("Element'",i=>s=>{const a=s.ids;return Tn.makeLemmingEventO((f,p)=>{const l=a();i.raiseId(l)();const _=f(yr([(()=>{const c=s.makeGain({id:l,parent:i.parent,scope:(()=>{if(i.scope.tag==="Global")return D;if(i.scope.tag==="Local")return L("Just",i.scope._1);v()})(),gain:o.gain});return(m,b)=>(b(c),()=>{})})(),(c,m)=>{let b=()=>{};const A=t(c,E=>{const x=pt()()()({gain:hu(i.scope)(s)(nn=>s.setGain({id:l,gain:nn}))})(dt)(E);return b(),b=x(c,m)});return()=>(b(),A())},gt({parent:L("Just",l),scope:i.scope,raiseId:c=>()=>{}})(s)(V("FixedChildren'",r))]),p),u=s.deleteFromCache({id:l});return()=>(p(u),_())})})},vu=e=>n=>t=>{const r=e.toInitializePlayBuf(n);return V("Element'",o=>i=>{const s=i.ids;return Tn.makeLemmingEventO((a,f)=>{const p=s();o.raiseId(p)();const l=a(yr([(()=>{const u=i.makePlayBuf({id:p,parent:o.parent,scope:(()=>{if(o.scope.tag==="Global")return D;if(o.scope.tag==="Local")return L("Just",o.scope._1);v()})(),buffer:r.buffer,playbackRate:r.playbackRate,bufferOffset:r.bufferOffset,duration:r.duration});return(c,m)=>(m(u),()=>{})})(),(u,c)=>{let m=()=>{};const b=t(u,A=>{const E=pt()()()({buffer:I=>{const nn=i.setBuffer({id:p,buffer:I});return(en,Y)=>(Y(nn),()=>{})},playbackRate:hu(o.scope)(i)(I=>i.setPlaybackRate({id:p,playbackRate:I})),bufferOffset:I=>{const nn=i.setBufferOffset({id:p,bufferOffset:I});return(en,Y)=>(Y(nn),()=>{})},onOff:I=>{const nn=i.setOnOff({id:p,onOff:I});return(en,Y)=>(Y(nn),()=>{})},duration:I=>{const nn=i.setDuration({id:p,duration:I});return(en,Y)=>(Y(nn),()=>{})}})(dt)(A);return m(),m=E(u,c)});return()=>(m(),b())}]),f),_=i.deleteFromCache({id:p});return()=>(f(_),l())})})},$a=e=>vu(e);function Ta(e){return function(n){return function(t){return function(){e.then(t,n)}}}}const ba=(()=>Ks(Ai)(_e).alt)(),wa=lu(_e),ka=lu(_e)("String"),Jr=e=>n=>rs(t=>{const r=Ta(n)(o=>t(En("Left",e(o)))())(o=>t(En("Right",o))());return()=>(r(),as)}),xr=e=>{const n=ba(wa("Error")(e))((()=>{const t=ka(e);if(t.tag==="Left")return En("Left",t._1);if(t.tag==="Right")return En("Right",Pr(t._1));v()})());if(n.tag==="Left")return Pr("Promise failed, couldn't extract JS Error or String");if(n.tag==="Right")return n._1;v()};var Oa="numeric",Aa="sudden",Ca="unit",Ea="cancel",Na="step",La="linear",Sa="exponential",Ra="envelope",yu=function(e,n,t,r){if(t.type===Aa)e.value=t.value.n;else if(t.type===Ca)n.id&&Ba(n.id,r),r.units[t.value.i].main.connect(e),n.id=t.value.i;else if(t.type===Oa)e[t.value.t.type===Na?"setValueAtTime":t.value.t.type===La?"linearRampToValueAtTime":t.value.t.type===Sa?"exponentialRampToValueAtTime":"linearRampToValueAtTime"](t.value.n,t.value.o);else if(t.type===Ea)t.value.hold?e.cancelAndHoldAtTime(t.value.o):e.cancelScheduledValues(t.value.o);else if(t.type===Ra){const o=t.value.o;e.cancelScheduledValues(Math.max(0,o)),e.setValueCurveAtTime(t.value.p,o,t.value.d)}else throw new Error("No idea what to do with "+JSON.stringify(t))},Pa=function(e,n,t,r,o){return r[t]||(r[t]={}),yu(n.parameters.get(t),r[t],o,e)},Wn=function(e,n,t,r,o){return r[t]||(r[t]={}),yu(n[t],r[t],o,e)},dn=function(e,n,t,r){const o=e("@fan@")(i=>i)(t);r.scopes[o]||(r.scopes[o]=[]),r.scopes[o].push(n),r.units[n].scope=o},gn=function(e,n){n.toConnect[e]&&(n.toConnect[e].forEach(function(t){t.w?n.units[t.w]?t.f():(n.toConnect[t.w]||(n.toConnect[t.w]=[]),n.toConnect[t.w].push({f:t.f})):t.f()}),delete n.toConnect[e])},mn=function(e,n,t,r){e()(o=>$u(n,o,r))(t)},$u=function(e,n,t){var r=function(){t.units[e].audioOutgoing.push(n),t.units[e].pendingOn||(t.units[e].main.connect(t.units[n].main),t.units[n].se&&t.units[e].main.connect(t.units[n].se))};if(!t.units[e]){t.toConnect[e]||(t.toConnect[e]=[]);var o={f:r};n!==e&&!t.units[n]&&(o.w=n),t.toConnect[e].push(o);return}if(!t.units[n]){t.toConnect[n]||(t.toConnect[n]=[]);var o={f:r};n!==e&&!t.units[e]&&(o.w=e),t.toConnect[n].push(o);return}r()};function Fa(e){return function(n){return function(){delete n.units[e.id]}}}function Ia(e){return function(n){return function(){$u(e.from,e.to,n)}}}var Ba=function(e,n){if(n.units[e].scope==="@fan@")return;const t=n.units[e].scope;n.scopes[t].forEach(r=>{delete n.units[r]}),delete n.scopes[t]};function Ja(e){return function(n){return function(){var t=e.from,r=e.to;if(!n.units[t]||(n.units[t].audioOutgoing=n.units[t].audioOutgoing.filter(function(i){return i!==r}),n.units[t].main.disconnect(n.units[r].main),n.units[r].se&&n.units[t].main.disconnect(n.units[r].se),n.units[t].scope==="@fan@"))return;const o=n.units[t].scope;n.scopes[o].forEach(i=>{delete n.units[i]}),delete n.scopes[o]}}}const xa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"allpass",Q:n.q,frequency:n.frequency})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},qa=e=>n=>t=>()=>{var r=n.id,o=n.cb,i=new AnalyserNode(t.context,n),s=o(i)();t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],analyserOrig:o,analyser:s,main:t.context.createGain(),se:i},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Ma=e=>n=>t=>()=>{var r=n.id,o=n.options;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new AudioWorkletNode(t.context,o.name,{numberOfInputs:o.numberOfInputs,numberOfOutputs:o.numberOfOutputs,outputChannelCount:o.outputChannelCount,parameterData:o.parameterData,processorOptions:o.processorOptions})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Wa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"bandpass",Q:n.q,frequency:n.frequency})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Da=e=>n=>t=>()=>{var r=n.id,o=function(s,a){return new ConstantSourceNode(s,a)},i={offset:n.offset};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},za=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new ConvolverNode(t.context,{buffer:n.buffer})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Ga=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DelayNode(t.context,{delayTime:n.delayTime,maxDelayTime:n.maxDelayTime})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Ua=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DynamicsCompressorNode(t.context,{knee:n.knee,ratio:n.ratio,threshold:n.threshold,attack:n.attack,release:n.release})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Qa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new GainNode(t.context,{gain:n.gain})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Ha=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"highpass",Q:n.q,frequency:n.frequency})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Va=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"highshelf",frequency:n.frequency,gain:n.gain})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},ja=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new IIRFilterNode(t.context,{feedforward:n.feedforward,feedback:n.feedback})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Ka=e=>n=>t=>()=>{var r=n.id,o=function(s,a){return new AudioBufferSourceNode(s,a)},i={loop:!0,buffer:n.buffer,loopStart:n.loopStart,loopEnd:n.loopEnd,playbackRate:n.playbackRate};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Ya=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"lowpass",Q:n.q,frequency:n.frequency})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Xa=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"lowshelf",frequency:n.frequency,gain:n.gain})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},Za=e=>n=>t=>()=>{var r=n.id,o=n.element,i=function(){var s=t.context.createMediaElementSource(o);return s};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],createClosure:i,resumeClosure:{},main:i()},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},nf=e=>n=>t=>()=>{var r=n.id;t.units[n.id]={main:t.context.createMediaStreamSource(n.microphone),controllers:{},audioOutgoing:[],controlOutgoing:[]},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},ef=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"notch",frequency:n.frequency,Q:n.q})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},tf=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(t.context,{type:"peaking",frequency:n.frequency,Q:n.q,gain:n.gain})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},rf=e=>n=>t=>()=>{var r=n.id,o=function(s,a){var f={frequency:a.frequency,periodicWave:a.spec.type==="wave"?a.spec.value:Df(t.context)(a.spec.value.real)(a.spec.value.img)()},p=new OscillatorNode(s,f);return p},i={frequency:n.frequency,type:"custom",spec:n.spec};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},of=e=>n=>t=>()=>{var r=n.id,o=function(s,a){var f={loop:a.loop,buffer:a.buffer,playbackRate:a.playbackRate};return new AudioBufferSourceNode(s,f)},i={loop:!1,buffer:n.buffer,playbackRate:n.playbackRate,bufferOffset:n.bufferOffset,duration:e(void 0)(s=>s)(n.duration)};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},uf=e=>n=>t=>()=>{var r=n.id,o=n.cb,i=t.context.createMediaStreamDestination(),s=new MediaRecorder(i.stream);o(s)(),s.start(),t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],recorderOrig:o,recorder:s,main:t.context.createGain(),se:i},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},cf=e=>n=>t=>()=>{var r=n.id,o=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"sawtooth"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},sf=e=>n=>t=>()=>{var r=n.id,o=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"sine"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},af=e=>n=>()=>{n.units[e.id]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:n.context.createGain(),se:n.context.destination}},ff=e=>n=>t=>()=>{var r=n.id;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new StereoPannerNode(t.context,{pan:n.pan})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},lf=e=>n=>t=>()=>{var r=n.id,o=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"square"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},_f=e=>n=>t=>()=>{var r=n.id,o=function(s,a){return new OscillatorNode(s,a)},i={frequency:n.frequency,type:"triangle"};t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:i,createClosure:o,onOff:!1,pendingOn:!0,main:o(t.context,i)},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)},pf=e=>n=>t=>()=>{var r=n.id,o=n.curve,i=n.oversample;t.units[r]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new WaveShaperNode(t.context,{curve:o,oversample:i.type})},dn(e,r,n.scope,t),gn(r,t),mn(e,r,n.parent,t)};function df(e){return function(n){return function(){var t=e.id,r=e.cb;n.units[t].analyserOrig!==r&&(n.units[t].analyser&&n.units[t].analyser(),n.units[t].analyser=r(n.units[t].se)(),n.units[t].analyserOrig=r)}}}function gf(e){return function(n){return function(){var t=e.cb,r=e.id;if(n.units[r].recorderOrig!==t){n.units[r].recorder&&n.units[r].recorder.stop();var o=t;n.units[r].recorderOrig=t;var i=new MediaRecorder(n.units[r].se);o(i)(),i.start()}}}}function mf(e){return function(n){return function(){var t=e.id,r=e.curve;n.units[t].main.curve=r}}}function hf(e){return function(n){return function(){var t=e.id,r=e.paramName,o=e.paramValue;Pa(n,n.units[t].main,r,n.units[t].controllers,o)}}}const Dn=function(e,n,t){n.resume&&e.value.n!==void 0&&(n.resume[t]=e.value.n)};function vf(e){return function(n){return function(){var t=e.id,r=e.gain;Wn(n,n.units[t].main,"gain",n.units[t].controllers,r),Dn(r,n.units[t],"gain")}}}function yf(e){return function(n){return function(){var t=e.id,r=e.q;Wn(n,n.units[t].main,"Q",n.units[t].controllers,r),Dn(r,n.units[t],"Q")}}}function $f(e){return function(n){return function(){var t=e.id,r=e.buffer;n.units[t].resume&&(n.units[t].resume.buffer=r)}}}function Tf(e){return function(n){return function(){var t=e.id,r=e.buffer;n.units[t].main.buffer=r}}}function bf(e){return function(n){return function(){var t=e.id,r=e.spec;n.units[t].resume&&(n.units[t].resume.spec=r)}}}function wf(e){return function(n){return function(){var t=e.id,r=e.pan;Wn(n,n.units[t].main,"pan",n.units[t].controllers,r),Dn(r,n.units[t],"pan")}}}function kf(e){return function(n){return function(){var t=e.id,r=e.threshold;Wn(n,n.units[t].main,"threshold",n.units[t].controllers,r),Dn(r,n.units[t],"threshold")}}}function Of(e){return function(n){return function(){var t=e.id,r=e.loopStart;n.units[t].main.loopStart=r,n.units[t].resume.loopStart=r}}}function Af(e){return function(n){return function(){var t=e.id,r=e.loopEnd;n.units[t].main.loopEnd=r,n.units[t].resume.loopEnd=r}}}function Cf(e){return function(n){return function(){var t=e.id,r=e.bufferOffset;n.units[t].resume.bufferOffset=r}}}function Ef(e){return function(n){return function(t){return function(){var r=n.id,o=n.duration;t.units[r].duration=e(void 0)(i=>i)(o)}}}}function Nf(e){return function(n){return function(){var t=e.id,r=e.release;Wn(n,n.units[t].main,"release",n.units[t].controllers,r),Dn(r,n.units[t],"release")}}}function Lf(e){return function(n){return function(){var t=e.id,r=e.offset;Wn(n,n.units[t].main,"offset",n.units[t].controllers,r),Dn(r,n.units[t],"offset")}}}function Sf(e){return function(n){return function(){var t=e.id,r=e.ratio;Wn(n,n.units[t].main,"ratio",n.units[t].controllers,r),Dn(r,n.units[t],"ratio")}}}function Rf(e){return function(n){return function(){var t=e.id,r=e.attack;Wn(n,n.units[t].main,"attack",n.units[t].controllers,r),Dn(r,n.units[t],"attack")}}}function Pf(e){return function(n){return function(){var t=e.id,r=e.knee;Wn(n,n.units[t].main,"knee",n.units[t].controllers,r),Dn(r,n.units[t],"knee")}}}function Ff(e){return function(n){return function(){var t=e.id,r=e.delayTime;Wn(n,n.units[t].main,"delayTime",n.units[t].controllers,r),Dn(r,n.units[t],"delayTime")}}}function If(e){return function(n){return function(){var t=e.id,r=e.playbackRate;Wn(n,n.units[t].main,"playbackRate",n.units[t].controllers,r),Dn(r,n.units[t],"playbackRate")}}}function Bf(e){return function(n){return function(){var t=e.id,r=e.frequency;Wn(n,n.units[t].main,"frequency",n.units[t].controllers,r),Dn(r,n.units[t],"frequency")}}}function Jf(e){return function(n){return function(){var t=e.id,r=e.onOff;r.x.type==="on"?xf(t)(r)(n)():r.x.type==="off"&&qf(t)(r)(n)()}}}var xf=function(e){return function(n){return function(t){return function(){if(!t.units[e].onOff){t.units[e].pendingOn=!1,t.units[e].onOff=!0,t.units[e].main=t.units[e].createClosure(t.context,t.units[e].resume);for(var r=0;r<t.units[e].audioOutgoing.length;r++){var o=t.units[e].audioOutgoing[r];t.units[e].main.connect(t.units[o].main),t.units[o].se&&t.units[e].main.connect(t.units[o].se)}t.units[e].resume&&t.units[e].resume.bufferOffset?typeof t.units[e].resume.duration=="number"?t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.bufferOffset,t.units[e].resume.duration):t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.bufferOffset):t.units[e].resume&&t.units[e].resume.loopStart?t.units[e].main.start(t.deprecatedWriteHead+n.o,t.units[e].resume.loopStart):t.units[e].main.start(t.deprecatedWriteHead+n.o)}}}}},qf=function(e){return function(n){return function(t){return function(){if(t.units[e].onOff){t.units[e].onOff=!1;var r=t.units[e].main;r.addEventListener("ended",()=>{r.disconnect()}),r.stop(t.deprecatedWriteHead+n.o)}}}}};function Mf(e){return function(){var n=new Uint8Array(e.frequencyBinCount);return e.getByteFrequencyData(n),n}}function nt(e){return e.sampleRate}function Wf(e){return e.length}var Df=function(e){return function(n){return function(t){return function(){for(var r=new Float32Array(n.length),o=new Float32Array(t.length),i=0;i<n.length;i++)r[i]=n[i];for(var i=0;i<t.length;i++)o[i]=t[i];return e.createPeriodicWave(r,o,{disableNormalization:!0})}}}};function zf(e){return function(){return{context:e,deprecatedWriteHead:0,units:{},scopes:{},unsu:{},toConnect:{}}}}function Gf(e){return function(){return fetch(e).then(function(n){return n.arrayBuffer()},function(n){return console.error("Error fetching buffer",n),Promise.reject(n)})}}function Uf(e){return function(n){return function(){return e.decodeAudioData(n)}}}function qr(){return new(window.AudioContext||window.webkitAudioContext)}function wt(e){return function(){return e.currentTime}}const Qf=e=>({ids:()=>{const n=e.value,t=e.value;return e.value=1+t|0,bo(uu.arbitrary({newSeed:(()=>{const r=Kn(n)(2147483645);return r<1?r+2147483646|0:r})(),size:5})._1)},deleteFromCache:Fa,disconnectXFromY:Ja,connectXToY:Ia,makeAllpass:xa(an),makeAnalyser:qa(an),makeAudioWorkletNode:Ma(an),makeBandpass:Wa(an),makeConstant:Da(an),makeConvolver:za(an),makeDelay:Ga(an),makeDynamicsCompressor:Ua(an),makeGain:Qa(an),makeHighpass:Ha(an),makeHighshelf:Va(an),makeIIRFilter:ja(an),makeLoopBuf:Ka(an),makeLowpass:Ya(an),makeLowshelf:Xa(an),makeMediaElement:Za(an),makeMicrophone:nf(an),makeNotch:ef(an),makePeaking:tf(an),makePeriodicOsc:rf(an),makePlayBuf:of(an),makeRecorder:uf(an),makeSawtoothOsc:cf(an),makeSinOsc:sf(an),makeSpeaker:af,makeSquareOsc:lf(an),makeStereoPanner:ff(an),makeTriangleOsc:_f(an),makeWaveShaper:pf(an),setAnalyserNodeCb:df,setMediaRecorderCb:gf,setWaveShaperCurve:mf,setAudioWorkletParameter:hf,setBuffer:$f,setConvolverBuffer:Tf,setDuration:Ef(an),setPeriodicOsc:bf,setOnOff:Jf,setBufferOffset:Cf,setLoopStart:Of,setLoopEnd:Af,setRatio:Sf,setOffset:Lf,setAttack:Rf,setGain:vf,setQ:yf,setPan:wf,setThreshold:kf,setRelease:Nf,setKnee:Pf,setDelay:Ff,setPlaybackRate:If,setFrequency:Bf}),Mr=e=>n=>fn(fn(zn(Gf(n)))(Jr(xr)))((()=>{const t=Uf(e);return r=>fn(zn(t(r)))(Jr(xr))})()),Hf=e=>n=>{const t=zf(e);return()=>{const r=t(),o={value:0};return Tn.subscribe(va(n)(Qf(o)))(i=>i(r))()}},Vf=""+new URL("main0-c75cd855.wav",import.meta.url).href,jf=""+new URL("pizzs1-70cfdb2d.wav",import.meta.url).href,Kf=Vf,Yf=jf,$r=e=>({tag:e}),Xf=e=>n=>{const t=ur.compare(e)(n);if(t.tag==="LT")return n;if(t.tag==="EQ"||t.tag==="GT")return e;v()},Zt=e=>n=>{const t=ye.compare(e)(n);if(t.tag==="LT")return n;if(t.tag==="EQ"||t.tag==="GT")return e;v()},re=Te(_t)(0),Zf=e=>-e,nl=$c(dr),el=e=>n=>{const t=ur.compare(e)(n);if(t.tag==="LT"||t.tag==="EQ")return e;if(t.tag==="GT")return n;v()},tl=yi(dr),rl=e=>e,Wr=Zo(ft),ee=e=>n=>t=>{const r=ye.compare(e)(t),o=(()=>{if(r.tag==="LT")return t;if(r.tag==="EQ"||r.tag==="GT")return e;v()})(),i=ye.compare(n)(o);if(i.tag==="LT"||i.tag==="EQ")return n;if(i.tag==="GT")return o;v()},ol={eq:e=>n=>e.tag==="Nothing"?n.tag==="Nothing":e.tag==="Just"&&n.tag==="Just"?e._1===n._1:!1},ul=rc(Vt),Dr=(()=>sr.traverse(Ie))(),il=Be(Ie)(Vn),Bn=ar(_e),fe=Go(_e),kt=(()=>fe.state(e=>$(e,e)))(),Oe=vc(fe),cl=e=>n=>{const t=ye.compare(e)(n);if(t.tag==="LT"||t.tag==="EQ")return e;if(t.tag==="GT")return n;v()},Ot=yc(fe),sl=(()=>{const e=sc()(ht({reflectSymbol:()=>"corrected"})()(ht({reflectSymbol:()=>"correction"})()(ht({reflectSymbol:()=>"original"})()(cc)(Ee))(Ee))(Ee));return Te(e.add)(e.zero)})(),_n=(()=>$e(at.alt)(On.empty))(),zr=e=>n=>(t,r)=>(r({key:"x1",value:J("Prop'",n)}),()=>{}),Gr=e=>n=>(t,r)=>(r({key:"x2",value:J("Prop'",n)}),()=>{}),Ur=e=>n=>(t,r)=>(r({key:"y1",value:J("Prop'",n)}),()=>{}),Qr=e=>n=>(t,r)=>(r({key:"y2",value:J("Prop'",n)}),()=>{}),Zn=oi(Ee)(Ee),At=(()=>lt.foldMapWithIndex(Ko))(),Tu={eq:e=>n=>e._1===n._1&&e._2===n._2},Hr=Ic(ft),al=ha((()=>{const e=he(he(he(_r)(da)()()()({reflectSymbol:()=>"smoothingTimeConstant"}))(pa)()()()({reflectSymbol:()=>"fftSize"}))(_a)()()()({reflectSymbol:()=>"cb"});return{toInitializeAnalyser:n=>lr(e.convertRecordOptions(la)(cn)(n)({}),ga)}})()),fl=$a((()=>{const e=he(he(_r)(sa)()()()({reflectSymbol:()=>"bufferOffset"}))(gu)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:n=>lr(e.convertRecordOptions(du)(cn)(n)({}),mu)}})()),ll=Bc(ft),_l=e=>n=>(t,r)=>(r({key:"class",value:J("Prop'",n)}),()=>{}),pl=e=>n=>(t,r)=>n(t,o=>r({key:"style",value:J("Prop'",o)})),dl=e=>n=>(t,r)=>(r({key:"class",value:J("Prop'",n)}),()=>{}),Vr=e=>n=>(t,r)=>n(t,o=>{const i={key:"mousedown",value:J("Cb'",s=>()=>(o(),!0))};return r(i)}),gl=e=>n=>(t,r)=>n(t,o=>r({key:"style",value:J("Prop'",o)})),de=e=>n=>(t,r)=>(r({key:"width",value:J("Prop'",n)}),()=>{}),ge=e=>n=>(t,r)=>(r({key:"height",value:J("Prop'",n)}),()=>{}),Ct=e=>n=>(t,r)=>(r({key:"viewBox",value:J("Prop'",n)}),()=>{}),Et=(()=>{const e=Uo.foldMap1({append:n=>t=>r=>n(r)+r+t(r)});return n=>t=>r=>e(o=>{const i=t(o);return s=>i})(r)(n)})(),jr=ms(Zc),Kr=Be(Fe)(ct),ml=e=>n=>(t,r)=>n(t,o=>r({key:"style",value:J("Prop'",o)})),Yr=e=>n=>(t,r)=>(r({key:"id",value:J("Prop'",n)}),()=>{}),Xr=e=>n=>(t,r)=>(r({key:"gradientUnits",value:J("Prop'",n)}),()=>{}),Qe=e=>n=>(t,r)=>(r({key:"offset",value:J("Prop'",n)}),()=>{}),He=e=>n=>(t,r)=>(r({key:"stop-color",value:J("Prop'",n)}),()=>{}),Ve=e=>n=>(t,r)=>(r({key:"stop-opacity",value:J("Prop'",n)}),()=>{}),Nt=e=>n=>(t,r)=>(r({key:"fill",value:J("Prop'",n)}),()=>{}),Lt=e=>n=>(t,r)=>(r({key:"stroke-linecap",value:J("Prop'",n)}),()=>{}),St=e=>n=>(t,r)=>(r({key:"stroke-linejoin",value:J("Prop'",n)}),()=>{}),Rt=e=>n=>(t,r)=>(r({key:"stroke-opacity",value:J("Prop'",n)}),()=>{}),Zr=e=>n=>(t,r)=>(r({key:"d",value:J("Prop'",n)}),()=>{}),Pt=e=>n=>(t,r)=>(r({key:"fill-opacity",value:J("Prop'",n)}),()=>{}),Ft=e=>n=>(t,r)=>(r({key:"stroke",value:J("Prop'",n)}),()=>{}),It=e=>n=>(t,r)=>(r({key:"stroke-width",value:J("Prop'",n)}),()=>{}),Bt=e=>n=>(t,r)=>(r({key:"filter",value:J("Prop'",n)}),()=>{}),no=e=>n=>(t,r)=>(r({key:"type",value:J("Prop'",n)}),()=>{}),eo=e=>n=>(t,r)=>(r({key:"min",value:J("Prop'",n)}),()=>{}),to=e=>n=>(t,r)=>(r({key:"max",value:J("Prop'",n)}),()=>{}),ro=e=>n=>(t,r)=>(r({key:"step",value:J("Prop'",n)}),()=>{}),hl=e=>n=>(t,r)=>(r({key:"value",value:J("Prop'",n)}),()=>{}),Jt=e=>n=>(t,r)=>(r({key:"style",value:J("Prop'",n)}),()=>{}),xt=e=>n=>(t,r)=>(r({key:"width",value:J("Prop'",n)}),()=>{}),qt=e=>n=>(t,r)=>(r({key:"x",value:J("Prop'",n)}),()=>{}),Mt=e=>n=>(t,r)=>(r({key:"height",value:J("Prop'",n)}),()=>{}),Wt=e=>n=>(t,r)=>n(t,o=>r({key:"y",value:J("Prop'",o)})),je=e=>n=>(t,r)=>(r({key:"fill",value:J("Prop'",n)}),()=>{}),oo=e=>n=>(t,r)=>n(t,o=>r({key:"height",value:J("Prop'",o)})),vl=e=>n=>(t,r)=>n(t,o=>r({key:"fill",value:J("Prop'",o)})),uo=e=>n=>(t,r)=>n(t,o=>r({key:"x",value:J("Prop'",o)})),io=e=>n=>(t,r)=>n(t,o=>r({key:"width",value:J("Prop'",o)})),yl=e=>n=>(t,r)=>n(t,o=>r({key:"d",value:J("Prop'",o)})),$l=e=>n=>(t,r)=>n(t,o=>r({key:"value",value:J("Prop'",o)})),bu=$r("New"),Tl=$r("Reversable"),bl=$r("Reversing"),wl=(()=>{const e=Fn(jn),n=Lo(Vn)(t=>r=>ye.compare(t._2)(r._2));return t=>{const r=n(e(t));return r.tag==="Just"?L("Just",r._1._1):D}})(),Dt=(()=>lt.foldMapWithIndex(dr)(e=>n=>(e===0?"M":"L")+rn(n._1)+" "+rn(n._2)))(),co=e=>n=>t=>{const r=Xf(e)(be(Je(un(t.length)*n)));return r<1?[]:et(0)(r)(t)},kl=e=>n=>t=>t.length===0?[]:Fn(r=>{const o=Fn(i=>{const s=ae(t)(be(Je(un(t.length)*(un(r)/un(e)+un(i)/un(e)/un(n))))),a=(()=>{if(s.tag==="Nothing")return kn("Not enough data");if(s.tag==="Just")return s._1;v()})();return f=>a})(te(n)());return i=>o})(te(e)()),Ae=e=>n=>{const t=3.141592653589793*e/180,r=pc(t),o=_c(t);return $(o*n._1+r*n._2,o*n._2-r*n._1)},Ol=e=>n=>e.high<n.low||e.low>n.high?0:1-(Zt(0)(n.high-e.high)+Zt(0)(e.low-n.low))/(n.high-n.low),so=e=>{const n=re(e);return n===0?[]:Fn(t=>r=>$(re(t<1?[]:et(0)(t)(e))/n,r/n))(e)},Pn=e=>n=>e.liftEffect(()=>{const t=Tn.create();return Tn.subscribe(n)(t.push)(),t.event}),nr=(()=>be(Je(ot(400.90909090909093)/ot(2))))(),Al=e=>n=>re(ln(t=>t._2*Ol(e)(t._1))(n)),Cl=e=>n=>Fn(t=>e(un(t)/un(n.length)))(n),El=e=>{const n=gc(16);return"linear-gradient("+tl(",")(Un(Rn(t=>r=>{const o=n(el(255)(be(Je(255*Ze(r/12e3)(.7)))));return t+nl("0")(2-Sc(o).length|0)+o})(se(["#8A0085","#630D07","#115FFA","#11F0EC"])(te(2)))(Rn(Ho)([3.5,3,2.5,1.5,.5,.3,.15,.15])(e))))+")"},Nl=e=>n=>{const t=un(n.length);return Fn(r=>jn({center:nt(e)/2*((un(r)+.5)/t),low:nt(e)/2*((un(r)+0)/t),high:nt(e)/2*((un(r)+1)/t)}))(n)},Tr=Fn(e=>n=>e)(te(12)()),Ll=e=>ln(n=>ln(cr)(vi(t=>n===t._1)(e)))(Tr),ao={tracking:{note:D,targetSpeed:0,currentAccel:0,currentSpeed:0,currentPosition:0,poked:-86399778816e5,reversed:!0,reversable:bu},notes:ln(e=>({targetSpeed:360,poked:-86399778816e5}))(Tr)},Sl=(()=>Fc("overtoneCorrection0",Vn.foldMap(Ko)(ni)(Fn(e=>n=>{if(e<2||Kn(e)(2)===0)return[];const t=un(e),r=ot(t)/ot(2)*12,o=be(Kt(r)),i=Kn(o)(12),s=jt(o)(12),a=Pe(r)(1);return .35<a&&a<.65?[]:[{note:i,octave:s,harmonic:e,weight:ne(1/t)}]})(te(Vo(2)(6)-1|0)()))))(),Rl=e=>e._1.length===6&&e._2.length===6?[$(Un(e._1[0]),Un(e._2[0])),$(Un(e._2[1]),Un(e._2[2])),$(e._2[3],e._2[4]),$(e._2[5],e._1[5]),$(e._1[4],e._1[3]),$(Un(e._1[2]),Un(e._1[1]))]:kn("Bad data"),er=e=>n=>t=>t.poked===-86399778816e5?{...t,targetSpeed:n?360:0,poked:e}:{...t,targetSpeed:ee(0)(360)((n?_t:ac)(t.targetSpeed)(360*((e+-t.poked)/(n?6e3:3500)))),poked:e},Pl=e=>n=>t=>{if((()=>t.tracking.note.tag==="Nothing"?e.tag==="Nothing":t.tracking.note.tag==="Just"&&e.tag==="Just"?t.tracking.note._1===e._1:!1)())return t;const r=t.tracking,o=ul(i=>s=>{const a=(()=>e.tag==="Nothing"?!1:e.tag==="Just"?e._1===i:!1)(),f=(()=>r.note.tag==="Nothing"?!1:r.note.tag==="Just"?r.note._1===i:!1)();return f?a?p=>({accum:s,value:p}):p=>({accum:s,value:er(n)(!1)(p)}):f?p=>({accum:s,value:p}):a?p=>{const l=er(n)(!0)(p);return{accum:l.targetSpeed,value:l}}:p=>({accum:s,value:p})})(r.targetSpeed)(t.notes);return{tracking:{note:e,targetSpeed:o.accum,currentAccel:r.currentAccel,currentSpeed:r.currentSpeed,currentPosition:r.currentPosition,poked:r.poked,reversed:r.reversed,reversable:r.reversable},notes:o.value}},Fl=e=>{const n=Jc(e),t=e.Filterable1().filterMap;return r=>{const o=t(i=>{if(i.last.tag==="Nothing")return L("Just",i.now);if(i.last.tag==="Just")return r.eq(i.last._1)(i.now)?D:L("Just",i.now);v()});return i=>o(n(i))}},we=Fl(ft),Il=we({eq:go(Pc)}),Bl=(()=>we({eq:go(Tu.eq)}))(),Jl=we(ol),Ke=we(mo),fo=we(Tu),lo=we(Nu),xl=e=>(()=>{const n=Dr((()=>{const t=ln(r=>0);return r=>Yu(t(r))})())(e);return()=>{const t=n();return il(Sl)(r=>{const o=r.note,i=r.octave,s=r.weight,a=e.length;return()=>{for(const f of br(0,a)){const p=e[f];for(const l of br(0,p.length)){const _=p[l];Zu(i+l|0)(u=>u+_*s)(t[Kn(o+f|0)(12)])()}}}})(),Dr(Ku)(t)()}})()(),ql=(()=>{const e=Lo(Vn)(n=>t=>ye.compare(re(n))(re(t)));return n=>{const t=e(n);if(t.tag==="Nothing")return[];if(t.tag==="Just")return t._1;v()}})(),Ml=e=>{if(e.tag==="This"||e.tag==="That")return e._1;if(e.tag==="Both")return e._1+e._2;v()},Wl=(()=>Te(pr.align(Ml))([]))(),Dl=e=>({center:55*Ze(2)(un(e)/12),low:55*Ze(2)((un(e)-.5)/12),high:55*Ze(2)((un(e)+.5)/12)}),zl=(()=>Fn(e=>n=>$(Kn(e)(12),Dl(e)))(te(12*nr|0)()))(),Gl=e=>n=>{const t=n._2,r=n._1<.01?0:ne(ee(0)(1)(n._1*4));return Bn.bind(fe.state(o=>$(o.poked===-86399778816e5?t:o.poked,o)))(o=>Bn.bind(Bn.bind(kt)(i=>{const s=i.currentSpeed,a=i.reversable;return Bn.bind(fe.state(f=>$(a.tag==="Reversing"?-f.targetSpeed:f.targetSpeed,f)))(f=>{const p=Ar(f)/360,l=a.tag==="Reversing"?p*-500+(1-p)*-60:-60;return Oe(ue({reflectSymbol:()=>"currentAccel"})()()(cn)(ie))(_=>ee(l)(500)(s<cl(r*360)(f)?_+500*((t+-o)/1e3):_-500*((t+-o)/500)))})}))(()=>Bn.bind(fe.state(i=>$(i.currentAccel,i)))(i=>Bn.bind(Bn.bind(kt)(s=>{const a=s.reversable,f=i*((t+-o)/1e3);return Bn.bind(fe.state(p=>$(p.currentSpeed+f,p)))(p=>p<=0&&a.tag==="Reversing"?Bn.bind(Ot(ue({reflectSymbol:()=>"currentSpeed"})()()(cn)(ie))(ee(0)(360)(Ar(p))))(()=>Bn.bind(Oe(ue({reflectSymbol:()=>"reversed"})()()(cn)(ie))(fc))(()=>Ot(ue({reflectSymbol:()=>"reversable"})()()(cn)(ie))(bu))):Bn.bind(Ot(ue({reflectSymbol:()=>"currentSpeed"})()()(cn)(ie))(ee(0)(360)(p)))(()=>Oe(ue({reflectSymbol:()=>"reversable"})()()(cn)(ie))(l=>l.tag==="New"?p>198.00000000000003?Tl:l:l.tag==="Reversable"&&p<144?bl:l)))}))(()=>Bn.bind(kt)(s=>{const a=s.currentSpeed,f=s.reversed;return Bn.bind(Oe(ue({reflectSymbol:()=>"currentPosition"})()()(cn)(ie))(p=>p+(f?-a:a)*((t+-o)/1e3)))(()=>Oe(rl)(er(t)(!1)))})))))(e)._2},Ul=e=>n=>{const t=Pl(n._2._1)(n._2._2)(e);return{tracking:Gl(t.tracking)($(n._1,n._2._2)),notes:t.notes}},_o=e=>{const n=pr.align(t=>{if(t.tag==="This")return L("Just",e(t._1)(D));if(t.tag==="Both")return L("Just",e(t._1)(L("Just",t._2)));if(t.tag==="That")return D;v()});return t=>{const r=n(t);return o=>ki(i=>i)(r(o))}},Ql=e=>_o(n=>{const t=_o(r=>o=>({original:r,corrected:Zt(0)((()=>{if(o.tag==="Nothing")return r-0;if(o.tag==="Just")return r-o._1;v()})()),correction:(()=>{if(o.tag==="Nothing")return 0;if(o.tag==="Just")return o._1;v()})()}))(n);return r=>{if(r.tag==="Nothing")return ln(o=>({original:o,corrected:o,correction:0}))(n);if(r.tag==="Just")return t(r._1);v()}})(e)(xl(e)),tr=e=>n=>Ql(Ll((()=>{const t=Nl(e)(n);return ln(r=>$(r._1,Al(r._2)(t)))(zl)})())),Hl=e=>n=>ln(re)(ln(ln(t=>t.corrected))(tr(e)(n))),Vl=(()=>{const e=os(is,fn(zn(qr))(n=>fn(Mr(n)(Yf))(t=>fn(Mr(n)(Kf))(r=>fn(zn(Us(r)))(()=>{const o=un(Wf(r))/nt(r),i=At(a=>{const f=un(a)*60;return p=>ln(Ae(f))(Qn(ln(ci.bimap(Zf)(ii))((()=>{const l=2/ne(3);return Qn(Qn([$(l,0)])(ln(Zn.add($(l,0)))(At(_=>u=>ln(c=>$(c._1,c._2+un(_)*5.1))((()=>{const c=$(u,u/ne(3));return[c,Zn.add(c)($(0,2.05)),Zn.add(Zn.add(c)($(0,2.05)))($(-(1.025*ne(3)),1.025)),$(0,4.1),$(0,5.1)]})()))(p._1))))([$(l,49),$(0,50)])})()))(Un((()=>{const l=2/ne(3);return Qn(Qn([$(l,0)])(ln(Zn.add($(l,0)))(At(_=>u=>ln(c=>$(c._1,c._2+un(_)*5.1))((()=>{const c=$(u,u/ne(3));return[c,Zn.add(c)($(0,2.05)),Zn.add(Zn.add(c)($(0,2.05)))($(-(1.025*ne(3)),1.025)),$(0,4.1),$(0,5.1)]})()))(p._2))))([$(l,49),$(0,50)])})())))}),s=Vs(bt);return fn(zn(()=>Tn.create()))(a=>fn(zn(()=>Tn.create()))(f=>{const p={cb:l=>{const _=a.push(D),u=a.push(L("Just",l));return()=>(u(),_)},fftSize:ea,smoothingTimeConstant:.5};return fn(Pn(In)((()=>{const l=ln(Rc),_=Il(Qs(st)(To)(u=>{const c=Wo(a.event)((m,b)=>u(m,A=>b(E=>E.tag==="Just"?L("Just",A((()=>{const x=Mf(E._1);return()=>{const T=x();return ic(T)}})()())):D)));return(m,b)=>c(m,A=>{if(A.tag==="Just"){const E=A._1;return b(E)}A.tag!=="Nothing"&&v()})})(bt));return(u,c)=>_(u,m=>{const b=l(m);return c(b)})})()))(l=>fn(Pn(In)(Bl(me.apply((_,u)=>{const c=f.event(_,m=>u(co(54)(m)));return u(co(54)(.5)),()=>{c()}})((_,u)=>{const c=l(_,m=>{const b=Cl(jn)(m);return u(b)});return u([$(0,0)]),()=>{c()}}))))(_=>fn(Pn(In)((u,c)=>l(u,m=>{const b=Hl(r)(m);return c(b)})))(u=>fn(Pn(In)((c,m)=>l(c,b=>{const A=ln(sl)(tr(r)(b));return m(A)})))(c=>fn(Pn(In)((m,b)=>l(m,A=>{const E=ln(ln(x=>x.corrected))(tr(r)(A));return b(E)})))(m=>fn(Pn(In)(Jl((b,A)=>u(b,E=>{const x=wl(E);return A(x)}))))(b=>fn(Pn(In)((A,E)=>m(A,x=>{const T=ql(x);return E(T)})))(A=>fn(Pn(In)((E,x)=>A(E,T=>{const I=so(T);return x(I)})))(E=>fn(Pn(In)((x,T)=>m(x,I=>{const nn=Wl(I);return T(nn)})))(x=>fn(Pn(In)(Wr(T=>Fn(I=>nn=>{const en=ae(T)(I),Y=(()=>{if(en.tag==="Nothing")return 0;if(en.tag==="Just")return en._1;v()})();return nn>Y?.6*Y+.4*nn:.9*Y+.1*nn}))([])(x)))(T=>fn(Pn(In)((I,nn)=>T(I,en=>{const Y=ee(0)(1)(re(en)/8e4);return nn(Y)})))(I=>fn(Pn(In)((nn,en)=>T(nn,Y=>{const hn=so(Y);return en(hn)})))(nn=>fn(Pn(In)(Wr(Ul)(ao)(Hr((en,Y)=>I(en,hn=>{const z=jn(hn);return Y(z)}))(Hr((en,Y)=>b(en,hn=>{const z=jn(hn);return Y(z)}))((en,Y)=>s(en,hn=>{const z=hn.time;return Y(z)}))))))(en=>fn(mr((Y,hn)=>en(Y,z=>{const X=z.tracking.currentPosition;return hn(X)})))(Y=>fn(zn(()=>Tn.create()))(hn=>fn(zn(()=>Tn.create()))(z=>fn(zn(()=>Tn.create()))(X=>zn((()=>{const tn=Gs(Rr(()=>{const q=qr();return Hf(q)([al(p)([Xt(Yt)(1)(On.empty)([V("DynamicChildren'",(()=>{const K=me.apply((U,H)=>hn.event(U,M=>H(g=>({startTime:M,io:g}))))(z.event);return(U,H)=>K(U,M=>{const g=(()=>{if(M.io){const y=Ht("Insert",fl({buffer:r,bufferOffset:M.startTime})(Br()));return(O,h)=>{const d=z.event(O,w=>h(Yi));return h(y),()=>{d()}}}return On.empty})();return H(g)})})())]),Xt(Yt)(1)(On.empty)([V("DynamicChildren'",(K,U)=>X.event(K,H=>{const M=Ht("Insert",vu(aa)(t)(Br()));return U((g,y)=>(y(M),()=>{}))}))])])])(),q})(q=>{const K=q._2,U=Pn(Fr)((()=>{const H=ll(K)(bt);return(M,g)=>H(M,y=>{const O=(()=>{const h=y();return q._1(()=>h)(),wt(h)()})();return g(O)})})())();return Rr(D)(H=>{const M=Pn(Fr)(me.apply((g,y)=>H._2(g,O=>{const h=(()=>{if(O.tag==="Nothing")return d=>0;if(O.tag==="Just"){if(O._1.tag==="Left"){const d=O._1._1;return w=>(w-d)/o}if(O._1.tag==="Right"){const d=O._1._1/o;return w=>d}v()}v()})();return y(h)}))(U))();return De(On.empty)([De((()=>{const g=pl()((y,O)=>T(y,h=>{const d="background:"+El(h);return O(d)}));return(y,O)=>{_l()("scene")(y,O);const h=g(y,O);return()=>h()}})())(Un([De(On.empty)(ln(g=>{const y=g/o;return es(_n([dl()("chord"),(O,h)=>(h({key:"data-chord-name",value:J("Prop'","Emin")}),()=>{}),Vr()((O,h)=>K(O,d=>h(()=>{const w=d();return q._1(()=>w)(),X.push()()}))),gl()((()=>{const O=Ke(M);return(h,d)=>O(h,w=>{const C=ee(0)(1)(w),S="position: absolute; left: 0; top: calc("+rn((2*y-C)*100)+"% - "+rn((C-.5)*100)+"px); width: 100vw; height: 1px";return d(S)})})())]))([])})([1.697,4.825,8.424,26.27,28.489])),pe(_n([de()("110.0"),ge()("110.0"),Ct()((()=>{const g=Et(" ")(rn),y=[-55,-55,110,110];return y.length>0?g(y):""})()),jr((()=>{const g=me.apply((y,O)=>H._2(y,h=>{const d=jn(h);return O(d)}))(K);return(y,O)=>g(y,h=>{const d=h._1,w=h._2;return O(()=>{const C=w();q._1(()=>C)();const S=wt(C)(),N=(G,W,yn)=>{const vn=S-G;return vn>o?W(vn):yn(vn)},k=(()=>{if(d.tag==="Nothing")return L("Just",0);if(d.tag==="Just"){if(d._1.tag==="Right")return L("Just",d._1._1);if(d._1.tag==="Left")return N(d._1._1,G=>L("Just",0),G=>D);v()}v()})();return H._1(L("Just",(()=>{if(d.tag==="Nothing")return En("Left",S);if(d.tag==="Just"){if(d._1.tag==="Right")return En("Left",S-d._1._1);if(d._1.tag==="Left")return N(d._1._1,G=>En("Left",S),zt);v()}v()})()))(),Kr(k)(hn.push)(),z.push((()=>{if(k.tag==="Nothing")return!1;if(k.tag==="Just")return!0;v()})())()})})})()),ml()((()=>{const g=Ke(M);return(y,O)=>g(y,h=>{const d=ee(0)(1)(h),w="position: absolute; left: calc(50.0% - 50.0px); top: calc("+rn(d*100)+"% - "+rn(d*100)+"px);";return O(w)})})())]))([Nr(On.empty)([Sr(_n([Yr()("linearGradientArm"),Xr()("userSpaceOnUse"),(g,y)=>{let O=()=>{};const h=Ae(0)($(0,50)),d=Ae(0)($(0,-50));return O(),O=_n([zr()(rn(h._1)),Gr()(rn(d._1)),Ur()(rn(h._2)),Qr()(rn(d._2))])(g,y),()=>{O()}}]))([Ge(_n([Qe()("0"),He()("#6b91ab"),Ve()("0.9")]))([]),Ge(_n([Qe()("1"),He()("#f3feff"),Ve()("0.95")]))([])])]),yt(_n([Nt()("#bfe6ff"),Lt()("butt"),St()("miter"),Rt()("1"),(g,y)=>Y(g,O=>{const h={key:"transform",value:J("Prop'","rotate("+rn(Pe(O+30)(60)-30)+")")};return y(h)})]))((()=>{const g=[1,3,3,6,4,4,5,3,1];return se([[Tt(_n([Zr()(Dt(i([$(g,g),$(g,g),$(g,g),$(g,g),$(g,g),$(g,g)]))),Pt()(".91"),Ft()("none"),It()("0.6"),Bt()("none")]))([])]])(xe)})())])])),$t(On.empty)([We((g,y)=>(y("Click on the large snowflake to start the music!"),()=>{}))]),$t(On.empty)([We((g,y)=>(y("(iPhone/iPad users: turn on your ringer to hear sound.)"),()=>{}))]),$t(On.empty)([We((g,y)=>(y("This slider clips the higher frequencies from the snowflake FFT display (right = all frequencies, left = just the bottom 6 arms*9 tines worth of bins):"),()=>{}))]),Lr(_n([no()("range"),eo()("0.0"),to()("1.0"),ro()("any"),hl()("0.5"),gs(f.push)]))([]),pe(_n([de()("240.0"),ge()("240.0"),Jt()("display:block")]))(se(Un([[ze(_n([xt()("240.0"),qt()("0.0"),Mt()("1.0"),Wt()((g,y)=>{y("240.0");const O=u(g,h=>{const d=rn(240-re(h)/400);return y(d)});return()=>O()}),je()("white")]))([])],se(Tr)(g=>{const y=Ke((h,d)=>c(h,w=>{const C=ae(w)(g);if(C.tag==="Just"){const S=Kt(C._1.corrected/100);return d(S)}})),O=Ke((h,d)=>c(h,w=>{const C=ae(w)(g);if(C.tag==="Just"){const S=Kt(C._1.original/100);return d(S)}}));return ln(h=>ze(h)([]))([_n([xt()("20.0"),qt()(rn(un(g)*20)),oo()((h,d)=>O(h,w=>{const C=rn(w);return d(C)})),Wt()((h,d)=>O(h,w=>{const C=rn(240-w);return d(C)})),je()("gray")]),_n([xt()("20.0"),qt()(rn(un(g)*20)),oo()((h,d)=>y(h,w=>{const C=rn(w);return d(C)})),Wt()((h,d)=>y(h,w=>{const C=rn(240-w);return d(C)})),vl()((h,d)=>b(h,w=>{const C=w.tag==="Just"&&g===w._1?"yellow":"green";return d(C)}))])])})]))(xe)),pe(_n([de()("240.0"),ge()("20.0"),Jt()("display:block")]))(Fn(g=>y=>{const O=fo((h,d)=>E(h,w=>{const C=ae(w)(g),S=(()=>{if(C.tag==="Nothing")return $(0,0);if(C.tag==="Just")return C._1;v()})(),N=$(S._1*240,S._2*240);return d(N)}));return ze(_n([Mt()("20.0"),uo()((h,d)=>O(h,w=>{const C=rn(w._1);return d(C)})),io()((h,d)=>O(h,w=>{const C=rn(w._2);return d(C)})),je()((()=>g===0?"red":Kn(g)(2)===0?"blue":"gray")())]))([])})(te(nr)())),pe(_n([de()("240.0"),ge()("20.0"),Jt()("display:block")]))(Fn(g=>y=>{const O=fo((h,d)=>nn(h,w=>{const C=ae(w)(g),S=(()=>{if(C.tag==="Nothing")return $(0,0);if(C.tag==="Just")return C._1;v()})(),N=$(S._1*240,S._2*240);return d(N)}));return ze(_n([Mt()("20.0"),uo()((h,d)=>O(h,w=>{const C=rn(w._1);return d(C)})),io()((h,d)=>O(h,w=>{const C=rn(w._2);return d(C)})),je()((()=>g===0?"red":Kn(g)(2)===0?"blue":"gray")())]))([])})(te(nr)())),ns(On.empty)([We((()=>{const g=lo((y,O)=>b(y,h=>{const d=(()=>{if(h.tag==="Nothing")return"?";if(h.tag==="Just")return h._1===0?"A":h._1===1?"Bb":h._1===2?"B":h._1===3?"C":h._1===4?"C#":h._1===5?"D":h._1===6?"D#":h._1===7?"E":h._1===8?"F":h._1===9?"F#":h._1===10?"G":h._1===11?"G#":"??";v()})();return O(d)}));return(y,O)=>{O("...");const h=g(y,O);return()=>h()}})())]),vt(On.empty)([]),vt(On.empty)([]),vt(On.empty)([]),pe(_n([de()("210.0"),ge()("210.0"),Ct()((()=>{const g=Et(" ")(rn),y=[-55,-55,110,110];return y.length>0?g(y):""})()),jr((()=>{const g=me.apply((y,O)=>H._2(y,h=>{const d=jn(h);return O(d)}))(K);return(y,O)=>g(y,h=>{const d=h._1,w=h._2;return O(()=>{const C=w();q._1(()=>C)();const S=wt(C)(),N=(G,W,yn)=>{const vn=S-G;return vn>o?W(vn):yn(vn)},k=(()=>{if(d.tag==="Nothing")return L("Just",0);if(d.tag==="Just"){if(d._1.tag==="Right")return L("Just",d._1._1);if(d._1.tag==="Left")return N(d._1._1,G=>L("Just",0),G=>D);v()}v()})();return H._1(L("Just",(()=>{if(d.tag==="Nothing")return En("Left",S);if(d.tag==="Just"){if(d._1.tag==="Right")return En("Left",S-d._1._1);if(d._1.tag==="Left")return N(d._1._1,G=>En("Left",S),zt);v()}v()})()))(),Kr(k)(hn.push)(),z.push((()=>{if(k.tag==="Nothing")return!1;if(k.tag==="Just")return!0;v()})())()})})})())]))([yt(_n([Nt()("#bfe6ff"),Lt()("butt"),St()("miter"),Rt()("1")]))(se([[Tt(_n([yl()(lo((g,y)=>{const O=d=>{const w=Dt(i(Rl((()=>{const C=kl(6)(9)(ln(S=>S._2/(32-S._1*24))(d));return $(C,C)})())));return y(w)};O([$(0,0)]);const h=_(g,O);return()=>h()})),Pt()(".91"),Ft()("none"),It()("0.6"),Bt()("none")]))([])]])(xe))]),De(On.empty)(ln(g=>Lr(_n([no()("range"),eo()("0.0"),to()("1.0"),ro()("any"),$l()((y,O)=>{O(rn(g(ao)));const h=en(y,d=>{const w=rn(g(d));return O(w)});return()=>h()})]))([]))(ln(g=>y=>g(y.tracking))([g=>g.targetSpeed/360,g=>g.currentAccel/500/2+.5,g=>g.currentSpeed/360]))),pe(_n([de()("110.0"),ge()("110.0"),Ct()((()=>{const g=Et(" ")(rn),y=[-55,-55,110,110];return y.length>0?g(y):""})()),Vr()((g,y)=>K(g,O=>y(()=>{const h=O();return q._1(()=>h)(),X.push()()})))]))([Nr(On.empty)([Sr(_n([Yr()("linearGradientArm"),Xr()("userSpaceOnUse"),(g,y)=>{let O=()=>{};const h=Ae(0)($(0,50)),d=Ae(0)($(0,-50));return O(),O=_n([zr()(rn(h._1)),Gr()(rn(d._1)),Ur()(rn(h._2)),Qr()(rn(d._2))])(g,y),()=>{O()}}]))([Ge(_n([Qe()("0"),He()("#6b91ab"),Ve()("0.9")]))([]),Ge(_n([Qe()("1"),He()("#f3feff"),Ve()("0.95")]))([])])]),yt(_n([Nt()("#bfe6ff"),Lt()("butt"),St()("miter"),Rt()("1"),(g,y)=>Y(g,O=>{const h={key:"transform",value:J("Prop'","rotate("+rn(Pe(O+30)(60)-30)+")")};return y(h)})]))((()=>{const g=[1,3,3,6,4,4,5,3,1];return se([[Tt(_n([Zr()(Dt(i([$(g,g),$(g,g),$(g,g),$(g,g),$(g,g),$(g,g)]))),Pt()(".91"),Ft()("none"),It()("0.6"),Bt()("none")]))([])]])(xe)})())])])})}));return()=>{tn()}})()))))))))))))))))))}))})))));return()=>{e().run()}})();Vl();
